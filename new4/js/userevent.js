ew.events={patient:{x_dob:{"change keyup paste mouseup onChangeMonthYear onClose onSelect create picker_event hide changeDate":function(e){var t,n=$(this).fields(),l=n.dob[0].value.split("/"),i=new Date(l[2],l[1]-1,l[0]),o=new Date,a=(new Date(o.getYear(),o.getMonth(),o.getDate()),o.getYear()),d=o.getMonth(),m=o.getDate(),u=i.getYear(),r=i.getMonth(),s=i.getDate(),c="",y="",g="",v="";if(yearAge=a-u,d>=r)var I=d-r;else{yearAge--;I=12+d-r}if(m>=s)var b=m-s;else{b=31+m-s;--I<0&&(I=11,yearAge--)}y=(t={years:yearAge,months:I,days:b}).years>1?" years":" year",g=t.months>1?" months":" month",v=t.days>1?" days":" day",c=t.years>0&&t.months>0&&t.days>0?t.years<5?t.years+y+", "+t.months+g+", and "+t.days+v+" old.":t.years+y+", and "+t.months+g+" old.":0==t.years&&0==t.months&&t.days>0?"Only "+t.days+v+" old!":t.years>0&&0==t.months&&0==t.days?t.years+y+" old. Happy Birthday!!":t.years>0&&t.months>0&&0==t.days?t.years+y+" and "+t.months+g+" old.":0==t.years&&t.months>0&&t.days>0?t.months+g+" and "+t.days+v+" old.":t.years>0&&0==t.months&&t.days>0?t.years+y+" and "+t.days+v+" old.":0==t.years&&t.months>0&&0==t.days?t.months+g+" old.":" ",n.Age.value(c)}},x_Age:{"change keyup":function(e){var t=$(this).fields(),n=new Date,l=t.Age.toNumber();n.setFullYear(n.getFullYear()-l);var i=n.getDate()+"/"+("0"+(n.getMonth()+1)).slice(-2)+"/"+n.getFullYear();t.dob.val(i)}},x_spouse_dob:{"change keyup paste mouseup onChangeMonthYear onClose onSelect create picker_event hide changeDate":function(e){var t,n=$(this).fields(),l=n.spouse_dob[0].value.split("/"),i=new Date(l[2],l[1]-1,l[0]),o=new Date,a=(new Date(o.getYear(),o.getMonth(),o.getDate()),o.getYear()),d=o.getMonth(),m=o.getDate(),u=i.getYear(),r=i.getMonth(),s=i.getDate(),c="",y="",g="",v="";if(yearAge=a-u,d>=r)var I=d-r;else{yearAge--;I=12+d-r}if(m>=s)var b=m-s;else{b=31+m-s;--I<0&&(I=11,yearAge--)}y=(t={years:yearAge,months:I,days:b}).years>1?" years":" year",g=t.months>1?" months":" month",v=t.days>1?" days":" day",c=t.years>0&&t.months>0&&t.days>0?t.years<5?t.years+y+", "+t.months+g+", and "+t.days+v+" old.":t.years+y+", and "+t.months+g+" old.":0==t.years&&0==t.months&&t.days>0?"Only "+t.days+v+" old!":t.years>0&&0==t.months&&0==t.days?t.years+y+" old. Happy Birthday!!":t.years>0&&t.months>0&&0==t.days?t.years+y+" and "+t.months+g+" old.":0==t.years&&t.months>0&&t.days>0?t.months+g+" and "+t.days+v+" old.":t.years>0&&0==t.months&&t.days>0?t.years+y+" and "+t.days+v+" old.":0==t.years&&t.months>0&&0==t.days?t.months+g+" old.":" ",n.spouse_Age.value(c)}},x_spouse_Age:{"change keyup":function(e){var t=$(this).fields(),n=new Date,l=t.spouse_Age.toNumber();n.setFullYear(n.getFullYear()-l);var i=n.getDate()+"/"+("0"+(n.getMonth()+1)).slice(-2)+"/"+n.getFullYear();t.spouse_dob.val(i)}}},ip_admission:{x_DOB:{"change keyup paste mouseup onChangeMonthYear onClose onSelect create picker_event hide changeDate":function(e){var t,n=$(this).fields(),l=n.DOB[0].value.split("/"),i=new Date(l[2],l[1]-1,l[0]),o=new Date,a=(new Date(o.getYear(),o.getMonth(),o.getDate()),o.getYear()),d=o.getMonth(),m=o.getDate(),u=i.getYear(),r=i.getMonth(),s=i.getDate(),c="",y="",g="",v="";if(yearAge=a-u,d>=r)var I=d-r;else{yearAge--;I=12+d-r}if(m>=s)var b=m-s;else{b=31+m-s;--I<0&&(I=11,yearAge--)}y=(t={years:yearAge,months:I,days:b}).years>1?" years":" year",g=t.months>1?" months":" month",v=t.days>1?" days":" day",c=t.years>0&&t.months>0&&t.days>0?t.years<5?t.years+y+", "+t.months+g+", and "+t.days+v+" old.":t.years+y+", and "+t.months+g+" old.":0==t.years&&0==t.months&&t.days>0?"Only "+t.days+v+" old!":t.years>0&&0==t.months&&0==t.days?t.years+y+" old. Happy Birthday!!":t.years>0&&t.months>0&&0==t.days?t.years+y+" and "+t.months+g+" old.":0==t.years&&t.months>0&&t.days>0?t.months+g+" and "+t.days+v+" old.":t.years>0&&0==t.months&&t.days>0?t.years+y+" and "+t.days+v+" old.":0==t.years&&t.months>0&&0==t.days?t.months+g+" old.":" ",n.age.value(c)}}},ivf:{x_Male:{"change keyup":function(e){var t=$(this).fields(),n=[{patientId:t.Male.toNumber()}],l=JSON.stringify(n);$.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPicture",data:{data:l},cache:!1,success:function(e){for(var n=JSON.parse(e).records,l=0;l<n.length;l++){var i=n[l];null==i.profilePic?(t.malepic.value("hims\\profile-picture.png"),document.getElementById("maleprofilePicturePatient").src="uploads/hims\\profile-picture.png"):(t.malepic.value(i.profilePic),document.getElementById("maleprofilePicturePatient").src="uploads/"+i.profilePic),document.getElementById("maleprofilePicturePatient").style.display="block"}}})}},x_Female:{change:function(e){var t=$(this).fields(),n=[{patientId:t.Female.toNumber()}],l=JSON.stringify(n);$.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPicture",data:{data:l},cache:!1,success:function(e){for(var n=JSON.parse(e).records,l=0;l<n.length;l++){var i=n[l];null==i.profilePic?(t.femalepic.value("hims\\profile-picture.png"),document.getElementById("femaleprofilePicturePatient").src="uploads/hims\\profile-picture.png"):(t.femalepic.value(i.profilePic),document.getElementById("femaleprofilePicturePatient").src="uploads/"+i.profilePic),document.getElementById("femaleprofilePicturePatient").style.display="block"}}})}}},ivf_semenanalysisreport:{x_RequestSample:{"change onchange":function(e){var t=$(this).fields().RequestSample.value(),n=document.getElementById("TankLocation"),l=document.getElementById("Method");(i=document.getElementById("capacitationTable")).style.width="60%",document.getElementById("Volume1").style.visibility="hidden",document.getElementById("Concentration1").style.visibility="hidden",document.getElementById("Total1").style.visibility="hidden",document.getElementById("ProgressiveMotility1").style.visibility="hidden",document.getElementById("NonProgrssiveMotile1").style.visibility="hidden",document.getElementById("Immotile1").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile1").style.visibility="hidden",document.getElementById("capacitationTableHead").style.visibility="hidden",document.getElementById("PreCapacitation").innerText="",document.getElementById("PostCapacitation").innerText="",document.getElementById("x_Volume1").style.width="0px",document.getElementById("x_Concentration1").style.width="0px",document.getElementById("x_Total1").style.width="0px",document.getElementById("x_ProgressiveMotility1").style.width="0px",document.getElementById("x_NonProgrssiveMotile1").style.width="0px",document.getElementById("x_Immotile1").style.width="0px",document.getElementById("x_TotalProgrssiveMotile1").style.width="0px",document.getElementById("x_Volume2").style.width="0px",document.getElementById("x_Concentration2").style.width="0px",document.getElementById("x_Total2").style.width="0px",document.getElementById("x_ProgressiveMotility2").style.width="0px",document.getElementById("x_NonProgrssiveMotile2").style.width="0px",document.getElementById("x_Immotile2").style.width="0px",document.getElementById("x_TotalProgrssiveMotile2").style.width="0px",document.getElementById("Volume2").style.visibility="hidden",document.getElementById("Concentration2").style.visibility="hidden",document.getElementById("Total2").style.visibility="hidden",document.getElementById("ProgressiveMotility2").style.visibility="hidden",document.getElementById("NonProgrssiveMotile2").style.visibility="hidden",document.getElementById("Immotile2").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile2").style.visibility="hidden",document.getElementById("Big").style.visibility="hidden",document.getElementById("Medium").style.visibility="hidden",document.getElementById("Small").style.visibility="hidden",document.getElementById("NoHalo").style.visibility="hidden",document.getElementById("Fragmented").style.visibility="hidden",document.getElementById("NonFragmented").style.visibility="hidden",document.getElementById("DFI").style.visibility="hidden",document.getElementById("InseminationTime").style.visibility="hidden",document.getElementById("InseminationBy").style.visibility="hidden",document.getElementById("IsueBy").style.visibility="hidden",document.getElementById("idMacs").style.visibility="hidden",document.getElementById("SemenHeading").innerText="Spermiogram","Freezing"==t?(document.getElementById("SemenHeading").innerText="Semen Freezing",n.style.visibility="visible",l.style.visibility="visible"):(n.style.visibility="hidden",l.style.visibility="visible");var i=document.getElementById("capacitationTable");if("Semen Analysis"==t)i.style.width="60%",document.getElementById("Volume1").style.visibility="hidden",document.getElementById("Concentration1").style.visibility="hidden",document.getElementById("Total1").style.visibility="hidden",document.getElementById("ProgressiveMotility1").style.visibility="hidden",document.getElementById("NonProgrssiveMotile1").style.visibility="hidden",document.getElementById("Immotile1").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile1").style.visibility="hidden",document.getElementById("capacitationTableHead").style.visibility="hidden",document.getElementById("PreCapacitation").innerText="",document.getElementById("PostCapacitation").innerText="",document.getElementById("x_Volume1").style.width="0px",document.getElementById("x_Concentration1").style.width="0px",document.getElementById("x_Total1").style.width="0px",document.getElementById("x_ProgressiveMotility1").style.width="0px",document.getElementById("x_NonProgrssiveMotile1").style.width="0px",document.getElementById("x_Immotile1").style.width="0px",document.getElementById("x_TotalProgrssiveMotile1").style.width="0px",document.getElementById("x_Volume2").style.width="0px",document.getElementById("x_Concentration2").style.width="0px",document.getElementById("x_Total2").style.width="0px",document.getElementById("x_ProgressiveMotility2").style.width="0px",document.getElementById("x_NonProgrssiveMotile2").style.width="0px",document.getElementById("x_Immotile2").style.width="0px",document.getElementById("x_TotalProgrssiveMotile2").style.width="0px",document.getElementById("Volume2").style.visibility="hidden",document.getElementById("Concentration2").style.visibility="hidden",document.getElementById("Total2").style.visibility="hidden",document.getElementById("ProgressiveMotility2").style.visibility="hidden",document.getElementById("NonProgrssiveMotile2").style.visibility="hidden",document.getElementById("Immotile2").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile2").style.visibility="hidden",document.getElementById("Big").style.visibility="hidden",document.getElementById("Medium").style.visibility="hidden",document.getElementById("Small").style.visibility="hidden",document.getElementById("NoHalo").style.visibility="hidden",document.getElementById("Fragmented").style.visibility="hidden",document.getElementById("NonFragmented").style.visibility="hidden",document.getElementById("DFI").style.visibility="hidden",document.getElementById("InseminationTime").style.visibility="hidden",document.getElementById("InseminationBy").style.visibility="hidden",document.getElementById("IsueBy").style.visibility="hidden";else if("ICSI"==t){i.style.width="60%",document.getElementById("Volume1").style.visibility="hidden",document.getElementById("Concentration1").style.visibility="hidden",document.getElementById("Total1").style.visibility="hidden",document.getElementById("ProgressiveMotility1").style.visibility="hidden",document.getElementById("NonProgrssiveMotile1").style.visibility="hidden",document.getElementById("Immotile1").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile1").style.visibility="hidden",document.getElementById("capacitationTableHead").style.visibility="hidden",document.getElementById("PreCapacitation").innerText="",document.getElementById("PostCapacitation").innerText="",document.getElementById("x_Volume1").style.width="0px",document.getElementById("x_Concentration1").style.width="0px",document.getElementById("x_Total1").style.width="0px",document.getElementById("x_ProgressiveMotility1").style.width="0px",document.getElementById("x_NonProgrssiveMotile1").style.width="0px",document.getElementById("x_Immotile1").style.width="0px",document.getElementById("x_TotalProgrssiveMotile1").style.width="0px",document.getElementById("x_Volume2").style.width="0px",document.getElementById("x_Concentration2").style.width="0px",document.getElementById("x_Total2").style.width="0px",document.getElementById("x_ProgressiveMotility2").style.width="0px",document.getElementById("x_NonProgrssiveMotile2").style.width="0px",document.getElementById("x_Immotile2").style.width="0px",document.getElementById("x_TotalProgrssiveMotile2").style.width="0px",document.getElementById("Volume2").style.visibility="hidden",document.getElementById("Concentration2").style.visibility="hidden",document.getElementById("Total2").style.visibility="hidden",document.getElementById("ProgressiveMotility2").style.visibility="hidden",document.getElementById("NonProgrssiveMotile2").style.visibility="hidden",document.getElementById("Immotile2").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile2").style.visibility="hidden",document.getElementById("Big").style.visibility="hidden",document.getElementById("Medium").style.visibility="hidden",document.getElementById("Small").style.visibility="hidden",document.getElementById("NoHalo").style.visibility="hidden",document.getElementById("Fragmented").style.visibility="hidden",document.getElementById("NonFragmented").style.visibility="hidden",document.getElementById("DFI").style.visibility="hidden",document.getElementById("InseminationTime").style.visibility="hidden",document.getElementById("InseminationBy").style.visibility="hidden",document.getElementById("IsueBy").style.visibility="hidden",document.getElementById("IsueBy").style.visibility="visible",i.style.width="100%",document.getElementById("Volume1").style.visibility="visible",document.getElementById("Concentration1").style.visibility="visible",document.getElementById("Total1").style.visibility="visible",document.getElementById("ProgressiveMotility1").style.visibility="visible",document.getElementById("NonProgrssiveMotile1").style.visibility="visible",document.getElementById("Immotile1").style.visibility="visible",document.getElementById("TotalProgrssiveMotile1").style.visibility="visible",document.getElementById("capacitationTableHead").style.visibility="visible",document.getElementById("idMacs").style.visibility="visible",document.getElementById("PreCapacitation").innerText="Pre Capacitation",document.getElementById("PostCapacitation").innerText="Post Capacitation",document.getElementById("x_Volume1").style.width="80px",document.getElementById("x_Concentration1").style.width="80px",document.getElementById("x_Total1").style.width="80px",document.getElementById("x_ProgressiveMotility1").style.width="80px",document.getElementById("x_NonProgrssiveMotile1").style.width="80px",document.getElementById("x_Immotile1").style.width="80px",document.getElementById("x_TotalProgrssiveMotile1").style.width="80px"}else"DFI"==t?(document.getElementById("SemenHeading").innerText="DNA Framgmentation Index",document.getElementById("Big").style.visibility="visible",document.getElementById("Medium").style.visibility="visible",document.getElementById("Small").style.visibility="visible",document.getElementById("NoHalo").style.visibility="visible",document.getElementById("Fragmented").style.visibility="visible",document.getElementById("NonFragmented").style.visibility="visible",document.getElementById("DFI").style.visibility="visible"):"IUI processing"==t?(document.getElementById("SemenHeading").innerText="INTRA UTERINE INSEMINATION",document.getElementById("Big").style.visibility="hidden",document.getElementById("Medium").style.visibility="hidden",document.getElementById("Small").style.visibility="hidden",document.getElementById("NoHalo").style.visibility="hidden",document.getElementById("Fragmented").style.visibility="hidden",document.getElementById("NonFragmented").style.visibility="hidden",document.getElementById("DFI").style.visibility="hidden",i.style.width="100%",document.getElementById("Volume1").style.visibility="visible",document.getElementById("Concentration1").style.visibility="visible",document.getElementById("Total1").style.visibility="visible",document.getElementById("ProgressiveMotility1").style.visibility="visible",document.getElementById("NonProgrssiveMotile1").style.visibility="visible",document.getElementById("Immotile1").style.visibility="visible",document.getElementById("TotalProgrssiveMotile1").style.visibility="visible",document.getElementById("capacitationTableHead").style.visibility="visible",document.getElementById("InseminationTime").style.visibility="visible",document.getElementById("InseminationBy").style.visibility="visible",document.getElementById("PreCapacitation").innerText="Pre Capacitation",document.getElementById("PostCapacitation").innerText="Post Capacitation",document.getElementById("x_Volume1").style.width="80px",document.getElementById("x_Concentration1").style.width="80px",document.getElementById("x_Total1").style.width="80px",document.getElementById("x_ProgressiveMotility1").style.width="80px",document.getElementById("x_NonProgrssiveMotile1").style.width="80px",document.getElementById("x_Immotile1").style.width="80px",document.getElementById("x_TotalProgrssiveMotile1").style.width="80px",document.getElementById("idMacs").style.visibility="visible"):(i.style.width="60%",document.getElementById("Volume1").style.visibility="hidden",document.getElementById("Concentration1").style.visibility="hidden",document.getElementById("Total1").style.visibility="hidden",document.getElementById("ProgressiveMotility1").style.visibility="hidden",document.getElementById("NonProgrssiveMotile1").style.visibility="hidden",document.getElementById("Immotile1").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile1").style.visibility="hidden",document.getElementById("capacitationTableHead").style.visibility="hidden",document.getElementById("PreCapacitation").innerText="",document.getElementById("PostCapacitation").innerText="",document.getElementById("x_Volume1").style.width="0px",document.getElementById("x_Concentration1").style.width="0px",document.getElementById("x_Total1").style.width="0px",document.getElementById("x_ProgressiveMotility1").style.width="0px",document.getElementById("x_NonProgrssiveMotile1").style.width="0px",document.getElementById("x_Immotile1").style.width="0px",document.getElementById("x_TotalProgrssiveMotile1").style.width="0px")}},x_Volume:{"change keyup":function(e){var t=$(this).fields(),n=t.Volume.toNumber()*t.Concentration.toNumber();t.Total.val(n.toFixed(2))}},x_Concentration:{"change keyup":function(e){var t=$(this).fields(),n=t.Volume.toNumber()*t.Concentration.toNumber();t.Total.val(n.toFixed(2))}},x_Total:{"change keyup":function(e){var t=$(this).fields();t.Volume.toNumber(),t.Concentration.toNumber()}},x_ProgressiveMotility:{"change keyup":function(e){var t=$(this).fields(),n=t.ProgressiveMotility.toNumber(),l=t.NonProgrssiveMotile.toNumber(),i=100-(n+l);t.Immotile.val(i.toFixed(2));var o=n+l;t.TotalProgrssiveMotile.val(o.toFixed(2))}},x_NonProgrssiveMotile:{"change keyup":function(e){var t=$(this).fields(),n=t.ProgressiveMotility.toNumber(),l=t.NonProgrssiveMotile.toNumber(),i=100-(n+l);t.Immotile.val(i.toFixed(2));var o=n+l;t.TotalProgrssiveMotile.val(o.toFixed(2))}},x_Immotile:{"change keyup":function(e){var t=$(this).fields(),n=100-(t.ProgressiveMotility.toNumber()+t.NonProgrssiveMotile.toNumber());t.Immotile.val(n.toFixed(2))}},x_Normal:{"change keyup":function(e){var t=$(this).fields(),n=t.Normal.toNumber();t.Abnormal.val(100-n)}},x_Abnormal:{"change keyup":function(e){var t=$(this).fields(),n=t.Abnormal.toNumber();t.Normal.val(100-n)}},x_Headdefects:{"change keyup":function(e){var t=$(this).fields(),n=t.Headdefects.toNumber(),l=t.MidpieceDefects.toNumber(),i=t.Abnormal.toNumber()-(n+l);t.TailDefects.val(i.toFixed(2))}},x_MidpieceDefects:{"change keyup":function(e){var t=$(this).fields(),n=t.Headdefects.toNumber(),l=t.MidpieceDefects.toNumber(),i=t.Abnormal.toNumber()-(n+l);t.TailDefects.val(i.toFixed(2))}},x_TailDefects:{"change keyup":function(e){var t=$(this).fields(),n=t.Headdefects.toNumber(),l=t.MidpieceDefects.toNumber(),i=t.Abnormal.toNumber()-(n+l);t.TailDefects.val(i.toFixed(2))}},x_SemenOrgin:{"change onchange":function(e){var t=$(this).fields().SemenOrgin.value(),n=document.getElementById("donorId"),l=document.getElementById("DonorBloodGroupId");"Donor"==t?(n.style.visibility="visible",l.style.visibility="visible"):(n.style.visibility="hidden",l.style.visibility="hidden")}},x_Volume1:{"change keyup":function(e){var t=$(this).fields(),n=t.Volume1.toNumber()*t.Concentration1.toNumber();t.Total1.val(n)}},x_Concentration1:{"change keyup":function(e){var t=$(this).fields(),n=t.Volume1.toNumber()*t.Concentration1.toNumber();t.Total1.val(n)}},x_ProgressiveMotility1:{"change keyup":function(e){var t=$(this).fields(),n=t.ProgressiveMotility1.toNumber(),l=t.NonProgrssiveMotile1.toNumber(),i=100-(n+l);t.Immotile1.val(i),t.TotalProgrssiveMotile1.val(n+l)}},x_NonProgrssiveMotile1:{"change keyup":function(e){var t=$(this).fields(),n=t.ProgressiveMotility1.toNumber(),l=t.NonProgrssiveMotile1.toNumber(),i=100-(n+l);t.Immotile1.val(i),t.TotalProgrssiveMotile1.val(n+l)}},x_Big:{"change keyup":function(e){var t=$(this).fields(),n=t.Big.toNumber(),l=t.Medium.toNumber(),i=t.Small.toNumber(),o=t.NoHalo.toNumber();t.Fragmented.val(n+l),t.NonFragmented.val(i+o),t.DFI.val((n+l)/(n+l+i+o)*100)}},x_Medium:{"change keyup":function(e){var t=$(this).fields(),n=t.Big.toNumber(),l=t.Medium.toNumber(),i=t.Small.toNumber(),o=t.NoHalo.toNumber();t.Fragmented.val(n+l),t.NonFragmented.val(i+o),t.DFI.val((n+l)/(n+l+i+o)*100)}},x_Small:{"change keyup":function(e){var t=$(this).fields(),n=t.Big.toNumber(),l=t.Medium.toNumber(),i=t.Small.toNumber(),o=t.NoHalo.toNumber();t.Fragmented.val(n+l),t.NonFragmented.val(i+o),t.DFI.val((n+l)/(n+l+i+o)*100)}},x_NoHalo:{"change keyup":function(e){var t=$(this).fields(),n=t.Big.toNumber(),l=t.Medium.toNumber(),i=t.Small.toNumber(),o=t.NoHalo.toNumber();t.Fragmented.val(n+l),t.NonFragmented.val(i+o),t.DFI.val((n+l)/(n+l+i+o)*100)}},x_Volume2:{"change keyup":function(e){var t=$(this).fields(),n=t.Volume2.toNumber()*t.Concentration2.toNumber();t.Total2.val(n)}},x_Concentration2:{"change keyup":function(e){var t=$(this).fields(),n=t.Volume2.toNumber()*t.Concentration2.toNumber();t.Total2.val(n)}},x_ProgressiveMotility2:{"change keyup":function(e){var t=$(this).fields(),n=t.ProgressiveMotility2.toNumber(),l=t.NonProgrssiveMotile2.toNumber(),i=100-(n+l);t.Immotile2.val(i),t.TotalProgrssiveMotile2.val(n+l)}},x_NonProgrssiveMotile2:{"change keyup":function(e){var t=$(this).fields(),n=t.ProgressiveMotility2.toNumber(),l=t.NonProgrssiveMotile2.toNumber(),i=100-(n+l);t.Immotile2.val(i),t.TotalProgrssiveMotile2.val(n+l)}},x_MACS:{click:function(e){"MACS"==$(this).fields().MACS.value()?(document.getElementById("Volume2").style.visibility="visible",document.getElementById("Concentration2").style.visibility="visible",document.getElementById("Total2").style.visibility="visible",document.getElementById("ProgressiveMotility2").style.visibility="visible",document.getElementById("NonProgrssiveMotile2").style.visibility="visible",document.getElementById("Immotile2").style.visibility="visible",document.getElementById("TotalProgrssiveMotile2").style.visibility="visible",document.getElementById("x_Volume2").style.width="80px",document.getElementById("x_Concentration2").style.width="80px",document.getElementById("x_Total2").style.width="80px",document.getElementById("x_ProgressiveMotility2").style.width="80px",document.getElementById("x_NonProgrssiveMotile2").style.width="80px",document.getElementById("x_Immotile2").style.width="80px",document.getElementById("x_TotalProgrssiveMotile2").style.width="80px"):(document.getElementById("x_Volume2").style.width="0px",document.getElementById("x_Concentration2").style.width="0px",document.getElementById("x_Total2").style.width="0px",document.getElementById("x_ProgressiveMotility2").style.width="0px",document.getElementById("x_NonProgrssiveMotile2").style.width="0px",document.getElementById("x_Immotile2").style.width="0px",document.getElementById("x_TotalProgrssiveMotile2").style.width="0px",document.getElementById("Volume2").style.visibility="hidden",document.getElementById("Concentration2").style.visibility="hidden",document.getElementById("Total2").style.visibility="hidden",document.getElementById("ProgressiveMotility2").style.visibility="hidden",document.getElementById("NonProgrssiveMotile2").style.visibility="hidden",document.getElementById("Immotile2").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile2").style.visibility="hidden")}}},pres_tradenames_new:{x_TypeOfDrug:{"change onchange":function(e){var t=$(this).fields().TypeOfDrug.value();document.getElementById("Combination1").style.display="block",document.getElementById("Combination2").style.display="none",document.getElementById("Combination3").style.display="none",document.getElementById("Combination4").style.display="none",document.getElementById("Combination5").style.display="none",document.getElementById("Combination6").style.display="none","2"==t&&(document.getElementById("Combination2").style.display="block",document.getElementById("Combination3").style.display="block",document.getElementById("Combination4").style.display="block",document.getElementById("Combination5").style.display="block",document.getElementById("Combination6").style.display="block")}},x_ProductType:{"change onchange":function(e){var t=$(this).fields().ProductType.value();document.getElementById("DrugDetails").style.display="none",document.getElementById("Combination1").style.display="none",document.getElementById("Combination2").style.display="none",document.getElementById("Combination3").style.display="none",document.getElementById("Combination4").style.display="none",document.getElementById("Combination5").style.display="none",document.getElementById("Combination6").style.display="none","DRUG"==t&&(document.getElementById("DrugDetails").style.display="block",document.getElementById("Combination1").style.display="block")}}},patient_vitals:{x_PatientSearch:{"change keyup":function(e){var t=[{patientId:$(this).fields().PatientSearch.toNumber()}],n=JSON.stringify(t);$.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPictureMRN",data:{data:n},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var l=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+l.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+l.first_name,null==l.gender&&(l.gender=""),null==l.blood_group&&(l.blood_group=""),null==l.Age&&(l.Age=""),null==l.mobile_no&&(l.mobile_no=""),null==l.PEmail&&(l.PEmail=""),null==l.mrnNo&&(l.mrnNo=""),document.getElementById("SemPatientGender").innerText="Gender : "+l.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+l.blood_group;var i="";i=""==l.profilePic||null==l.profilePic?"hims/profile-picture.png":l.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+i,document.getElementById("SemPatientAge").innerText="Age : "+l.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+l.mobile_no,document.getElementById("SemPatientEmail").innerText="MRN No : "+l.mrnNo,document.getElementById("x_Reception").value=l.Reception,document.getElementById("x_PatientId").value=l.patientIdOne,document.getElementById("x_mrnno").value=l.mrnNo,document.getElementById("x_PatientName").value=l.first_name,document.getElementById("x_Age").value=l.Age,document.getElementById("x_Gender").value=l.gender,document.getElementById("x_profilePic").value=i,document.getElementById("x_PatID").value=l.PatientID,document.getElementById("x_MobileNumber").value=l.mobile_no}}})}}},patient_opd_follow_up:{x_PatientSearch:{"change keyup":function(e){var t=[{patientId:$(this).fields().PatientSearch.toNumber()}],n=JSON.stringify(t);$.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPictureprocedurenotes",data:{data:n},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var l=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+l.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+l.first_name,null==l.gender&&(l.gender=""),null==l.blood_group&&(l.blood_group=""),null==l.Age&&(l.Age=""),null==l.mobile_no&&(l.mobile_no=""),null==l.PEmail&&(l.PEmail=""),null==l.mrnNo&&(l.mrnNo=""),document.getElementById("SemPatientGender").innerText="Gender : "+l.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+l.blood_group;var i="";i=""==l.profilePic||null==l.profilePic?"hims/profile-picture.png":l.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+i,document.getElementById("SemPatientAge").innerText="Age : "+l.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+l.mobile_no,document.getElementById("SemPatientEmail").innerText="MRN No : "+l.mrnNo,document.getElementById("x_Reception").value=l.Reception,document.getElementById("x_PatientId").value=l.patientIdOne,document.getElementById("x_mrnno").value=l.mrnNo,document.getElementById("x_PatientName").value=l.first_name,document.getElementById("x_Age").value=l.Age,document.getElementById("x_Gender").value=l.gender,document.getElementById("x_profilePic").value=i,document.getElementById("x_PatID").value=l.PatientID,document.getElementById("x_MobileNumber").value=l.mobile_no,document.getElementById("iidprocedurenotes").innerHTML=l.iidprocedurenotes,document.getElementById("iidICSIDate").innerHTML=l.iidICSIDate}}})}}},patient_history:{x_PatientSearch:{"change keyup":function(e){var t=[{patientId:$(this).fields().PatientSearch.toNumber()}],n=JSON.stringify(t);$.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPictureMRN",data:{data:n},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var l=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+l.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+l.first_name,null==l.gender&&(l.gender=""),null==l.blood_group&&(l.blood_group=""),null==l.Age&&(l.Age=""),null==l.mobile_no&&(l.mobile_no=""),null==l.PEmail&&(l.PEmail=""),null==l.mrnNo&&(l.mrnNo=""),document.getElementById("SemPatientGender").innerText="Gender : "+l.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+l.blood_group;var i="";i=""==l.profilePic||null==l.profilePic?"hims/profile-picture.png":l.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+i,document.getElementById("SemPatientAge").innerText="Age : "+l.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+l.mobile_no,document.getElementById("SemPatientEmail").innerText="MRN No : "+l.mrnNo,document.getElementById("x_Reception").value=l.Reception,document.getElementById("x_PatientId").value=l.patientIdOne,document.getElementById("x_mrnno").value=l.mrnNo,document.getElementById("x_PatientName").value=l.first_name,document.getElementById("x_Age").value=l.Age,document.getElementById("x_Gender").value=l.gender,document.getElementById("x_profilePic").value=i,document.getElementById("x_PatID").value=l.PatientID,document.getElementById("x_MobileNumber").value=l.mobile_no}}})}}},patient_final_diagnosis:{x_PatientSearch:{"change keyup":function(e){var t=[{patientId:$(this).fields().PatientSearch.toNumber()}],n=JSON.stringify(t);$.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPictureMRN",data:{data:n},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var l=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+l.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+l.first_name,null==l.gender&&(l.gender=""),null==l.blood_group&&(l.blood_group=""),null==l.Age&&(l.Age=""),null==l.mobile_no&&(l.mobile_no=""),null==l.PEmail&&(l.PEmail=""),null==l.mrnNo&&(l.mrnNo=""),document.getElementById("SemPatientGender").innerText="Gender : "+l.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+l.blood_group;var i="";i=""==l.profilePic||null==l.profilePic?"hims/profile-picture.png":l.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+i,document.getElementById("SemPatientAge").innerText="Age : "+l.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+l.mobile_no,document.getElementById("SemPatientEmail").innerText="MRN No : "+l.mrnNo,document.getElementById("x_Reception").value=l.Reception,document.getElementById("x_PatientId").value=l.patientIdOne,document.getElementById("x_mrnno").value=l.mrnNo,document.getElementById("x_PatientName").value=l.first_name,document.getElementById("x_Age").value=l.Age,document.getElementById("x_Gender").value=l.gender,document.getElementById("x_profilePic").value=i,document.getElementById("x_PatID").value=l.PatientID,document.getElementById("x_MobileNumber").value=l.mobile_no}}})}}},patient_follow_up:{x_PatientSearch:{"change keyup":function(e){var t=[{patientId:$(this).fields().PatientSearch.toNumber()}],n=JSON.stringify(t);$.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPictureMRN",data:{data:n},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var l=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+l.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+l.first_name,null==l.gender&&(l.gender=""),null==l.blood_group&&(l.blood_group=""),null==l.Age&&(l.Age=""),null==l.mobile_no&&(l.mobile_no=""),null==l.PEmail&&(l.PEmail=""),null==l.mrnNo&&(l.mrnNo=""),document.getElementById("SemPatientGender").innerText="Gender : "+l.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+l.blood_group;var i="";i=""==l.profilePic||null==l.profilePic?"hims/profile-picture.png":l.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+i,document.getElementById("SemPatientAge").innerText="Age : "+l.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+l.mobile_no,document.getElementById("SemPatientEmail").innerText="MRN No : "+l.mrnNo,document.getElementById("x_Reception").value=l.Reception,document.getElementById("x_PatientId").value=l.patientIdOne,document.getElementById("x_mrnno").value=l.mrnNo,document.getElementById("x_PatientName").value=l.first_name,document.getElementById("x_Age").value=l.Age,document.getElementById("x_Gender").value=l.gender,document.getElementById("x_profilePic").value=i,document.getElementById("x_PatID").value=l.PatientID,document.getElementById("x_MobileNumber").value=l.mobile_no}}})}}},patient_ot_delivery_register:{x_PatientSearch:{"change keyup":function(e){var t=[{patientId:$(this).fields().PatientSearch.toNumber()}],n=JSON.stringify(t);$.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPictureMRN",data:{data:n},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var l=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+l.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+l.first_name,null==l.gender&&(l.gender=""),null==l.blood_group&&(l.blood_group=""),null==l.Age&&(l.Age=""),null==l.mobile_no&&(l.mobile_no=""),null==l.PEmail&&(l.PEmail=""),null==l.mrnNo&&(l.mrnNo=""),document.getElementById("SemPatientGender").innerText="Gender : "+l.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+l.blood_group;var i="";i=""==l.profilePic||null==l.profilePic?"hims/profile-picture.png":l.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+i,document.getElementById("SemPatientAge").innerText="Age : "+l.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+l.mobile_no,document.getElementById("SemPatientEmail").innerText="MRN No : "+l.mrnNo,document.getElementById("x_Reception").value=l.Reception,document.getElementById("x_PatientID").value=l.patientIdOne,document.getElementById("x_PId").value=l.patientIdOne,document.getElementById("x_mrnno").value=l.mrnNo,document.getElementById("x_PatientName").value=l.first_name,document.getElementById("x_Age").value=l.Age,document.getElementById("x_Gender").value=l.gender,document.getElementById("x_profilePic").value=i,document.getElementById("x_PatID").value=l.PatientID,document.getElementById("x_MobileNumber").value=l.mobile_no}}})}}},patient_provisional_diagnosis:{x_PatientSearch:{"change keyup":function(e){var t=[{patientId:$(this).fields().PatientSearch.toNumber()}],n=JSON.stringify(t);$.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPictureMRN",data:{data:n},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var l=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+l.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+l.first_name,null==l.gender&&(l.gender=""),null==l.blood_group&&(l.blood_group=""),null==l.Age&&(l.Age=""),null==l.mobile_no&&(l.mobile_no=""),null==l.PEmail&&(l.PEmail=""),null==l.mrnNo&&(l.mrnNo=""),document.getElementById("SemPatientGender").innerText="Gender : "+l.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+l.blood_group;var i="";i=""==l.profilePic||null==l.profilePic?"hims/profile-picture.png":l.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+i,document.getElementById("SemPatientAge").innerText="Age : "+l.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+l.mobile_no,document.getElementById("SemPatientEmail").innerText="MRN No : "+l.mrnNo,document.getElementById("x_Reception").value=l.Reception,document.getElementById("x_PatientId").value=l.patientIdOne,document.getElementById("x_mrnno").value=l.mrnNo,document.getElementById("x_PatientName").value=l.first_name,document.getElementById("x_Age").value=l.Age,document.getElementById("x_Gender").value=l.gender,document.getElementById("x_profilePic").value=i,document.getElementById("x_PatID").value=l.PatientID,document.getElementById("x_MobileNumber").value=l.mobile_no}}})}}},patient_services:{x_Quantity:{"change keyup":function(e){var t=$(this).fields();if(1==t.ServiceSelect.toNumber()){var n=t.amount.toNumber()*t.Quantity.toNumber()*(1-t.Discount.toNumber());t.SubTotal.value(n)}else t.Quantity.value(""),t.Discount.value(""),t.SubTotal.value("");addtotalSum()}},x_Discount:{change:function(e){var t=$(this).fields();if(1==t.ServiceSelect.toNumber()){var n=t.amount.toNumber()*t.Quantity.toNumber()*(1-t.Discount.toNumber());t.SubTotal.value(n)}else t.Quantity.value(""),t.Discount.value(""),t.SubTotal.value("");addtotalSum()}},x_ServiceSelect:{click:function(e){var t=$(this).fields();if(1==t.ServiceSelect.toNumber()){t.Quantity.value(1),t.Discount.value(0);var n=t.amount.toNumber()*t.Quantity.toNumber()*(1-t.Discount.toNumber());t.SubTotal.value(n)}else t.Quantity.value(""),t.Discount.value(""),t.SubTotal.value("");addtotalSum()}}},patient_ot_surgery_register:{x_PatientSearch:{"change keyup":function(e){var t=[{patientId:$(this).fields().PatientSearch.toNumber()}],n=JSON.stringify(t);$.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPictureMRN",data:{data:n},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var l=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+l.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+l.first_name,null==l.gender&&(l.gender=""),null==l.blood_group&&(l.blood_group=""),null==l.Age&&(l.Age=""),null==l.mobile_no&&(l.mobile_no=""),null==l.PEmail&&(l.PEmail=""),null==l.mrnNo&&(l.mrnNo=""),document.getElementById("SemPatientGender").innerText="Gender : "+l.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+l.blood_group;var i="";i=""==l.profilePic||null==l.profilePic?"hims/profile-picture.png":l.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+i,document.getElementById("SemPatientAge").innerText="Age : "+l.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+l.mobile_no,document.getElementById("SemPatientEmail").innerText="MRN No : "+l.mrnNo,document.getElementById("x_Reception").value=l.Reception,document.getElementById("x_PatientID").value=l.patientIdOne,document.getElementById("x_mrnno").value=l.mrnNo,document.getElementById("x_PatientName").value=l.first_name,document.getElementById("x_Age").value=l.Age,document.getElementById("x_Gender").value=l.gender,document.getElementById("x_profilePic").value=i,document.getElementById("x_PatID").value=l.PatientID,document.getElementById("x_MobileNumber").value=l.mobile_no}}})}}},billing_other_voucher:{x_ModeofPayment:{change:function(e){var t=$(this).fields().ModeofPayment.value();"CARD"==t||"PAYTM"==t||"NEFT"==t?(document.getElementById("viewBankName").style.display="block",document.getElementById("viewBankDetails").innerText=t+" Details"):document.getElementById("viewBankName").style.display="none"}},x_PatID:{change:function(e){var t=$(this).fields();document.getElementById("LoadGetOPAdvance").innerHTML="";var n=t.PatID.toNumber(),l=t.PatID.toNumber(),i=(l=[{patientId:n,HospID:document.getElementById("HospIDId").value}],JSON.stringify(l));$.ajax({type:"GET",url:"ajaxinsert.php?control=GetOPAdvance",data:{data:i},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n="",l="",i="",o='<table id="customers"><tr><th>Advance No. </th><th>Amount </th><th>Mode of Payment</th><th>Remarks</th></tr>',a=0;a<t.length;a++){var d=t[a];o=o+"  <tr><td>"+d.AdvanceNo+"</td> <td>"+d.Amount+"</td> <td>"+d.ModeofPayment+"</td> <td>"+d.Remarks+"</td></tr>";n=d.TotalAdvance,l=d.TotalBill,i=d.BalanceAmount}o=(o=o+"</table>")+'<table style="width:100%"><tr><th>Total Advance = '+n+"</th><th>Total Bill = "+l+"</th><th>Balance Amount = "+i+"</th></tr></table>";t.length>0&&(document.getElementById("LoadGetOPAdvance").innerHTML=o)}})}}},appointment_scheduler:{x_PatientType:{click:function(e){"New"==$(this).fields().PatientType.value()?$("#addNewPatient").show():$("#addNewPatient").hide()}},x_Dob:{"change keyup paste mouseup onChangeMonthYear onClose onSelect create picker_event hide changeDate":function(e){var t,n=$(this).fields(),l=n.Dob[0].value.split("/"),i=new Date(l[2],l[1]-1,l[0]),o=new Date,a=(new Date(o.getYear(),o.getMonth(),o.getDate()),o.getYear()),d=o.getMonth(),m=o.getDate(),u=i.getYear(),r=i.getMonth(),s=i.getDate(),c="",y="",g="",v="";if(yearAge=a-u,d>=r)var I=d-r;else{yearAge--;I=12+d-r}if(m>=s)var b=m-s;else{b=31+m-s;--I<0&&(I=11,yearAge--)}y=(t={years:yearAge,months:I,days:b}).years>1?" years":" year",g=t.months>1?" months":" month",v=t.days>1?" days":" day",c=t.years>0&&t.months>0&&t.days>0?t.years<5?t.years+y+", "+t.months+g+", and "+t.days+v+" old.":t.years+y+", and "+t.months+g+" old.":0==t.years&&0==t.months&&t.days>0?"Only "+t.days+v+" old!":t.years>0&&0==t.months&&0==t.days?t.years+y+" old. Happy Birthday!!":t.years>0&&t.months>0&&0==t.days?t.years+y+" and "+t.months+g+" old.":0==t.years&&t.months>0&&t.days>0?t.months+g+" and "+t.days+v+" old.":t.years>0&&0==t.months&&t.days>0?t.years+y+" and "+t.days+v+" old.":0==t.years&&t.months>0&&0==t.days?t.months+g+" old.":" ",n.Age.value(c)}},x_Age:{change:function(e){var t=$(this).fields(),n=new Date,l=t.Age.toNumber();n.setFullYear(n.getFullYear()-l);var i=n.getDate()+"/"+("0"+(n.getMonth()+1)).slice(-2)+"/"+n.getFullYear();t.Dob.val(i)}}},ivf_stimulation_chart:{x_LMP:{"change keyup paste mouseup onChangeMonthYear onClose onSelect create picker_event hide changeDate":function(e){$(this).fields().LMP}},x_SCDate:{"change keyup paste mouseup onChangeMonthYear onClose onSelect create picker_event hide changeDate":function(e){var t=$(this).fields(),n=t.SCDate[0].value.split("/"),l=new Date(n[2],n[1]-1,n[0]),i=new Date;new Date(i.getYear(),i.getMonth(),i.getDate()),i.getYear(),i.getMonth(),i.getDate(),l.getYear(),l.getMonth(),l.getDate();t.StChDate1.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate2.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate3.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate4.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate5.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate6.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate7.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate8.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate9.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate10.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate11.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate12.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate13.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate14.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate15.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate16.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate17.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate18.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate19.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate20.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate21.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate22.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate23.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate24.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),t.StChDate25.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear());n=t.SCDate[0].value.split("/");var o=t.LMP[0].value.split("/"),a=new Date(n[2],n[1]-1,n[0]),d=new Date(o[2],o[1]-1,o[0]),m=a.getTime()-d.getTime(),u=parseInt(m/864e5);t.CycleDay1.value("C"+(u+1)),t.CycleDay2.value("C"+(u+2)),t.CycleDay3.value("C"+(u+3)),t.CycleDay4.value("C"+(u+4)),t.CycleDay5.value("C"+(u+5)),t.CycleDay6.value("C"+(u+6)),t.CycleDay7.value("C"+(u+7)),t.CycleDay8.value("C"+(u+8)),t.CycleDay9.value("C"+(u+9)),t.CycleDay10.value("C"+(u+10)),t.CycleDay11.value("C"+(u+11)),t.CycleDay12.value("C"+(u+12)),t.CycleDay13.value("C"+(u+13)),t.CycleDay14.value("C"+(u+14)),t.CycleDay15.value("C"+(u+15)),t.CycleDay16.value("C"+(u+16)),t.CycleDay17.value("C"+(u+17)),t.CycleDay18.value("C"+(u+18)),t.CycleDay19.value("C"+(u+19)),t.CycleDay20.value("C"+(u+20)),t.CycleDay21.value("C"+(u+21)),t.CycleDay22.value("C"+(u+22)),t.CycleDay23.value("C"+(u+23)),t.CycleDay24.value("C"+(u+24)),t.CycleDay25.value("C"+(u+25)),t.StimulationDay1.value("S1"),t.StimulationDay2.value("S2"),t.StimulationDay3.value("S3"),t.StimulationDay4.value("S4"),t.StimulationDay5.value("S5"),t.StimulationDay6.value("S6"),t.StimulationDay7.value("S7"),t.StimulationDay8.value("S8"),t.StimulationDay9.value("S9"),t.StimulationDay10.value("S10"),t.StimulationDay11.value("S11"),t.StimulationDay12.value("S12"),t.StimulationDay13.value("S13"),t.StimulationDay14.value("S14"),t.StimulationDay15.value("S15"),t.StimulationDay16.value("S16"),t.StimulationDay17.value("S17"),t.StimulationDay18.value("S18"),t.StimulationDay19.value("S19"),t.StimulationDay20.value("S20"),t.StimulationDay21.value("S21"),t.StimulationDay22.value("S22"),t.StimulationDay23.value("S23"),t.StimulationDay24.value("S24"),t.StimulationDay25.value("S25")}},x_Tablet1:{change:function(e){calculateDoseofGonadotropins()}},x_Tablet2:{change:function(e){calculateDoseofGonadotropins()}},x_Tablet3:{change:function(e){calculateDoseofGonadotropins()}},x_Tablet4:{change:function(e){calculateDoseofGonadotropins()}},x_Tablet5:{change:function(e){calculateDoseofGonadotropins()}},x_Tablet6:{change:function(e){calculateDoseofGonadotropins()}},x_Tablet7:{change:function(e){calculateDoseofGonadotropins()}},x_Tablet8:{change:function(e){calculateDoseofGonadotropins()}},x_Tablet9:{change:function(e){calculateDoseofGonadotropins()}},x_Tablet10:{change:function(e){calculateDoseofGonadotropins()}},x_Tablet11:{change:function(e){calculateDoseofGonadotropins()}},x_Tablet12:{change:function(e){calculateDoseofGonadotropins()}},x_Tablet13:{change:function(e){calculateDoseofGonadotropins()}},x_RFSH1:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH2:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH3:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH4:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH5:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH6:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH7:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH8:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH9:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH10:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH11:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH12:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH13:{change:function(e){calculateDoseofRFSHHMG()}},x_HMG1:{change:function(e){calculateDoseofRFSHHMG()}},x_HMG2:{change:function(e){calculateDoseofRFSHHMG()}},x_HMG3:{change:function(e){calculateDoseofRFSHHMG()}},x_HMG4:{change:function(e){calculateDoseofRFSHHMG()}},x_HMG5:{change:function(e){calculateDoseofRFSHHMG()}},x_HMG6:{change:function(e){calculateDoseofRFSHHMG()}},x_HMG7:{change:function(e){calculateDoseofRFSHHMG()}},x_HMG8:{change:function(e){calculateDoseofRFSHHMG()}},x_HMG9:{change:function(e){calculateDoseofRFSHHMG()}},x_HMG10:{change:function(e){calculateDoseofRFSHHMG()}},x_HMG11:{change:function(e){calculateDoseofRFSHHMG()}},x_HMG12:{change:function(e){calculateDoseofRFSHHMG()}},x_HMG13:{change:function(e){calculateDoseofRFSHHMG()}},x_GnRH1:{change:function(e){calculateDaysofGnRH()}},x_GnRH2:{change:function(e){calculateDaysofGnRH()}},x_GnRH3:{change:function(e){calculateDaysofGnRH()}},x_GnRH4:{change:function(e){calculateDaysofGnRH()}},x_GnRH5:{change:function(e){calculateDaysofGnRH()}},x_GnRH6:{change:function(e){calculateDaysofGnRH()}},x_GnRH7:{change:function(e){calculateDaysofGnRH()}},x_GnRH8:{change:function(e){calculateDaysofGnRH()}},x_GnRH9:{change:function(e){calculateDaysofGnRH()}},x_GnRH10:{change:function(e){calculateDaysofGnRH()}},x_GnRH11:{change:function(e){calculateDaysofGnRH()}},x_GnRH12:{change:function(e){calculateDaysofGnRH()}},x_GnRH13:{change:function(e){calculateDaysofGnRH()}},x_TreatmentCancel:{click:function(e){var t=$(this).fields().TreatmentCancel.value();document.getElementById("CancelReason").style.visibility="Yes"==t?"visible":"hidden"}},x_Projectron:{click:function(e){if("Yes"==$(this).fields().Projectron.value())document.getElementById("ProgesteroneAdminTable").style.display="block";else document.getElementById("ProgesteroneAdminTable").style.display="none"}},x_RFSH14:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH15:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH16:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH17:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH18:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH19:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH20:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH21:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH22:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH23:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH24:{change:function(e){calculateDoseofRFSHHMG()}},x_RFSH25:{change:function(e){calculateDoseofRFSHHMG()}},x_GnRH14:{change:function(e){calculateDaysofGnRH()}},x_GnRH15:{change:function(e){calculateDaysofGnRH()}},x_GnRH16:{change:function(e){calculateDaysofGnRH()}},x_GnRH17:{change:function(e){calculateDaysofGnRH()}},x_GnRH18:{change:function(e){calculateDaysofGnRH()}},x_GnRH19:{change:function(e){calculateDaysofGnRH()}},x_GnRH20:{change:function(e){calculateDaysofGnRH()}},x_GnRH21:{change:function(e){calculateDaysofGnRH()}},x_GnRH22:{change:function(e){calculateDaysofGnRH()}},x_GnRH23:{change:function(e){calculateDaysofGnRH()}},x_GnRH24:{change:function(e){calculateDaysofGnRH()}},x_GnRH25:{change:function(e){calculateDaysofGnRH()}}},ivf_ovum_pick_up_chart:{x_ExperctedOocytes:{"change onchange":function(e){var t=$(this).fields(),n=t.ExperctedOocytes.toNumber(),l=t.NoOfOocytesRetrieved.toNumber();t.OocytesRetreivalRate.val(l/n*100)}},x_NoOfOocytesRetrieved:{"change onchange":function(e){var t=$(this).fields(),n=t.ExperctedOocytes.toNumber(),l=t.NoOfOocytesRetrieved.toNumber();t.OocytesRetreivalRate.val(l/n*100)}}},ivf_embryology_chart:{x_Day5Cryoptop:{"change onchange":function(e){$(this).fields().Day5Cryoptop.value()}}},ivf_treatment_plan:{x_ARTCYCLE:{click:function(e){document.getElementById("Treatment").style.display="none",document.getElementById("TreatmentTec").style.display="none",document.getElementById("TypeOfCycle").style.display="none",document.getElementById("SpermOrgin").style.display="none",document.getElementById("State").style.display="none",document.getElementById("Origin").style.display="none",document.getElementById("MACS").style.display="none",document.getElementById("Technique").style.display="none",document.getElementById("PgdPlanning").style.display="none",document.getElementById("IMSI").style.display="none",document.getElementById("SequentialCulture").style.display="none",document.getElementById("TimeLapse").style.display="none",document.getElementById("AH").style.display="none",document.getElementById("Weight").style.display="none",document.getElementById("BMI").style.display="none",document.getElementById("TreatmentTreatment").style.display="none",document.getElementById("Ectopic").style.display="none",document.getElementById("use").style.display="none","Intrauterine insemination(IUI)"==this.value&&(document.getElementById("Treatment").style.display="block",document.getElementById("TreatmentTec").style.display="block",document.getElementById("TypeOfCycle").style.display="block",document.getElementById("SpermOrgin").style.display="block",document.getElementById("State").style.display="block",document.getElementById("Origin").style.display="block",document.getElementById("MACS").style.display="block",document.getElementById("Technique").style.display="none",document.getElementById("PgdPlanning").style.display="none",document.getElementById("IMSI").style.display="none",document.getElementById("SequentialCulture").style.display="none",document.getElementById("TimeLapse").style.display="none",document.getElementById("AH").style.display="none",document.getElementById("Weight").style.display="none",document.getElementById("BMI").style.display="none"),"IVF"==this.value&&(document.getElementById("Treatment").style.display="block",document.getElementById("TreatmentTec").style.display="block",document.getElementById("TypeOfCycle").style.display="block",document.getElementById("SpermOrgin").style.display="block",document.getElementById("State").style.display="block",document.getElementById("Origin").style.display="block",document.getElementById("MACS").style.display="block",document.getElementById("Technique").style.display="block",document.getElementById("PgdPlanning").style.display="block",document.getElementById("IMSI").style.display="block",document.getElementById("SequentialCulture").style.display="block",document.getElementById("TimeLapse").style.display="block",document.getElementById("AH").style.display="block",document.getElementById("Weight").style.display="block",document.getElementById("BMI").style.display="block"),"ICSI"==this.value&&(document.getElementById("Treatment").style.display="block",document.getElementById("TreatmentTec").style.display="block",document.getElementById("TypeOfCycle").style.display="block",document.getElementById("SpermOrgin").style.display="block",document.getElementById("State").style.display="block",document.getElementById("Origin").style.display="block",document.getElementById("MACS").style.display="block",document.getElementById("Technique").style.display="block",document.getElementById("PgdPlanning").style.display="block",document.getElementById("IMSI").style.display="block",document.getElementById("SequentialCulture").style.display="block",document.getElementById("TimeLapse").style.display="block",document.getElementById("AH").style.display="block",document.getElementById("Weight").style.display="block",document.getElementById("BMI").style.display="block"),"Oocyte Vitrification"==this.value&&(document.getElementById("Treatment").style.display="block",document.getElementById("TreatmentTec").style.display="block",document.getElementById("TypeOfCycle").style.display="block",document.getElementById("SpermOrgin").style.display="block",document.getElementById("State").style.display="block",document.getElementById("Origin").style.display="block",document.getElementById("MACS").style.display="block",document.getElementById("Technique").style.display="block",document.getElementById("PgdPlanning").style.display="block",document.getElementById("IMSI").style.display="block",document.getElementById("SequentialCulture").style.display="block",document.getElementById("TimeLapse").style.display="block",document.getElementById("AH").style.display="block",document.getElementById("Weight").style.display="block",document.getElementById("BMI").style.display="block"),"Egg Donation"==this.value&&(document.getElementById("TypeOfCycle").style.display="block",document.getElementById("Origin").style.display="block",document.getElementById("Ectopic").style.display="block",document.getElementById("use").style.display="block"),"Frozen Embryo Transfer"==this.value&&(document.getElementById("Treatment").style.display="block",document.getElementById("TypeOfCycle").style.display="block",document.getElementById("PgdPlanning").style.display="block",document.getElementById("TreatmentTreatment").style.display="block"),"Evaluation cycle"==this.value&&(document.getElementById("TypeOfCycle").style.display="block",document.getElementById("PgdPlanning").style.display="block",document.getElementById("TreatmentTreatment").style.display="block")}}},view_patient_services:{x_Services:{change:function(e){var t=$(this).fields(),n=t.Services.value(),l=[{HospitalID:document.getElementById("HospitalIDDD").value,Services:n}],i=JSON.stringify(l);$.ajax({type:"GET",url:"ajaxinsert.php?control=selectServices",data:{data:i},cache:!1,success:function(e){for(var n=JSON.parse(e).records,l=0;l<n.length;l++){var i=n[l];console.log(i.id),t.amount.value(i.AMOUNT),t.DiscountCategory.value(""),t.Quantity.value("1"),t.Discount.value("0"),t.SubTotal.value(i.AMOUNT),t.ItemCode.value(i.ItemCode),t.sid.value(i.id);var o=i.TestType;addtotalSum(),-1!=o.includes("Lab")&&(document.getElementById("x_LabTest").value="LabTest")}}})}},x_amount:{change:function(e){var t=$(this).fields(),n=t.amount.toNumber();n*=t.Quantity.toNumber(),t.SubTotal.value(n),addtotalSum()}},x_Quantity:{change:function(e){var t=$(this).fields(),n=t.amount.toNumber();n*=t.Quantity.toNumber(),t.SubTotal.value(n),addtotalSum()}},x_Discount:{change:function(e){var t=$(this).fields(),n=t.Discount.toNumber(),l=t.amount.toNumber(),i=n/100*l,o=t.Quantity.toNumber(),a=l*o-i*o;t.SubTotal.value(a),addtotalSum()}},x_SubTotal:{change:function(e){addtotalSum()}}},view_billing_voucher:{x_ModeofPayment:{change:function(e){var t=$(this).fields().ModeofPayment.value();"CARD"==t||"PAYTM"==t||"NEFT"==t||"RTGS"==t||"CHEQUE"==t||"CASH & CARD"==t?("CARD"==t||"CASH & CARD"==t?(document.getElementById("viewCardType").style.display="block","CASH & CARD"==t?(document.getElementById("viewCash").style.display="block",document.getElementById("viewCard").style.display="block"):(document.getElementById("viewCash").style.display="none",document.getElementById("viewCard").style.display="none")):document.getElementById("viewCardType").style.display="none",document.getElementById("viewBankName").style.display="block",document.getElementById("viewBankDetails").innerText=t+" Details"):(document.getElementById("viewBankName").style.display="none",document.getElementById("viewCardType").style.display="none")}},x_DiscountAmount:{change:function(e){addtotalSum()}},x_RIDNO:{change:function(e){var t=$(this).fields(),n=[{PatId:t.PatId.toNumber()}],l=JSON.stringify(n);$.ajax({type:"GET",url:"ajaxinsert.php?control=FindivfCoupleReg",data:{data:l},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var l,i=t[n];document.getElementById("x_PartnerName").value=i.Partnerfirst_name,(l=document.getElementById("lu_x_RefferedBy")).innerHTML=i.ReferedBy,l.selectedIndex=i.ReferedBy,l.value=i.ReferedBy,l.text=i.ReferedBy,(l=document.getElementById("x_RefferedBy")).value=i.ReferedBy,document.getElementById("lu_x_DrID").innerText=i.DrID,document.getElementById("x_Doctor").value=i.Doctor,document.getElementById("x_DrDepartment").value=i.DrDepartment,document.getElementById("ipAdmissiontype").innerText=i.typeRegsisteration+" "+i.Procedure,"null"!=i.typeRegsisteration?(document.getElementById("ipAdmissiontype").style.display="block",document.getElementById("BillClosingType").style.display="block"):(document.getElementById("ipAdmissiontype").style.display="none",document.getElementById("BillClosingType").style.display="none")}}}),document.getElementById("LoadGetOPAdvance").innerHTML="";var i=t.PatId.toNumber(),o=document.getElementById("HospIDId").value;n=[{patientId:i,HospID:o}],l=JSON.stringify(n);$.ajax({type:"GET",url:"ajaxinsert.php?control=GetOPAdvance",data:{data:l},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n="",l="",i="",o='<table id="customers"><tr><th>Advance No. </th><th>Date</th><th>Amount </th><th>Mode of Payment</th><th>Remarks</th></tr>',a=0;a<t.length;a++){var d=t[a];o=o+"  <tr><td>"+d.AdvanceNo+"</td><td>"+d.Date+"</td> <td>"+d.Amount+"</td> <td>"+d.ModeofPayment+"</td> <td>"+d.Remarks+"</td></tr>";n=d.TotalAdvance,l=d.TotalBill,i=d.BalanceAmount}o=(o=o+"</table>")+'<table style="width:100%"><tr><th>Total Advance = '+n+"</th><th>Total Bill = "+l+"</th><th>Balance Amount = "+i+"</th></tr></table>";t.length>0&&(document.getElementById("LoadGetOPAdvance").innerHTML=o)}});n=[{patientId:i=t.PatId.toNumber(),HospID:o}],l=JSON.stringify(n);$.ajax({type:"GET",url:"ajaxinsert.php?control=IPPatientSearch",data:{data:l},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var l,i=t[n],o=n+1;document.getElementById("r"+o+"_view_patient_services").insertCell(-1).innerHTML='<td class="ew-list-option-body text-nowrap" data-name="button"><div class="btn-group btn-group-sm ew-btn-group"><a class="btn btn-default ew-grid-link ew-grid-delete" title="" data-caption="Delete" onclick="return ERdeleteGridRow(this, '+o+');" data-original-title="Delete"><i data-phrase="DeleteLink" class="fa fas fa-eraser ew-icon" data-caption="Delete"></i></a></div></td>',document.getElementById("sv_x"+o+"_Services").value=i.Product,document.getElementById("x"+o+"_amount").value=i.RT,document.getElementById("x"+o+"_Quantity").value=parseInt(i.IQ),document.getElementById("x"+o+"_SubTotal").value=i.DAMT,document.getElementById("x"+o+"_ItemCode").value=i.PRC,document.getElementById("x"+o+"_sid").value=i.iiiddd,document.getElementById("x_ProcedureAmount").value=i.Amound,document.getElementById("x_ProcedureName").value=i.Procedure,(l=document.getElementById("sv_x"+o+"_Services")).innerHTML=i.Product,l.selectedIndex=i.Product,l.value=i.Product,l.text=i.Product,(l=document.getElementById("x"+o+"_Services")).value=i.Product;var a=$('*[data-caption="Add Blank Row"]');ew.addGridRow(a)}document.getElementById("ProcedureIITem").style.visibility="visible",addtotalSum()}});n=[{patientId:i=t.PatId.toNumber(),HospID:o}],l=JSON.stringify(n);$.ajax({type:"GET",url:"ajaxinsert.php?control=OPPatientISSUESearch",data:{data:l},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var l,i=t[n],o=n+1;document.getElementById("r"+o+"_view_patient_services").insertCell(-1).innerHTML='<td class="ew-list-option-body text-nowrap" data-name="button"><div class="btn-group btn-group-sm ew-btn-group"><a class="btn btn-default ew-grid-link ew-grid-delete" title="" data-caption="Delete" onclick="return ERdeleteGridRow(this, '+o+');" data-original-title="Delete"><i data-phrase="DeleteLink" class="fa fas fa-eraser ew-icon" data-caption="Delete"></i></a></div></td>',document.getElementById("sv_x"+o+"_Services").value=i.Product,document.getElementById("x"+o+"_amount").value=i.RT,document.getElementById("x"+o+"_Quantity").value=parseInt(i.IQ),document.getElementById("x"+o+"_SubTotal").value=i.DAMT,document.getElementById("x"+o+"_ItemCode").value=i.PRC,document.getElementById("x"+o+"_sid").value=i.iiiddd,document.getElementById("x_ProcedureAmount").value=i.Amound,document.getElementById("x_ProcedureName").value=i.Procedure,(l=document.getElementById("sv_x"+o+"_Services")).innerHTML=i.Product,l.selectedIndex=i.Product,l.value=i.Product,l.text=i.Product,(l=document.getElementById("x"+o+"_Services")).value=i.Product;var a=$('*[data-caption="Add Blank Row"]');ew.addGridRow(a)}document.getElementById("ProcedureIITem").style.visibility="visible",addtotalSum()}}),$("[data-field='x_BillClosing']").prop("checked",!0)}},x_PatId:{"change keyup":function(e){var t=$(this).fields(),n=[{PatId:t.PatId.toNumber()}],l=JSON.stringify(n);$.ajax({type:"GET",url:"ajaxinsert.php?control=FindivfCoupleReg",data:{data:l},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var l,i=t[n];document.getElementById("x_PartnerName").value=i.Partnerfirst_name,(l=document.getElementById("lu_x_RefferedBy")).innerHTML=i.ReferedBy,l.selectedIndex=i.ReferedBy,l.value=i.ReferedBy,l.text=i.ReferedBy,(l=document.getElementById("x_RefferedBy")).value=i.ReferedBy,document.getElementById("lu_x_DrID").innerText=i.DrID,document.getElementById("x_Doctor").value=i.Doctor,document.getElementById("x_DrDepartment").value=i.DrDepartment,document.getElementById("ipAdmissiontype").innerText=i.typeRegsisteration+" "+i.Procedure,"null"!=i.typeRegsisteration?(document.getElementById("ipAdmissiontype").style.display="block",document.getElementById("BillClosingType").style.display="block",document.getElementById("AddBulkService").style.display="block",document.getElementById("Addloadservice").style.display="block"):(document.getElementById("ipAdmissiontype").style.display="none",document.getElementById("BillClosingType").style.display="none",document.getElementById("AddBulkService").style.display="none",document.getElementById("Addloadservice").style.display="none")}}}),document.getElementById("LoadGetOPAdvance").innerHTML="";var i=t.PatId.toNumber(),o=document.getElementById("HospIDId").value;n=[{patientId:i,HospID:o}],l=JSON.stringify(n);$.ajax({type:"GET",url:"ajaxinsert.php?control=GetOPAdvance",data:{data:l},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n="",l="",i="",o='<table id="customers"><tr><th>Advance No. </th><th>Date</th><th>Amount </th><th>Mode of Payment</th><th>Remarks</th></tr>',a=0;a<t.length;a++){var d=t[a];o=o+"  <tr><td>"+d.AdvanceNo+"</td><td>"+d.Date+"</td> <td>"+d.Amount+"</td> <td>"+d.ModeofPayment+"</td> <td>"+d.Remarks+"</td></tr>";n=d.TotalAdvance,l=d.TotalBill,i=d.BalanceAmount}o=(o=o+"</table>")+'<table style="width:100%"><tr><th hidden >Total Advance = '+n+"</th><th hidden>Total Bill = "+l+"</th><th>Balance Amount = "+i+"</th></tr></table>";t.length>0&&(document.getElementById("LoadGetOPAdvance").innerHTML=o)}});n=[{patientId:i=t.PatId.toNumber(),HospID:o}],l=JSON.stringify(n);$.ajax({type:"GET",url:"ajaxinsert.php?control=IPPatientSearch",data:{data:l},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var l,i=t[n],o=n+1;document.getElementById("r"+o+"_view_patient_services").insertCell(-1).innerHTML='<td class="ew-list-option-body text-nowrap" data-name="button"><div class="btn-group btn-group-sm ew-btn-group"><a class="btn btn-default ew-grid-link ew-grid-delete" title="" data-caption="Delete" onclick="return ERdeleteGridRow(this, '+o+');" data-original-title="Delete"><i data-phrase="DeleteLink" class="fa fas fa-eraser ew-icon" data-caption="Delete"></i></a></div></td>',document.getElementById("sv_x"+o+"_Services").value=i.Product,document.getElementById("x"+o+"_amount").value=i.RT,document.getElementById("x"+o+"_Quantity").value=parseInt(i.IQ),document.getElementById("x"+o+"_SubTotal").value=i.DAMT,document.getElementById("x"+o+"_ItemCode").value=i.PRC,document.getElementById("x"+o+"_sid").value=i.iiiddd,document.getElementById("x_ProcedureAmount").value=i.Amound,document.getElementById("x_ProcedureName").value=i.Procedure,(l=document.getElementById("sv_x"+o+"_Services")).innerHTML=i.Product,l.selectedIndex=i.Product,l.value=i.Product,l.text=i.Product,(l=document.getElementById("x"+o+"_Services")).value=i.Product;var a=$('*[data-caption="Add Blank Row"]');ew.addGridRow(a)}document.getElementById("ProcedureIITem").style.visibility="visible",addtotalSum()}});n=[{patientId:i=t.PatId.toNumber(),HospID:o}],l=JSON.stringify(n);$.ajax({type:"GET",url:"ajaxinsert.php?control=OPPatientISSUESearch",data:{data:l},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var l,i=t[n],o=n+1;document.getElementById("r"+o+"_view_patient_services").insertCell(-1).innerHTML='<td class="ew-list-option-body text-nowrap" data-name="button"><div class="btn-group btn-group-sm ew-btn-group"><a class="btn btn-default ew-grid-link ew-grid-delete" title="" data-caption="Delete" onclick="return ERdeleteGridRow(this, '+o+');" data-original-title="Delete"><i data-phrase="DeleteLink" class="fa fas fa-eraser ew-icon" data-caption="Delete"></i></a></div></td>',document.getElementById("sv_x"+o+"_Services").value=i.Product,document.getElementById("x"+o+"_amount").value=i.RT,document.getElementById("x"+o+"_Quantity").value=parseInt(i.IQ),document.getElementById("x"+o+"_SubTotal").value=i.DAMT,document.getElementById("x"+o+"_ItemCode").value=i.PRC,document.getElementById("x"+o+"_sid").value=i.iiiddd,document.getElementById("x_ProcedureAmount").value=i.Amound,document.getElementById("x_ProcedureName").value=i.Procedure,(l=document.getElementById("sv_x"+o+"_Services")).innerHTML=i.Product,l.selectedIndex=i.Product,l.value=i.Product,l.text=i.Product,(l=document.getElementById("x"+o+"_Services")).value=i.Product;var a=$('*[data-caption="Add Blank Row"]');ew.addGridRow(a)}document.getElementById("ProcedureIITem").style.visibility="visible",addtotalSum()}})}},x_AdjustmentAdvance:{click:function(e){"Yes"==$(this).fields().AdjustmentAdvance.value()&&(document.getElementById("x_ModeofPayment").value="Adjustment with Advance")}},x_cash:{"change keyup click keypress":function(e){addtotalSumCash()}},x_Card:{"change keyup click keypress":function(e){addtotalSumCard()}}},view_semenanalysis:{x_RIDNo:{"change keyup":function(e){var t=[{RIDNo:$(this).fields().RIDNo.toNumber()}],n=JSON.stringify(t);$.ajax({type:"GET",url:"ajaxinsert.php?control=ivfCoupleReg",data:{data:n},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var l=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+l.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+l.first_name,document.getElementById("SemPatientGender").innerText="Gender : "+l.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+l.blood_group;var i="";i=""==l.profilePic||null==l.profilePic?"hims/profile-picture.png":l.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+i,document.getElementById("SemPatientAge").innerText="Age : "+l.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+l.mobile_no,document.getElementById("SemPatientEmail").innerText="Email : "+l.PEmail,document.getElementById("SemPartnerId").innerText="Partner Id : "+l.PartnerPatientID,document.getElementById("SemPartnerPatientName").innerText="Partner Name : "+l.Partnerfirst_name,document.getElementById("SemPartnerGender").innerText="Gender : "+l.Partnergender,document.getElementById("SemPartnerBloodGroup").innerText="Blood Group : "+l.Partnerblood_group;i="";i=""==l.PartnerprofilePic||null==l.PartnerprofilePic?"hims/profile-picture.png":l.PartnerprofilePic,document.getElementById("SemPartnerprofilePicturePatient").src="uploads/"+i,document.getElementById("SemPartnerAge").innerText="Age : "+l.PartnerAge,document.getElementById("SemPartnerMobile").innerText="Mobile : "+l.Partnermobile_no,document.getElementById("SemPartnerEmail").innerText="Email : "+l.PartnerPEmail,document.getElementById("partnerdataview").style.display="block",document.getElementById("patientdataview").className="col-md-6"}}})}},x_HusbandName:{"change keyup":function(e){var t=[{patientId:$(this).fields().HusbandName.toNumber()}],n=JSON.stringify(t);$.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPicture",data:{data:n},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var l=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+l.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+l.first_name,document.getElementById("SemPatientGender").innerText="Gender : "+l.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+l.blood_group;var i="";i=""==l.profilePic||null==l.profilePic?"hims/profile-picture.png":l.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+i,document.getElementById("SemPatientAge").innerText="Age : "+l.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+l.mobile_no,document.getElementById("SemPatientEmail").innerText="Email : "+l.PEmail,document.getElementById("partnerdataview").style.display="none",document.getElementById("patientdataview").className="col-md-12"}}})}},x_RequestSample:{"change onchange":function(e){var t=$(this).fields().RequestSample.value(),n=document.getElementById("TankLocation"),l=document.getElementById("Method");(i=document.getElementById("capacitationTable")).style.width="60%",document.getElementById("Volume1").style.visibility="hidden",document.getElementById("Concentration1").style.visibility="hidden",document.getElementById("Total1").style.visibility="hidden",document.getElementById("ProgressiveMotility1").style.visibility="hidden",document.getElementById("NonProgrssiveMotile1").style.visibility="hidden",document.getElementById("Immotile1").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile1").style.visibility="hidden",document.getElementById("capacitationTableHead").style.visibility="hidden",document.getElementById("PreCapacitation").innerText="",document.getElementById("PostCapacitation").innerText="",document.getElementById("x_Volume1").style.width="0px",document.getElementById("x_Concentration1").style.width="0px",document.getElementById("x_Total1").style.width="0px",document.getElementById("x_ProgressiveMotility1").style.width="0px",document.getElementById("x_NonProgrssiveMotile1").style.width="0px",document.getElementById("x_Immotile1").style.width="0px",document.getElementById("x_TotalProgrssiveMotile1").style.width="0px",document.getElementById("x_Volume2").style.width="0px",document.getElementById("x_Concentration2").style.width="0px",document.getElementById("x_Total2").style.width="0px",document.getElementById("x_ProgressiveMotility2").style.width="0px",document.getElementById("x_NonProgrssiveMotile2").style.width="0px",document.getElementById("x_Immotile2").style.width="0px",document.getElementById("x_TotalProgrssiveMotile2").style.width="0px",document.getElementById("Volume2").style.visibility="hidden",document.getElementById("Concentration2").style.visibility="hidden",document.getElementById("Total2").style.visibility="hidden",document.getElementById("ProgressiveMotility2").style.visibility="hidden",document.getElementById("NonProgrssiveMotile2").style.visibility="hidden",document.getElementById("Immotile2").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile2").style.visibility="hidden",document.getElementById("Big").style.visibility="hidden",document.getElementById("Medium").style.visibility="hidden",document.getElementById("Small").style.visibility="hidden",document.getElementById("NoHalo").style.visibility="hidden",document.getElementById("Fragmented").style.visibility="hidden",document.getElementById("NonFragmented").style.visibility="hidden",document.getElementById("DFI").style.visibility="hidden",document.getElementById("InseminationTime").style.visibility="hidden",document.getElementById("InseminationBy").style.visibility="hidden",document.getElementById("IsueBy").style.visibility="hidden",document.getElementById("idMacs").style.visibility="hidden",document.getElementById("IUILocation").style.visibility="hidden",document.getElementById("SemenHeading").innerText="Spermiogram","Freezing"==t?(document.getElementById("SemenHeading").innerText="Semen Freezing",n.style.visibility="visible",l.style.visibility="visible"):(n.style.visibility="hidden",l.style.visibility="visible");var i=document.getElementById("capacitationTable");if("Semen Analysis"==t)i.style.width="60%",document.getElementById("Volume1").style.visibility="hidden",document.getElementById("Concentration1").style.visibility="hidden",document.getElementById("Total1").style.visibility="hidden",document.getElementById("ProgressiveMotility1").style.visibility="hidden",document.getElementById("NonProgrssiveMotile1").style.visibility="hidden",document.getElementById("Immotile1").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile1").style.visibility="hidden",document.getElementById("capacitationTableHead").style.visibility="hidden",document.getElementById("PreCapacitation").innerText="",document.getElementById("PostCapacitation").innerText="",document.getElementById("x_Volume1").style.width="0px",document.getElementById("x_Concentration1").style.width="0px",document.getElementById("x_Total1").style.width="0px",document.getElementById("x_ProgressiveMotility1").style.width="0px",document.getElementById("x_NonProgrssiveMotile1").style.width="0px",document.getElementById("x_Immotile1").style.width="0px",document.getElementById("x_TotalProgrssiveMotile1").style.width="0px",document.getElementById("x_Volume2").style.width="0px",document.getElementById("x_Concentration2").style.width="0px",document.getElementById("x_Total2").style.width="0px",document.getElementById("x_ProgressiveMotility2").style.width="0px",document.getElementById("x_NonProgrssiveMotile2").style.width="0px",document.getElementById("x_Immotile2").style.width="0px",document.getElementById("x_TotalProgrssiveMotile2").style.width="0px",document.getElementById("Volume2").style.visibility="hidden",document.getElementById("Concentration2").style.visibility="hidden",document.getElementById("Total2").style.visibility="hidden",document.getElementById("ProgressiveMotility2").style.visibility="hidden",document.getElementById("NonProgrssiveMotile2").style.visibility="hidden",document.getElementById("Immotile2").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile2").style.visibility="hidden",document.getElementById("Big").style.visibility="hidden",document.getElementById("Medium").style.visibility="hidden",document.getElementById("Small").style.visibility="hidden",document.getElementById("NoHalo").style.visibility="hidden",document.getElementById("Fragmented").style.visibility="hidden",document.getElementById("NonFragmented").style.visibility="hidden",document.getElementById("DFI").style.visibility="hidden",document.getElementById("InseminationTime").style.visibility="hidden",document.getElementById("InseminationBy").style.visibility="hidden",document.getElementById("IsueBy").style.visibility="hidden";else if("ICSI"==t){i.style.width="60%",document.getElementById("Volume1").style.visibility="hidden",document.getElementById("Concentration1").style.visibility="hidden",document.getElementById("Total1").style.visibility="hidden",document.getElementById("ProgressiveMotility1").style.visibility="hidden",document.getElementById("NonProgrssiveMotile1").style.visibility="hidden",document.getElementById("Immotile1").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile1").style.visibility="hidden",document.getElementById("capacitationTableHead").style.visibility="hidden",document.getElementById("PreCapacitation").innerText="",document.getElementById("PostCapacitation").innerText="",document.getElementById("x_Volume1").style.width="0px",document.getElementById("x_Concentration1").style.width="0px",document.getElementById("x_Total1").style.width="0px",document.getElementById("x_ProgressiveMotility1").style.width="0px",document.getElementById("x_NonProgrssiveMotile1").style.width="0px",document.getElementById("x_Immotile1").style.width="0px",document.getElementById("x_TotalProgrssiveMotile1").style.width="0px",document.getElementById("x_Volume2").style.width="0px",document.getElementById("x_Concentration2").style.width="0px",document.getElementById("x_Total2").style.width="0px",document.getElementById("x_ProgressiveMotility2").style.width="0px",document.getElementById("x_NonProgrssiveMotile2").style.width="0px",document.getElementById("x_Immotile2").style.width="0px",document.getElementById("x_TotalProgrssiveMotile2").style.width="0px",document.getElementById("Volume2").style.visibility="hidden",document.getElementById("Concentration2").style.visibility="hidden",document.getElementById("Total2").style.visibility="hidden",document.getElementById("ProgressiveMotility2").style.visibility="hidden",document.getElementById("NonProgrssiveMotile2").style.visibility="hidden",document.getElementById("Immotile2").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile2").style.visibility="hidden",document.getElementById("Big").style.visibility="hidden",document.getElementById("Medium").style.visibility="hidden",document.getElementById("Small").style.visibility="hidden",document.getElementById("NoHalo").style.visibility="hidden",document.getElementById("Fragmented").style.visibility="hidden",document.getElementById("NonFragmented").style.visibility="hidden",document.getElementById("DFI").style.visibility="hidden",document.getElementById("InseminationTime").style.visibility="hidden",document.getElementById("InseminationBy").style.visibility="hidden",document.getElementById("IsueBy").style.visibility="hidden",document.getElementById("IsueBy").style.visibility="visible",i.style.width="100%",document.getElementById("Volume1").style.visibility="visible",document.getElementById("Concentration1").style.visibility="visible",document.getElementById("Total1").style.visibility="visible",document.getElementById("ProgressiveMotility1").style.visibility="visible",document.getElementById("NonProgrssiveMotile1").style.visibility="visible",document.getElementById("Immotile1").style.visibility="visible",document.getElementById("TotalProgrssiveMotile1").style.visibility="visible",document.getElementById("capacitationTableHead").style.visibility="visible",document.getElementById("idMacs").style.visibility="visible",document.getElementById("PreCapacitation").innerText="Pre Capacitation",document.getElementById("PostCapacitation").innerText="Post Capacitation",document.getElementById("x_Volume1").style.width="80px",document.getElementById("x_Concentration1").style.width="80px",document.getElementById("x_Total1").style.width="80px",document.getElementById("x_ProgressiveMotility1").style.width="80px",document.getElementById("x_NonProgrssiveMotile1").style.width="80px",document.getElementById("x_Immotile1").style.width="80px",document.getElementById("x_TotalProgrssiveMotile1").style.width="80px"}else"DFI"==t?(document.getElementById("SemenHeading").innerText="DNA Framgmentation Index",document.getElementById("Big").style.visibility="visible",document.getElementById("Medium").style.visibility="visible",document.getElementById("Small").style.visibility="visible",document.getElementById("NoHalo").style.visibility="visible",document.getElementById("Fragmented").style.visibility="visible",document.getElementById("NonFragmented").style.visibility="visible",document.getElementById("DFI").style.visibility="visible"):"IUI processing"==t?(document.getElementById("SemenHeading").innerText="INTRA UTERINE INSEMINATION",document.getElementById("Big").style.visibility="hidden",document.getElementById("Medium").style.visibility="hidden",document.getElementById("Small").style.visibility="hidden",document.getElementById("NoHalo").style.visibility="hidden",document.getElementById("Fragmented").style.visibility="hidden",document.getElementById("NonFragmented").style.visibility="hidden",document.getElementById("DFI").style.visibility="hidden",i.style.width="100%",document.getElementById("Volume1").style.visibility="visible",document.getElementById("Concentration1").style.visibility="visible",document.getElementById("Total1").style.visibility="visible",document.getElementById("ProgressiveMotility1").style.visibility="visible",document.getElementById("NonProgrssiveMotile1").style.visibility="visible",document.getElementById("Immotile1").style.visibility="visible",document.getElementById("TotalProgrssiveMotile1").style.visibility="visible",document.getElementById("capacitationTableHead").style.visibility="visible",document.getElementById("InseminationTime").style.visibility="visible",document.getElementById("InseminationBy").style.visibility="visible",document.getElementById("PreCapacitation").innerText="Pre Capacitation",document.getElementById("PostCapacitation").innerText="Post Capacitation",document.getElementById("x_Volume1").style.width="80px",document.getElementById("x_Concentration1").style.width="80px",document.getElementById("x_Total1").style.width="80px",document.getElementById("x_ProgressiveMotility1").style.width="80px",document.getElementById("x_NonProgrssiveMotile1").style.width="80px",document.getElementById("x_Immotile1").style.width="80px",document.getElementById("x_TotalProgrssiveMotile1").style.width="80px",document.getElementById("idMacs").style.visibility="visible",document.getElementById("IUILocation").style.visibility="visible"):(i.style.width="60%",document.getElementById("Volume1").style.visibility="hidden",document.getElementById("Concentration1").style.visibility="hidden",document.getElementById("Total1").style.visibility="hidden",document.getElementById("ProgressiveMotility1").style.visibility="hidden",document.getElementById("NonProgrssiveMotile1").style.visibility="hidden",document.getElementById("Immotile1").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile1").style.visibility="hidden",document.getElementById("capacitationTableHead").style.visibility="hidden",document.getElementById("PreCapacitation").innerText="",document.getElementById("PostCapacitation").innerText="",document.getElementById("x_Volume1").style.width="0px",document.getElementById("x_Concentration1").style.width="0px",document.getElementById("x_Total1").style.width="0px",document.getElementById("x_ProgressiveMotility1").style.width="0px",document.getElementById("x_NonProgrssiveMotile1").style.width="0px",document.getElementById("x_Immotile1").style.width="0px",document.getElementById("x_TotalProgrssiveMotile1").style.width="0px")}},x_Volume:{"change keyup":function(e){var t=$(this).fields(),n=t.Volume.toNumber()*t.Concentration.toNumber();t.Total.val(n)}},x_Concentration:{"change keyup":function(e){var t=$(this).fields(),n=t.Volume.toNumber()*t.Concentration.toNumber();t.Total.val(n.toFixed(1))}},x_Total:{"change keyup":function(e){var t=$(this).fields();t.Volume.toNumber(),t.Concentration.toNumber()}},x_ProgressiveMotility:{"change keyup":function(e){var t=$(this).fields(),n=t.ProgressiveMotility.toNumber(),l=t.NonProgrssiveMotile.toNumber(),i=100-(n+l);t.Immotile.val(i.toFixed(1));var o=t.Volume.toNumber()*t.Concentration.toNumber()*(n=t.ProgressiveMotility.toNumber())/100;t.TotalProgrssiveMotile.val(o.toFixed(1))}},x_NonProgrssiveMotile:{"change keyup":function(e){var t=$(this).fields(),n=t.ProgressiveMotility.toNumber(),l=t.NonProgrssiveMotile.toNumber(),i=100-(n+l);t.Immotile.val(i.toFixed(1));var o=t.Volume.toNumber()*t.Concentration.toNumber()*(n=t.ProgressiveMotility.toNumber())/100;t.TotalProgrssiveMotile.val(o.toFixed(1))}},x_Normal:{"change keyup":function(e){var t=$(this).fields(),n=t.Normal.toNumber();t.Abnormal.val(100-n)}},x_Abnormal:{"change keyup":function(e){var t=$(this).fields(),n=t.Abnormal.toNumber();t.Normal.val(100-n)}},x_Headdefects:{"change keyup":function(e){var t=$(this).fields(),n=t.Headdefects.toNumber(),l=t.MidpieceDefects.toNumber(),i=t.Abnormal-(n+l);t.TailDefects.val(i)}},x_MidpieceDefects:{"change keyup":function(e){var t=$(this).fields(),n=t.Headdefects.toNumber(),l=t.MidpieceDefects.toNumber(),i=t.Abnormal.toNumber()-(n+l);t.TailDefects.val(i)}},x_TailDefects:{"change keyup":function(e){var t=$(this).fields(),n=t.Headdefects.toNumber(),l=t.MidpieceDefects.toNumber(),i=t.Abnormal.toNumber()-(n+l);t.TailDefects.val(i)}},x_SemenOrgin:{"change onchange":function(e){var t=$(this).fields().SemenOrgin.value(),n=document.getElementById("donorId"),l=document.getElementById("DonorBloodGroupId");"Donor"==t?(n.style.visibility="visible",l.style.visibility="visible"):(n.style.visibility="hidden",l.style.visibility="hidden")}},x_Volume1:{"change keyup":function(e){var t=$(this).fields(),n=t.Volume1.toNumber()*t.Concentration1.toNumber();t.Total1.val(n)}},x_Concentration1:{"change keyup":function(e){var t=$(this).fields(),n=t.Volume1.toNumber()*t.Concentration1.toNumber();t.Total1.val(n.toFixed(1))}},x_ProgressiveMotility1:{"change keyup":function(e){var t=$(this).fields(),n=100-((o=t.ProgressiveMotility1.toNumber())+t.NonProgrssiveMotile1.toNumber());t.Immotile1.val(n);var l=t.Volume1.toNumber(),i=t.Concentration1.toNumber(),o=t.ProgressiveMotility1.toNumber(),a=(t.NonProgrssiveMotile1.toNumber(),l*i*o/100);t.TotalProgrssiveMotile1.val(a.toFixed(1))}},x_NonProgrssiveMotile1:{"change keyup":function(e){var t=$(this).fields(),n=100-((o=t.ProgressiveMotility1.toNumber())+t.NonProgrssiveMotile1.toNumber());t.Immotile1.val(n);var l=t.Volume1.toNumber(),i=t.Concentration1.toNumber(),o=t.ProgressiveMotility1.toNumber(),a=(t.NonProgrssiveMotile1.toNumber(),l*i*o/100);t.TotalProgrssiveMotile1.val(a.toFixed(1))}},x_Volume2:{"change keyup":function(e){var t=$(this).fields(),n=t.Volume2.toNumber()*t.Concentration2.toNumber();t.Total2.val(n)}},x_Concentration2:{"change keyup":function(e){var t=$(this).fields(),n=t.Volume2.toNumber()*t.Concentration2.toNumber();t.Total2.val(n.toFixed(1))}},x_ProgressiveMotility2:{"change keyup":function(e){var t=$(this).fields(),n=100-((o=t.ProgressiveMotility2.toNumber())+t.NonProgrssiveMotile2.toNumber());t.Immotile2.val(n);var l=t.Volume2.toNumber(),i=t.Concentration2.toNumber(),o=t.ProgressiveMotility2.toNumber(),a=(t.NonProgrssiveMotile2.toNumber(),l*i*o/100);t.TotalProgrssiveMotile2.val(a.toFixed(1))}},x_NonProgrssiveMotile2:{"change keyup":function(e){var t=$(this).fields(),n=100-((o=t.ProgressiveMotility2.toNumber())+t.NonProgrssiveMotile2.toNumber());t.Immotile2.val(n);var l=t.Volume2.toNumber(),i=t.Concentration2.toNumber(),o=t.ProgressiveMotility2.toNumber(),a=(t.NonProgrssiveMotile2.toNumber(),l*i*o/100);t.TotalProgrssiveMotile2.val(a.toFixed(1))}},x_MACS:{click:function(e){"MACS"==$(this).fields().MACS.value()?(document.getElementById("Volume2").style.visibility="visible",document.getElementById("Concentration2").style.visibility="visible",document.getElementById("Total2").style.visibility="visible",document.getElementById("ProgressiveMotility2").style.visibility="visible",document.getElementById("NonProgrssiveMotile2").style.visibility="visible",document.getElementById("Immotile2").style.visibility="visible",document.getElementById("TotalProgrssiveMotile2").style.visibility="visible",document.getElementById("x_Volume2").style.width="80px",document.getElementById("x_Concentration2").style.width="80px",document.getElementById("x_Total2").style.width="80px",document.getElementById("x_ProgressiveMotility2").style.width="80px",document.getElementById("x_NonProgrssiveMotile2").style.width="80px",document.getElementById("x_Immotile2").style.width="80px",document.getElementById("x_TotalProgrssiveMotile2").style.width="80px"):(document.getElementById("x_Volume2").style.width="0px",document.getElementById("x_Concentration2").style.width="0px",document.getElementById("x_Total2").style.width="0px",document.getElementById("x_ProgressiveMotility2").style.width="0px",document.getElementById("x_NonProgrssiveMotile2").style.width="0px",document.getElementById("x_Immotile2").style.width="0px",document.getElementById("x_TotalProgrssiveMotile2").style.width="0px",document.getElementById("Volume2").style.visibility="hidden",document.getElementById("Concentration2").style.visibility="hidden",document.getElementById("Total2").style.visibility="hidden",document.getElementById("ProgressiveMotility2").style.visibility="hidden",document.getElementById("NonProgrssiveMotile2").style.visibility="hidden",document.getElementById("Immotile2").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile2").style.visibility="hidden")}}},pharmacy_batchmas:{x_OQ:{change:function(e){var t=$(this).fields(),n=(t.OQ.toNumber(),t.UR.toNumber()),l=(t.MRP.toNumber(),n+n*((t.SSGST.toNumber()+t.SCGST.toNumber())/100));t.RT.value(l.toFixed(2))}},x_MRP:{change:function(e){var t=$(this).fields(),n=(t.OQ.toNumber(),t.UR.toNumber()),l=(t.MRP.toNumber(),n+n*((t.SSGST.toNumber()+t.SCGST.toNumber())/100));t.RT.value(l.toFixed(2))}},x_UR:{change:function(e){var t=$(this).fields(),n=(t.OQ.toNumber(),t.UR.toNumber()),l=(t.MRP.toNumber(),n+n*((t.SSGST.toNumber()+t.SCGST.toNumber())/100));t.RT.value(l.toFixed(2))}},x_SSGST:{change:function(e){var t=$(this).fields(),n=(t.OQ.toNumber(),t.UR.toNumber()),l=(t.MRP.toNumber(),n+n*((t.SSGST.toNumber()+t.SCGST.toNumber())/100));t.RT.value(l.toFixed(2))}},x_SCGST:{change:function(e){var t=$(this).fields(),n=(t.OQ.toNumber(),t.UR.toNumber()),l=(t.MRP.toNumber(),n+n*((t.SSGST.toNumber()+t.SCGST.toNumber())/100));t.RT.value(l.toFixed(2))}},x_RT:{change:function(e){var t=$(this).fields(),n=(t.OQ.toNumber(),t.UR.toNumber());t.MRP.toNumber(),t.SSGST.toNumber(),t.SCGST.toNumber()}}},pharmacy_pharled:{x_SLNO:{change:function(e){addtotalSum()}},x_Product:{change:function(e){addtotalSum()}},x_RT:{change:function(e){var t=$(this).fields(),n=t.IQ.toNumber()*t.RT.toNumber();t.DAMT.value(n),addtotalSum()}},x_IQ:{change:function(e){var t=$(this).fields(),n=t.IQ.toNumber(),l=t.UR.toNumber();n>l&&(alert("You Cant Issue more than stock..."),t.IQ.value(l),n=l);var i=n*t.RT.toNumber();t.DAMT.value(i),addtotalSum()}},x_DAMT:{change:function(e){var t=$(this).fields(),n=t.IQ.toNumber()*t.RT.toNumber();t.DAMT.value(n),addtotalSum()}}},pharmacy_po:{x_DT:{"change keyup paste mouseup onChangeMonthYear onClose onSelect create picker_event hide changeDate":function(e){var t=$(this).fields(),n=t.DT[0].value.split("/");t.YM.value(n[2]+n[1])}}},view_pharmacygrn:{x_PrName:{change:function(e){var t=$(this).fields(),n=document.getElementById("x_BILLDT").value;""==n?(alert("Please add Bill Date ....."),t.PRC.value(""),t.PrName.value(""),t.BatchNo.value(""),t.ExpDate.value(""),t.MFRCODE.value(""),t.MRP.value(""),t.HSN.value(""),t.PSGST.value(""),t.PCGST.value(""),document.getElementById("x_BILLDT").focus()):t.BillDate.value(n)}},x_GrnQuantity:{change:function(e){var t=(m=$(this).fields()).GrnQuantity.toNumber(),n=(m.FreeQty.toNumber(),m.PurValue.toNumber()),l=m.Disc.toNumber(),i=(m.MRP.toNumber(),m.PurValue.toNumber(),((u=m.PSGST.toNumber())+(r=m.PCGST.toNumber()))/100*(n-l)*t),o=(y=n-l+(u+r)/100*(n-l),n*t);m.PTax.value(i),m.ItemValue.value(o);var a=o+i;m.SalTax.value(a);var d=m.SUnit.toNumber();t=m.GrnQuantity.toNumber();d>0&&(t*=d),m.Quantity.value(t);t=(m=$(this).fields()).GrnQuantity.toNumber(),m.FreeQty.toNumber(),n=m.PurValue.toNumber(),l=m.Disc.toNumber(),m.MRP.toNumber(),m.PurValue.toNumber();var m,u=m.PSGST.toNumber(),r=m.PCGST.toNumber(),s=m.Disc.value();if(0==l)y=n-l+(u+r)/100*(n-l),a=(o=n*t)+(i=(u+r)/100*(n-l)*t);else try{s.toString().indexOf("%"),s.toString().includes("%");if(-1==s.toString().indexOf("%"))y=(c=n*t-l)+(i=(u+r)/100*c),o=c,a=y;else{var c,y;y=(c=n*t-(l=(l=s.toString().replace("%",""))/100*(n*t)))+(i=(u+r)/100*c),o=c,a=y}}catch(e){}m.PTax.value(i),m.ItemValue.value(o),m.SalTax.value(a),addtotalSum(),addtotalSum()}},x_Quantity:{change:function(e){var t=(d=$(this).fields()).Quantity.toNumber(),n=(d.FreeQty.toNumber(),d.PurValue.toNumber()),l=d.Disc.toNumber(),i=(d.MRP.toNumber(),d.PurValue.toNumber(),((m=d.PSGST.toNumber())+(u=d.PCGST.toNumber()))/100*(n-l)*t),o=(c=n-l+(m+u)/100*(n-l),n*t);d.PTax.value(i),d.ItemValue.value(o);var a=o+i;d.SalTax.value(a),addtotalSum();t=(d=$(this).fields()).GrnQuantity.toNumber(),d.FreeQty.toNumber(),n=d.PurValue.toNumber(),l=d.Disc.toNumber(),d.MRP.toNumber(),d.PurValue.toNumber();var d,m=d.PSGST.toNumber(),u=d.PCGST.toNumber(),r=d.Disc.value();if(0==l)c=n-l+(m+u)/100*(n-l),a=(o=n*t)+(i=(m+u)/100*(n-l)*t);else try{r.toString().indexOf("%"),r.toString().includes("%");if(-1==r.toString().indexOf("%"))c=(s=n*t-l)+(i=(m+u)/100*s),o=s,a=c;else{var s,c;c=(s=n*t-(l=(l=r.toString().replace("%",""))/100*(n*t)))+(i=(m+u)/100*s),o=s,a=c}}catch(e){}d.PTax.value(i),d.ItemValue.value(o),d.SalTax.value(a),addtotalSum()}},x_FreeQty:{change:function(e){var t=(d=$(this).fields()).GrnQuantity.toNumber(),n=(d.FreeQty.toNumber(),d.PurValue.toNumber()),l=d.Disc.toNumber(),i=(d.MRP.toNumber(),d.PurValue.toNumber(),((m=d.PSGST.toNumber())+(u=d.PCGST.toNumber()))/100*(n-l)*t),o=(c=n-l+(m+u)/100*(n-l),n*t);d.PTax.value(i),d.ItemValue.value(o);var a=o+i;d.SalTax.value(a),addtotalSum();t=(d=$(this).fields()).GrnQuantity.toNumber(),d.FreeQty.toNumber(),n=d.PurValue.toNumber(),l=d.Disc.toNumber(),d.MRP.toNumber(),d.PurValue.toNumber();var d,m=d.PSGST.toNumber(),u=d.PCGST.toNumber(),r=d.Disc.value();if(0==l)c=n-l+(m+u)/100*(n-l),a=(o=n*t)+(i=(m+u)/100*(n-l)*t);else try{r.toString().indexOf("%"),r.toString().includes("%");if(-1==r.toString().indexOf("%"))c=(s=n*t-l)+(i=(m+u)/100*s),o=s,a=c;else{var s,c;c=(s=n*t-(l=(l=r.toString().replace("%",""))/100*(n*t)))+(i=(m+u)/100*s),o=s,a=c}}catch(e){}d.PTax.value(i),d.ItemValue.value(o),d.SalTax.value(a),addtotalSum()}},x_FreeQtyyy:{change:function(e){var t=$(this).fields(),n=t.SUnit.toNumber(),l=t.FreeQtyyy.toNumber();if(n>0){var i=l*n;t.FreeQty.value(i)}else t.FreeQty.value(totalitm);addtotalSum()}},x_PUnit:{change:function(e){var t=$(this).fields(),n=t.GrnQuantity.toNumber(),l=(t.FreeQty.toNumber(),t.PurValue.toNumber()),i=t.Disc.toNumber(),o=(t.MRP.toNumber(),t.PurValue.toNumber(),t.PSGST.toNumber()),a=t.PCGST.toNumber(),d=t.Disc.value();if(0==i){c=l-i+(o+a)/100*(l-i);var m=(u=l*n)+(s=(o+a)/100*(l-i)*n)}else try{d.toString().indexOf("%"),d.toString().includes("%");if(-1==d.toString().indexOf("%")){c=(r=l*n-i)+(s=(o+a)/100*r);var u=r;m=c}else{var r,s,c;c=(r=l*n-(i=(i=d.toString().replace("%",""))/100*(l*n)))+(s=(o+a)/100*r),u=r,m=c}}catch(e){}t.PTax.value(s),t.ItemValue.value(u),t.SalTax.value(m),addtotalSum()}},x_SUnit:{change:function(e){var t=(d=$(this).fields()).SUnit.toNumber(),n=d.FreeQtyyy.toNumber();if(t>0){var l=n*t;d.FreeQty.value(l)}else d.FreeQty.value(y);var i=d.GrnQuantity.toNumber();t>0&&(i*=t),d.Quantity.value(i);var o=d.MRP.toNumber();t=d.SUnit.toNumber(),i=d.GrnQuantity.toNumber();t>0?($MRPP=o/t,d.SalRate.value($MRPP.toFixed(2))):d.SalRate.value(o.toFixed(2));var a=d.PurValue.toNumber();t>0?($MRPPs=a/t,d.PurRate.value($MRPPs.toFixed(2))):d.PurRate.value(a.toFixed(2));i=(d=$(this).fields()).GrnQuantity.toNumber(),n=d.FreeQty.toNumber();var d,m=d.PurValue.toNumber(),u=d.Disc.toNumber(),r=(o=d.MRP.toNumber(),a=d.PurValue.toNumber(),d.PSGST.toNumber()),s=d.PCGST.toNumber(),c=d.Disc.value();if(0==u){b=m-u+(r+s)/100*(m-u);var y=(g=m*i)+(I=(r+s)/100*(m-u)*i)}else try{c.toString().indexOf("%"),c.toString().includes("%");if(-1==c.toString().indexOf("%")){b=(v=m*i-u)+(I=(r+s)/100*v);var g=v;y=b}else{var v,I,b;b=(v=m*i-(u=(u=c.toString().replace("%",""))/100*(m*i)))+(I=(r+s)/100*v),g=v,y=b}}catch(e){}d.PTax.value(I),d.ItemValue.value(g),d.SalTax.value(y),addtotalSum()}},x_Pack:{change:function(e){var t=$(this).fields(),n=t.Pack.toNumber(),l=t.Quantity.toNumber();t.Quantity.value(l*n)}},x_MRP:{change:function(e){var t=(r=$(this).fields()).MRP.toNumber(),n=r.SUnit.toNumber(),l=r.GrnQuantity.toNumber();n>0?($MRPP=t/n,r.SalRate.value($MRPP.toFixed(2))):r.SalRate.value(t.toFixed(2));var i=r.PurValue.toNumber();n>0?($MRPPs=i/n,r.PurRate.value($MRPPs.toFixed(2))):r.PurRate.value(i.toFixed(2));r.FreeQty.toNumber();var o=r.PurValue.toNumber(),a=r.Disc.toNumber(),d=(t=r.MRP.toNumber(),i=r.PurValue.toNumber(),((s=r.PSGST.toNumber())+(c=r.PCGST.toNumber()))/100*(o-a)*l),m=(v=o-a+(s+c)/100*(o-a),o*l);r.PTax.value(d.toFixed(2)),r.ItemValue.value(m.toFixed(2));var u=m+d;r.SalTax.value(u.toFixed(2)),addtotalSum();l=(r=$(this).fields()).GrnQuantity.toNumber(),r.FreeQty.toNumber(),o=r.PurValue.toNumber(),a=r.Disc.toNumber(),t=r.MRP.toNumber(),i=r.PurValue.toNumber();var r,s=r.PSGST.toNumber(),c=r.PCGST.toNumber(),y=r.Disc.value();if(0==a)v=o-a+(s+c)/100*(o-a),u=(m=o*l)+(d=(s+c)/100*(o-a)*l);else try{y.toString().indexOf("%"),y.toString().includes("%");if(-1==y.toString().indexOf("%"))v=(g=o*l-a)+(d=(s+c)/100*g),m=g,u=v;else{var g,v;v=(g=o*l-(a=(a=y.toString().replace("%",""))/100*(o*l)))+(d=(s+c)/100*g),m=g,u=v}}catch(e){}r.PTax.value(d),r.ItemValue.value(m),r.SalTax.value(u),addtotalSum()}},x_PurValue:{change:function(e){var t=(r=$(this).fields()).SUnit.toNumber(),n=r.GrnQuantity.toNumber();t>0&&(n*=t),r.Quantity.value(n);var l=r.MRP.toNumber();t=r.SUnit.toNumber(),n=r.GrnQuantity.toNumber();t>0?($MRPP=l/t,r.SalRate.value($MRPP.toFixed(2))):r.SalRate.value(l.toFixed(2));var i=r.PurValue.toNumber();t>0?($MRPPs=i/t,r.PurRate.value($MRPPs.toFixed(2))):r.PurRate.value(i.toFixed(2));n=r.GrnQuantity.toNumber(),r.FreeQty.toNumber();var o=r.PurValue.toNumber(),a=r.Disc.toNumber(),d=(l=r.MRP.toNumber(),i=r.PurValue.toNumber(),((s=r.PSGST.toNumber())+(c=r.PCGST.toNumber()))/100*(o-a)*n),m=(v=o-a+(s+c)/100*(o-a),o*n);r.PTax.value(d.toFixed(2)),r.ItemValue.value(m.toFixed(2));var u=m+d;r.SalTax.value(u.toFixed(2)),addtotalSum();n=(r=$(this).fields()).GrnQuantity.toNumber(),r.FreeQty.toNumber(),o=r.PurValue.toNumber(),a=r.Disc.toNumber(),l=r.MRP.toNumber(),i=r.PurValue.toNumber();var r,s=r.PSGST.toNumber(),c=r.PCGST.toNumber(),y=r.Disc.value();if(0==a)v=o-a+(s+c)/100*(o-a),u=(m=o*n)+(d=(s+c)/100*(o-a)*n);else try{y.toString().indexOf("%"),y.toString().includes("%");if(-1==y.toString().indexOf("%"))v=(g=o*n-a)+(d=(s+c)/100*g),m=g,u=v;else{var g,v;v=(g=o*n-(a=(a=y.toString().replace("%",""))/100*(o*n)))+(d=(s+c)/100*g),m=g,u=v}}catch(e){}r.PTax.value(d),r.ItemValue.value(m),r.SalTax.value(u),addtotalSum()}},x_GRNPer:{change:function(e){var t=$(this).fields(),n=t.GrnQuantity.toNumber(),l=(t.FreeQty.toNumber(),t.PurValue.toNumber()),i=(t.Disc.toNumber(),t.GRNPer.toNumber());t.MRP.toNumber(),t.PurValue.toNumber(),t.PSGST.toNumber(),t.PCGST.toNumber(),t.Disc.value();if(i>0){var o=l*n/100*i;t.Disc.value(o)}}},x_Disc:{change:function(e){var t=$(this).fields(),n=t.GrnQuantity.toNumber(),l=(t.FreeQty.toNumber(),t.PurValue.toNumber()),i=t.Disc.toNumber(),o=(t.MRP.toNumber(),t.PurValue.toNumber(),t.PSGST.toNumber()),a=t.PCGST.toNumber(),d=t.Disc.value();if(0==i){c=l-i+(o+a)/100*(l-i);var m=(u=l*n)+(s=(o+a)/100*(l-i)*n)}else try{d.toString().indexOf("%"),d.toString().includes("%");if(-1==d.toString().indexOf("%")){c=(r=l*n-i)+(s=(o+a)/100*r);var u=r;m=c}else{var r,s,c;c=(r=l*n-(i=(i=d.toString().replace("%",""))/100*(l*n)))+(s=(o+a)/100*r),u=r,m=c}}catch(e){}t.PTax.value(s),t.ItemValue.value(u),t.SalTax.value(m),addtotalSum()}},x_PSGST:{change:function(e){var t=(m=$(this).fields()).PSGST.toNumber();m.SSGST.value(t);var n=m.GrnQuantity.toNumber(),l=(m.FreeQty.toNumber(),m.PurValue.toNumber()),i=m.Disc.toNumber(),o=(m.MRP.toNumber(),m.PurValue.toNumber(),((t=m.PSGST.toNumber())+(u=m.PCGST.toNumber()))/100*(l-i)*n),a=(c=l-i+(t+u)/100*(l-i),l*n);m.PTax.value(o.toFixed(2)),m.ItemValue.value(a.toFixed(2));var d=a+o;m.SalTax.value(d.toFixed(2)),addtotalSum();n=(m=$(this).fields()).GrnQuantity.toNumber(),m.FreeQty.toNumber(),l=m.PurValue.toNumber(),i=m.Disc.toNumber(),m.MRP.toNumber(),m.PurValue.toNumber(),t=m.PSGST.toNumber();var m,u=m.PCGST.toNumber(),r=m.Disc.value();if(0==i)c=l-i+(t+u)/100*(l-i),d=(a=l*n)+(o=(t+u)/100*(l-i)*n);else try{r.toString().indexOf("%"),r.toString().includes("%");if(-1==r.toString().indexOf("%"))c=(s=l*n-i)+(o=(t+u)/100*s),a=s,d=c;else{var s,c;c=(s=l*n-(i=(i=r.toString().replace("%",""))/100*(l*n)))+(o=(t+u)/100*s),a=s,d=c}}catch(e){}m.PTax.value(o),m.ItemValue.value(a),m.SalTax.value(d),addtotalSum()}},x_PCGST:{change:function(e){var t=(r=$(this).fields()).PCGST.toNumber();r.SCGST.value(t);var n=r.SUnit.toNumber(),l=r.GrnQuantity.toNumber();n>0&&(l*=n),r.Quantity.value(l);var i=r.MRP.toNumber();n=r.SUnit.toNumber(),l=r.GrnQuantity.toNumber();n>0?($MRPP=i/n,r.SalRate.value($MRPP.toFixed(2))):r.SalRate.value(i.toFixed(2));l=r.GrnQuantity.toNumber(),r.FreeQty.toNumber();var o=r.PurValue.toNumber(),a=r.Disc.toNumber(),d=(i=r.MRP.toNumber(),r.PurValue.toNumber(),((s=r.PSGST.toNumber())+(t=r.PCGST.toNumber()))/100*(o-a)*l),m=(g=o-a+(s+t)/100*(o-a),o*l);r.PTax.value(d.toFixed(2)),r.ItemValue.value(m.toFixed(2));var u=m+d;r.SalTax.value(u.toFixed(2)),addtotalSum();l=(r=$(this).fields()).GrnQuantity.toNumber(),r.FreeQty.toNumber(),o=r.PurValue.toNumber(),a=r.Disc.toNumber(),i=r.MRP.toNumber(),r.PurValue.toNumber();var r,s=r.PSGST.toNumber(),c=(t=r.PCGST.toNumber(),r.Disc.value());if(0==a)g=o-a+(s+t)/100*(o-a),u=(m=o*l)+(d=(s+t)/100*(o-a)*l);else try{c.toString().indexOf("%"),c.toString().includes("%");if(-1==c.toString().indexOf("%"))g=(y=o*l-a)+(d=(s+t)/100*y),m=y,u=g;else{var y,g;g=(y=o*l-(a=(a=c.toString().replace("%",""))/100*(o*l)))+(d=(s+t)/100*y),m=y,u=g}}catch(e){}r.PTax.value(d),r.ItemValue.value(m),r.SalTax.value(u),addtotalSum()}},x_ItemValue:{change:function(e){var t=(d=$(this).fields()).GrnQuantity.toNumber(),n=(d.FreeQty.toNumber(),d.PurValue.toNumber()),l=d.Disc.toNumber(),i=(d.MRP.toNumber(),d.PurValue.toNumber(),((m=d.PSGST.toNumber())+(u=d.PCGST.toNumber()))/100*(n-l)*t),o=(c=n-l+(m+u)/100*(n-l),n*t);d.PTax.value(i),d.ItemValue.value(o);var a=o+i;d.SalTax.value(a),addtotalSum();t=(d=$(this).fields()).GrnQuantity.toNumber(),d.FreeQty.toNumber(),n=d.PurValue.toNumber(),l=d.Disc.toNumber(),d.MRP.toNumber(),d.PurValue.toNumber();var d,m=d.PSGST.toNumber(),u=d.PCGST.toNumber(),r=d.Disc.value();if(0==l)c=n-l+(m+u)/100*(n-l),a=(o=n*t)+(i=(m+u)/100*(n-l)*t);else try{r.toString().indexOf("%"),r.toString().includes("%");if(-1==r.toString().indexOf("%"))c=(s=n*t-l)+(i=(m+u)/100*s),o=s,a=c;else{var s,c;c=(s=n*t-(l=(l=r.toString().replace("%",""))/100*(n*t)))+(i=(m+u)/100*s),o=s,a=c}}catch(e){}d.PTax.value(i),d.ItemValue.value(o),d.SalTax.value(a),addtotalSum()}},x_PurRate:{change:function(e){var t=$(this).fields(),n=t.SUnit.toNumber(),l=t.PurValue.toNumber();n>0?($MRPPs=l/n,t.PurRate.value($MRPPs.toFixed(2))):t.PurRate.value(l.toFixed(2))}}},pharmacy_grn:{x_DT:{"change keyup paste mouseup onChangeMonthYear onClose onSelect create picker_event hide changeDate":function(e){var t=$(this).fields(),n=t.DT[0].value.split("/");t.YM.value(n[2]+n[1])}},x_GRNTotalValue:{change:function(e){var t=$(this).fields(),n=(t.GRNTotalValue.toNumber(),t.TransPort.toNumber()),l=t.AnyOther.toNumber(),i=t.BillDiscount.toNumber(),o=t.GrnValue.toNumber();$FFGRNTotalValue=o+n+l-i,t.GRNTotalValue.value($FFGRNTotalValue)}},x_BillDiscount:{change:function(e){var t=$(this).fields(),n=(t.GRNTotalValue.toNumber(),t.TransPort.toNumber()),l=t.AnyOther.toNumber(),i=t.BillDiscount.toNumber(),o=t.GrnValue.toNumber();$FFGRNTotalValue=o+n+l-i,t.GRNTotalValue.value($FFGRNTotalValue)}},x_TransPort:{change:function(e){var t=$(this).fields(),n=(t.GRNTotalValue.toNumber(),t.TransPort.toNumber()),l=t.AnyOther.toNumber(),i=t.BillDiscount.toNumber(),o=t.GrnValue.toNumber();$FFGRNTotalValue=parseInt(o)+parseInt(n)+parseInt(l)-i,t.GRNTotalValue.value($FFGRNTotalValue)}},x_AnyOther:{change:function(e){var t=$(this).fields(),n=(t.GRNTotalValue.toNumber(),t.TransPort.toNumber()),l=t.AnyOther.toNumber(),i=t.BillDiscount.toNumber(),o=t.GrnValue.toNumber();$FFGRNTotalValue=o+n+l-i,t.GRNTotalValue.value($FFGRNTotalValue)}}},view_ivf_treatment_plan:{x_RIDNO:{"change keyup":function(e){var t=[{RIDNo:$(this).fields().RIDNO.toNumber()}],n=JSON.stringify(t);$.ajax({type:"GET",url:"ajaxinsert.php?control=ivfCoupleReg",data:{data:n},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var l=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+l.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+l.first_name,document.getElementById("SemPatientGender").innerText="Gender : "+l.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+l.blood_group;var i="";i=""==l.profilePic||null==l.profilePic?"hims/profile-picture.png":l.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+i,document.getElementById("SemPatientAge").innerText="Age : "+l.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+l.mobile_no,document.getElementById("SemPatientEmail").innerText="Email : "+l.PEmail,document.getElementById("SemPartnerId").innerText="Partner Id : "+l.PartnerPatientID,document.getElementById("SemPartnerPatientName").innerText="Partner Name : "+l.Partnerfirst_name,document.getElementById("SemPartnerGender").innerText="Gender : "+l.Partnergender,document.getElementById("SemPartnerBloodGroup").innerText="Blood Group : "+l.Partnerblood_group;i="";i=""==l.PartnerprofilePic||null==l.PartnerprofilePic?"hims/profile-picture.png":l.PartnerprofilePic,document.getElementById("SemPartnerprofilePicturePatient").src="uploads/"+i,document.getElementById("SemPartnerAge").innerText="Age : "+l.PartnerAge,document.getElementById("SemPartnerMobile").innerText="Mobile : "+l.Partnermobile_no,document.getElementById("SemPartnerEmail").innerText="Email : "+l.PartnerPEmail,document.getElementById("partnerdataview").style.display="block",document.getElementById("patientdataview").className="col-md-6"}}})}},x_ARTCYCLE:{click:function(e){document.getElementById("Treatment").style.display="none",document.getElementById("TreatmentTec").style.display="none",document.getElementById("TypeOfCycle").style.display="none",document.getElementById("SpermOrgin").style.display="none",document.getElementById("State").style.display="none",document.getElementById("Origin").style.display="none",document.getElementById("MACS").style.display="none",document.getElementById("Technique").style.display="none",document.getElementById("PgdPlanning").style.display="none",document.getElementById("IMSI").style.display="none",document.getElementById("SequentialCulture").style.display="none",document.getElementById("TimeLapse").style.display="none",document.getElementById("AH").style.display="none",document.getElementById("Weight").style.display="none",document.getElementById("BMI").style.display="none",document.getElementById("TreatmentTreatment").style.display="none",document.getElementById("Ectopic").style.display="none",document.getElementById("use").style.display="none","Intrauterine insemination(IUI)"==this.value&&(document.getElementById("Treatment").style.display="block",document.getElementById("TreatmentTec").style.display="block",document.getElementById("TypeOfCycle").style.display="block",document.getElementById("SpermOrgin").style.display="block",document.getElementById("State").style.display="block",document.getElementById("Origin").style.display="block",document.getElementById("MACS").style.display="block",document.getElementById("Technique").style.display="none",document.getElementById("PgdPlanning").style.display="none",document.getElementById("IMSI").style.display="none",document.getElementById("SequentialCulture").style.display="none",document.getElementById("TimeLapse").style.display="none",document.getElementById("AH").style.display="none",document.getElementById("Weight").style.display="none",document.getElementById("BMI").style.display="none"),"IVF"==this.value&&(document.getElementById("Treatment").style.display="block",document.getElementById("TreatmentTec").style.display="block",document.getElementById("TypeOfCycle").style.display="block",document.getElementById("SpermOrgin").style.display="block",document.getElementById("State").style.display="block",document.getElementById("Origin").style.display="block",document.getElementById("MACS").style.display="block",document.getElementById("Technique").style.display="block",document.getElementById("PgdPlanning").style.display="block",document.getElementById("IMSI").style.display="block",document.getElementById("SequentialCulture").style.display="block",document.getElementById("TimeLapse").style.display="block",document.getElementById("AH").style.display="block",document.getElementById("Weight").style.display="block",document.getElementById("BMI").style.display="block"),"Oocyte Vitrification"==this.value&&(document.getElementById("Treatment").style.display="block",document.getElementById("TreatmentTec").style.display="block",document.getElementById("TypeOfCycle").style.display="block",document.getElementById("SpermOrgin").style.display="block",document.getElementById("State").style.display="block",document.getElementById("Origin").style.display="block",document.getElementById("MACS").style.display="block",document.getElementById("Technique").style.display="block",document.getElementById("PgdPlanning").style.display="block",document.getElementById("IMSI").style.display="block",document.getElementById("SequentialCulture").style.display="block",document.getElementById("TimeLapse").style.display="block",document.getElementById("AH").style.display="block",document.getElementById("Weight").style.display="block",document.getElementById("BMI").style.display="block"),"Egg Donation"==this.value&&(document.getElementById("TypeOfCycle").style.display="block",document.getElementById("Origin").style.display="block",document.getElementById("Ectopic").style.display="block",document.getElementById("use").style.display="block"),"Frozen Embryo Transfer"==this.value&&(document.getElementById("TypeOfCycle").style.display="block",document.getElementById("PgdPlanning").style.display="block",document.getElementById("TreatmentTreatment").style.display="block"),"Evaluation cycle"==this.value&&(document.getElementById("TypeOfCycle").style.display="block",document.getElementById("PgdPlanning").style.display="block",document.getElementById("TreatmentTreatment").style.display="block")}}},view_donor_ivf:{x_Female:{change:function(e){var t=$(this).fields(),n=[{patientId:t.Female.toNumber()}],l=JSON.stringify(n);$.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPicture",data:{data:l},cache:!1,success:function(e){for(var n=JSON.parse(e).records,l=0;l<n.length;l++){var i=n[l];null==i.profilePic?(t.femalepic.value("hims\\profile-picture.png"),document.getElementById("femaleprofilePicturePatient").src="uploads/hims\\profile-picture.png"):(t.femalepic.value(i.profilePic),document.getElementById("femaleprofilePicturePatient").src="uploads/"+i.profilePic),document.getElementById("femaleprofilePicturePatient").style.display="block"}}})}}},pharmacy_billing_voucher:{x_ModeofPayment:{change:function(e){var t=$(this).fields().ModeofPayment.value();"CARD"==t||"PAYTM"==t||"NEFT"==t||"RTGS"==t||"CHEQUE"==t||"CASH & CARD"==t?("CARD"==t||"CASH & CARD"==t?(document.getElementById("viewCardType").style.display="block","CASH & CARD"==t?(document.getElementById("viewCash").style.display="block",document.getElementById("viewCard").style.display="block"):(document.getElementById("viewCash").style.display="none",document.getElementById("viewCard").style.display="none")):document.getElementById("viewCardType").style.display="none",document.getElementById("viewBankName").style.display="block",document.getElementById("viewBankDetails").innerText=t+" Details"):document.getElementById("viewBankName").style.display="none"}},x_DiscountAmount:{"change keyup click keypress":function(e){addtotalSum()}},x_Cash:{"change keyup click keypress":function(e){addtotalSumCash()}},x_Card:{"change keyup click keypress":function(e){addtotalSumCard()}}},view_ip_advance:{x_ModeofPayment:{change:function(e){var t=$(this).fields().ModeofPayment.value();"CARD"==t||"PAYTM"==t||"NEFT"==t?(document.getElementById("viewBankName").style.display="block",document.getElementById("viewBankDetails").innerText=t+" Details"):document.getElementById("viewBankName").style.display="none"}}},depositdetails:{x_DepositDate:{"change keyup paste mouseup onChangeMonthYear onClose onSelect create picker_event hide changeDate":function(e){var t=$(this).fields().DepositDate.value().split("/"),n=[{FromDate:t[2]+"-"+t[1]+"-"+t[0]+" 00:00:00",ToDate:t[2]+"-"+t[1]+"-"+t[0]+" 23:59:59",CurrentUserName:document.getElementById("createdbyId").value,CurrentUserID:document.getElementById("HospIDId").value}],l=JSON.stringify(n);$.ajax({type:"GET",url:"ajaxinsert.php?control=TillSearch",data:{data:l},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var l=t[n];if("CASH"==l.ModeofPayment&&(document.getElementById("x_CashCollected").value=l.Amount),"CARD"==l.ModeofPayment&&(document.getElementById("x_Card").value=l.Amount),"NEFT"==l.ModeofPayment&&(document.getElementById("x_NEFTRTGS").value=l.Amount),"RTGS"==l.ModeofPayment&&(document.getElementById("x_RTGS").value=l.Amount),"PAYTM"==l.ModeofPayment&&(document.getElementById("x_PAYTM").value=l.Amount),"CHEQUE"==l.ModeofPayment&&(document.getElementById("x_Cheque").value=l.Amount),"CASH &amp; CARD"==l.ModeofPayment){var i=document.getElementById("x_CashCollected").value,o=document.getElementById("x_Card").value;document.getElementById("x_CashCollected").value=""==i?l.Cash:(parseInt(i)+parseInt(l.Cash)).toFixed(2),document.getElementById("x_Card").value=""==o?l.Card:(parseInt(o)+parseInt(l.Card)).toFixed(2)}if("PharmacyReturnCash"==l.ModeofPayment){var a=parseInt(document.getElementById("x_CashCollected").value)-parseInt(l.Amount);document.getElementById("x_CashCollected").value=a.toFixed(2)}if("PharmacyReturnCard"==l.ModeofPayment){var d=parseInt(document.getElementById("x_Card").value)-parseInt(l.Amount);document.getElementById("x_Card").value=d.toFixed(2)}}}})}},x_DepositToBankSelect:{click:function(e){var t=$(this).fields().DepositToBankSelect.value();"Bank"==t&&(document.getElementById("DepositToBankid").style.visibility="visible",document.getElementById("TransferToid").style.visibility="hidden"),"Transfer"==t&&(document.getElementById("DepositToBankid").style.visibility="hidden",document.getElementById("TransferToid").style.visibility="visible")}},x_OpeningBalance:{change:function(e){calculateAmount()}},x_Other:{change:function(e){calculateAmount()}},x_TotalTransferDepositAmount:{change:function(e){calculateAmount()}},x_A2000Count:{change:function(e){calculateAmount()}},x_A2000Amount:{change:function(e){calculateAmount()}},x_A1000Count:{change:function(e){calculateAmount()}},x_A1000Amount:{change:function(e){calculateAmount()}},x_A500Count:{change:function(e){calculateAmount()}},x_A500Amount:{change:function(e){calculateAmount()}},x_A200Count:{change:function(e){calculateAmount()}},x_A200Amount:{change:function(e){calculateAmount()}},x_A100Count:{change:function(e){calculateAmount()}},x_A100Amount:{change:function(e){calculateAmount()}},x_A50Count:{change:function(e){calculateAmount()}},x_A50Amount:{change:function(e){calculateAmount()}},x_A20Count:{change:function(e){calculateAmount()}},x_A20Amount:{change:function(e){calculateAmount()}},x_A10Count:{change:function(e){calculateAmount()}},x_A10Amount:{change:function(e){calculateAmount()}}},view_ip_patient_admission:{x_patient_id:{"change keyup":function(e){var t=$(this).fields(),n=[{PatId:t.patient_id.toNumber()}],l=JSON.stringify(n);$.ajax({type:"GET",url:"ajaxinsert.php?control=FindivfCoupleReg",data:{data:l},cache:!1,success:function(e){for(var n=JSON.parse(e).records,l=0;l<n.length;l++){var i=n[l];document.getElementById("x_PartnerID").value=i.PartnerPatientID,document.getElementById("x_PartnerMobile").value=i.Partnermobile_no,document.getElementById("x_PartnerName").value=i.Partnerfirst_name,document.getElementById("x_ReferedByDr").value=i.ReferedBy,document.getElementById("x_Consultant").value=i.Doctor,document.getElementById("lu_x_physician_id").value=i.DrID,null==i.profilePic?(t.profilePic.value("hims\\profile-picture.png"),document.getElementById("patientPropic").src="uploads/hims\\profile-picture.png"):(t.profilePic.value(i.profilePic),document.getElementById("patientPropic").src="uploads/"+i.profilePic)}}})}},x_AdviceToOtherHospital:{click:function(e){var t=$(this).fields().AdviceToOtherHospital.value();document.getElementById("AdviceToOtherHospitalReason").style.display="Yes"==t?"block":"none"}}},view_pharmacytransfer:{x_LastMonthSale:{change:function(e){var t=$(this).fields(),n=document.getElementById("x_transfer").value;t.BRCODE.value(n)}},x_PrName:{change:function(e){var t=$(this).fields(),n=document.getElementById("x_transfer").value;t.BRCODE.value(n)}},x_Quantity:{change:function(e){var t=$(this).fields(),n=t.Quantity.toNumber(),l=t.CurStock.toNumber();n>l&&(alert("Your quantity is exceeded current stock..."),n=l,t.Quantity.value(n));var i=t.MRP.toNumber()*n;t.ItemValue.value(i.toFixed(2))}}},view_pharmacy_consumption:{x_ConsQTY:{change:function(e){var t=$(this).fields(),n=t.ConsQTY.toNumber(),l=t.Stock.toNumber();l<n&&(alert("You cant consume more than stock..."),t.ConsQTY.value(l))}}},pharmacy_payment:{x_Customername:{change:function(e){var t=[{PC:$(this).fields().Customername.value(),HospitalID:document.getElementById("HospitalIDDD").value}],n=JSON.stringify(t);$.ajax({type:"GET",url:"ajaxinsert.php?control=PharmachyGRNSearch",data:{data:n},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var l=t[n],i=0,o='<table id="customers"><tr><th></th><th>GRN No. </th><th>Bill No. </th><th>Bill Date </th><th>Bill Amount</th><th>Paid Amount</th></tr>';for(n=0;n<t.length;n++){o=o+'<tr><td><input type="checkbox" onclick="calulateselectedAmount()" id="select'+n+'" name="select'+n+'"> <input type="hidden" id="Toidcnt'+n+'" name="Toidcnt'+n+'" value="'+(l=t[n]).id+'"></td><td id="GRNNO'+n+'" name="GRNNO'+n+'" >'+l.GRNNO+'</td><td id="BILLNO'+n+'" name="BILLNO'+n+'" >'+l.BILLNO+'</td> <td id="BILLDT'+n+'" name="BILLDT'+n+'" >'+l.BILLDT+'</td><td id="BillTotalValue'+n+'" name="BillTotalValue'+n+'"  style="text-align:right">'+l.BillTotalValue+'</td><td style="width:100px;">  <input  style="text-align:right" type="text"  id="PaidAmount'+n+'" name="PaidAmount'+n+'"   onblur="calulateselectedAmount()" value="'+l.BillTotalValue+'"/></td></tr>';i=parseInt(i)+parseInt(l.BillTotalValue)}o=(o=o+'<tr><td></td><td></td><td></td><td  style="text-align:right" >Total </td><td  style="text-align:right" >'+i.toFixed(2)+'</td><td id="totalAMTtoPay" name="totalAMTtoPay"  style="text-align:right" > 0.00</td></tr></table>')+' <input type="hidden" id="Totttlcnt" name="Totttlcnt" value="'+t.length+'">';t.length>0&&(document.getElementById("loadGrnItems").innerHTML=o)}}})}}},view_billing_voucher_print:{x_ModeofPayment:{change:function(e){var t=$(this).fields().ModeofPayment.value();"CARD"==t||"PAYTM"==t||"NEFT"==t?(document.getElementById("viewBankName").style.display="block",document.getElementById("viewBankDetails").innerText=t+" Details"):document.getElementById("viewBankName").style.display="none"}},x_CancelBill:{change:function(e){var t=$(this).fields().CancelBill.value();document.getElementById("IIDDCancelBankName").style.display="Cancel NEFT Return"==t||"PAYTM"==t||"NEFT"==t?"block":"none"}}},view_pharmacy_pharled_return:{x_RT:{change:function(e){var t=$(this).fields(),n=t.MRQ.toNumber()*t.RT.toNumber();t.DAMT.value(n),addtotalSum()}},x_MRQ:{change:function(e){var t=$(this).fields(),n=t.MRQ.toNumber()*t.RT.toNumber();t.DAMT.value(n),addtotalSum()}}},monitor_treatment_plan:{x_Treatment:{change:function(e){var t=$(this).fields().Treatment.value();document.getElementById("stIUIDetails").style.display="none",document.getElementById("IVFviewBankName").style.display="none",document.getElementById("FETviewBankName").style.display="none","IUI"==t&&(document.getElementById("stIUIDetails").style.display="block",document.getElementById("IVFviewBankName").style.display="none",document.getElementById("FETviewBankName").style.display="none"),"IVF"==t&&(document.getElementById("stIUIDetails").style.display="none",document.getElementById("IVFviewBankName").style.display="block",document.getElementById("FETviewBankName").style.display="none"),"FET"==t&&(document.getElementById("stIUIDetails").style.display="none",document.getElementById("IVFviewBankName").style.display="none",document.getElementById("FETviewBankName").style.display="block"),"NC"==t&&(document.getElementById("stIUIDetails").style.display="none",document.getElementById("IVFviewBankName").style.display="none",document.getElementById("FETviewBankName").style.display="none")}}},view_lab_service:{x_SERVICE_TYPE:{change:function(e){var t=$(this).fields(),n=(t.DEPARTMENT.value(),[{SERVICETYPE:t.SERVICE_TYPE.value()}]),l=JSON.stringify(n);$.ajax({type:"GET",url:"ajaxinsert.php?control=labservicetesttestno",data:{data:l},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var l=t[n],i=parseInt(l.Count)+parseInt(1),o=l.SERVICETYPE+String(i).padStart(4,"0");document.getElementById("x_CODE").value=o}}})}}},patient_room:{x_Reception:{change:function(e){var t=[{patientId:$(this).fields().Reception.toNumber()}],n=JSON.stringify(t);$.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPictureMRN",data:{data:n},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var l=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+l.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+l.first_name,null==l.gender&&(l.gender=""),null==l.blood_group&&(l.blood_group=""),null==l.Age&&(l.Age=""),null==l.mobile_no&&(l.mobile_no=""),null==l.PEmail&&(l.PEmail=""),null==l.mrnNo&&(l.mrnNo=""),document.getElementById("SemPatientGender").innerText="Gender : "+l.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+l.blood_group;var i="";i=""==l.profilePic||null==l.profilePic?"hims/profile-picture.png":l.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+i,document.getElementById("SemPatientAge").innerText="Age : "+l.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+l.mobile_no,document.getElementById("SemPatientEmail").innerText="MRN No : "+l.mrnNo,document.getElementById("x_Reception").value=l.Reception,document.getElementById("x_PatientId").value=l.patientIdOne,document.getElementById("x_mrnno").value=l.mrnNo,document.getElementById("x_PatientName").value=l.first_name,document.getElementById("x_Age").value=l.Age,document.getElementById("x_Gender").value=l.gender,document.getElementById("x_profilePic").value=i,document.getElementById("x_PatID").value=l.PatientID,document.getElementById("x_MobileNumber").value=l.mobile_no}}})}}},store_grn:{x_BillDiscount:{change:function(e){var t=$(this).fields(),n=(t.GRNTotalValue.toNumber(),t.TransPort.toNumber()),l=t.AnyOther.toNumber(),i=t.BillDiscount.toNumber(),o=t.GrnValue.toNumber();$FFGRNTotalValue=o+n+l-i,t.GRNTotalValue.value($FFGRNTotalValue)}},x_TransPort:{change:function(e){var t=$(this).fields(),n=(t.GRNTotalValue.toNumber(),t.TransPort.toNumber()),l=t.AnyOther.toNumber(),i=t.BillDiscount.toNumber(),o=t.GrnValue.toNumber();$FFGRNTotalValue=parseInt(o)+parseInt(n)+parseInt(l)-i,t.GRNTotalValue.value($FFGRNTotalValue)}},x_AnyOther:{change:function(e){var t=$(this).fields(),n=(t.GRNTotalValue.toNumber(),t.TransPort.toNumber()),l=t.AnyOther.toNumber(),i=t.BillDiscount.toNumber(),o=t.GrnValue.toNumber();$FFGRNTotalValue=parseInt(o)+parseInt(n)+parseInt(l)-i,t.GRNTotalValue.value($FFGRNTotalValue)}}},view_store_grn:{x_GrnQuantity:{change:function(e){var t=(m=$(this).fields()).GrnQuantity.toNumber(),n=(m.FreeQty.toNumber(),m.PurValue.toNumber()),l=m.Disc.toNumber(),i=(m.MRP.toNumber(),m.PurValue.toNumber(),((u=m.PSGST.toNumber())+(r=m.PCGST.toNumber()))/100*(n-l)*t),o=(y=n-l+(u+r)/100*(n-l),n*t);m.PTax.value(i),m.ItemValue.value(o);var a=o+i;m.SalTax.value(a);var d=m.SUnit.toNumber();t=m.GrnQuantity.toNumber();d>0&&(t*=d),m.Quantity.value(t);t=(m=$(this).fields()).GrnQuantity.toNumber(),m.FreeQty.toNumber(),n=m.PurValue.toNumber(),l=m.Disc.toNumber(),m.MRP.toNumber(),m.PurValue.toNumber();var m,u=m.PSGST.toNumber(),r=m.PCGST.toNumber(),s=m.Disc.value();if(0==l)y=n-l+(u+r)/100*(n-l),a=(o=n*t)+(i=(u+r)/100*(n-l)*t);else try{s.toString().indexOf("%"),s.toString().includes("%");if(-1==s.toString().indexOf("%"))y=(c=n*t-l)+(i=(u+r)/100*c),o=c,a=y;else{var c,y;y=(c=n*t-(l=(l=s.toString().replace("%",""))/100*(n*t)))+(i=(u+r)/100*c),o=c,a=y}}catch(e){}m.PTax.value(i),m.ItemValue.value(o),m.SalTax.value(a),addtotalSum(),addtotalSum()}},x_PUnit:{change:function(e){var t=$(this).fields(),n=t.GrnQuantity.toNumber(),l=(t.FreeQty.toNumber(),t.PurValue.toNumber()),i=t.Disc.toNumber(),o=(t.MRP.toNumber(),t.PurValue.toNumber(),t.PSGST.toNumber()),a=t.PCGST.toNumber(),d=t.Disc.value();if(0==i){c=l-i+(o+a)/100*(l-i);var m=(u=l*n)+(s=(o+a)/100*(l-i)*n)}else try{d.toString().indexOf("%"),d.toString().includes("%");if(-1==d.toString().indexOf("%")){c=(r=l*n-i)+(s=(o+a)/100*r);var u=r;m=c}else{var r,s,c;c=(r=l*n-(i=(i=d.toString().replace("%",""))/100*(l*n)))+(s=(o+a)/100*r),u=r,m=c}}catch(e){}t.PTax.value(s),t.ItemValue.value(u),t.SalTax.value(m),addtotalSum()}},x_SUnit:{change:function(e){var t=(o=$(this).fields()).SUnit.toNumber(),n=o.GrnQuantity.toNumber();t>0&&(n*=t),o.Quantity.value(n);var l=o.MRP.toNumber();t=o.SUnit.toNumber(),n=o.GrnQuantity.toNumber();t>0?($MRPP=l/t,o.SalRate.value($MRPP.toFixed(2))):o.SalRate.value(l.toFixed(2));var i=o.PurValue.toNumber();t>0?($MRPPs=i/t,o.PurRate.value($MRPPs.toFixed(2))):o.PurRate.value(i.toFixed(2));n=(o=$(this).fields()).GrnQuantity.toNumber(),o.FreeQty.toNumber();var o,a=o.PurValue.toNumber(),d=o.Disc.toNumber(),m=(l=o.MRP.toNumber(),i=o.PurValue.toNumber(),o.PSGST.toNumber()),u=o.PCGST.toNumber(),r=o.Disc.value();if(0==d){v=a-d+(m+u)/100*(a-d);var s=(c=a*n)+(g=(m+u)/100*(a-d)*n)}else try{r.toString().indexOf("%"),r.toString().includes("%");if(-1==r.toString().indexOf("%")){v=(y=a*n-d)+(g=(m+u)/100*y);var c=y;s=v}else{var y,g,v;v=(y=a*n-(d=(d=r.toString().replace("%",""))/100*(a*n)))+(g=(m+u)/100*y),c=y,s=v}}catch(e){}o.PTax.value(g),o.ItemValue.value(c),o.SalTax.value(s),addtotalSum()}},x_MRP:{change:function(e){var t=(r=$(this).fields()).MRP.toNumber(),n=r.SUnit.toNumber(),l=r.GrnQuantity.toNumber();n>0?($MRPP=t/n,r.SalRate.value($MRPP.toFixed(2))):r.SalRate.value(t.toFixed(2));var i=r.PurValue.toNumber();n>0?($MRPPs=i/n,r.PurRate.value($MRPPs.toFixed(2))):r.PurRate.value(i.toFixed(2));r.FreeQty.toNumber();var o=r.PurValue.toNumber(),a=r.Disc.toNumber(),d=(t=r.MRP.toNumber(),i=r.PurValue.toNumber(),((s=r.PSGST.toNumber())+(c=r.PCGST.toNumber()))/100*(o-a)*l),m=(v=o-a+(s+c)/100*(o-a),o*l);r.PTax.value(d.toFixed(2)),r.ItemValue.value(m.toFixed(2));var u=m+d;r.SalTax.value(u.toFixed(2)),addtotalSum();l=(r=$(this).fields()).GrnQuantity.toNumber(),r.FreeQty.toNumber(),o=r.PurValue.toNumber(),a=r.Disc.toNumber(),t=r.MRP.toNumber(),i=r.PurValue.toNumber();var r,s=r.PSGST.toNumber(),c=r.PCGST.toNumber(),y=r.Disc.value();if(0==a)v=o-a+(s+c)/100*(o-a),u=(m=o*l)+(d=(s+c)/100*(o-a)*l);else try{y.toString().indexOf("%"),y.toString().includes("%");if(-1==y.toString().indexOf("%"))v=(g=o*l-a)+(d=(s+c)/100*g),m=g,u=v;else{var g,v;v=(g=o*l-(a=(a=y.toString().replace("%",""))/100*(o*l)))+(d=(s+c)/100*g),m=g,u=v}}catch(e){}r.PTax.value(d),r.ItemValue.value(m),r.SalTax.value(u),addtotalSum()}},x_PurValue:{change:function(e){var t=(r=$(this).fields()).SUnit.toNumber(),n=r.GrnQuantity.toNumber();t>0&&(n*=t),r.Quantity.value(n);var l=r.MRP.toNumber();t=r.SUnit.toNumber(),n=r.GrnQuantity.toNumber();t>0?($MRPP=l/t,r.SalRate.value($MRPP.toFixed(2))):r.SalRate.value(l.toFixed(2));var i=r.PurValue.toNumber();t>0?($MRPPs=i/t,r.PurRate.value($MRPPs.toFixed(2))):r.PurRate.value(i.toFixed(2));n=r.GrnQuantity.toNumber(),r.FreeQty.toNumber();var o=r.PurValue.toNumber(),a=r.Disc.toNumber(),d=(l=r.MRP.toNumber(),i=r.PurValue.toNumber(),((s=r.PSGST.toNumber())+(c=r.PCGST.toNumber()))/100*(o-a)*n),m=(v=o-a+(s+c)/100*(o-a),o*n);r.PTax.value(d.toFixed(2)),r.ItemValue.value(m.toFixed(2));var u=m+d;r.SalTax.value(u.toFixed(2)),addtotalSum();n=(r=$(this).fields()).GrnQuantity.toNumber(),r.FreeQty.toNumber(),o=r.PurValue.toNumber(),a=r.Disc.toNumber(),l=r.MRP.toNumber(),i=r.PurValue.toNumber();var r,s=r.PSGST.toNumber(),c=r.PCGST.toNumber(),y=r.Disc.value();if(0==a)v=o-a+(s+c)/100*(o-a),u=(m=o*n)+(d=(s+c)/100*(o-a)*n);else try{y.toString().indexOf("%"),y.toString().includes("%");if(-1==y.toString().indexOf("%"))v=(g=o*n-a)+(d=(s+c)/100*g),m=g,u=v;else{var g,v;v=(g=o*n-(a=(a=y.toString().replace("%",""))/100*(o*n)))+(d=(s+c)/100*g),m=g,u=v}}catch(e){}r.PTax.value(d),r.ItemValue.value(m),r.SalTax.value(u),addtotalSum()}},x_PSGST:{change:function(e){var t=(m=$(this).fields()).PSGST.toNumber();m.SSGST.value(t);var n=m.GrnQuantity.toNumber(),l=(m.FreeQty.toNumber(),m.PurValue.toNumber()),i=m.Disc.toNumber(),o=(m.MRP.toNumber(),m.PurValue.toNumber(),((t=m.PSGST.toNumber())+(u=m.PCGST.toNumber()))/100*(l-i)*n),a=(c=l-i+(t+u)/100*(l-i),l*n);m.PTax.value(o.toFixed(2)),m.ItemValue.value(a.toFixed(2));var d=a+o;m.SalTax.value(d.toFixed(2)),addtotalSum();n=(m=$(this).fields()).GrnQuantity.toNumber(),m.FreeQty.toNumber(),l=m.PurValue.toNumber(),i=m.Disc.toNumber(),m.MRP.toNumber(),m.PurValue.toNumber(),t=m.PSGST.toNumber();var m,u=m.PCGST.toNumber(),r=m.Disc.value();if(0==i)c=l-i+(t+u)/100*(l-i),d=(a=l*n)+(o=(t+u)/100*(l-i)*n);else try{r.toString().indexOf("%"),r.toString().includes("%");if(-1==r.toString().indexOf("%"))c=(s=l*n-i)+(o=(t+u)/100*s),a=s,d=c;else{var s,c;c=(s=l*n-(i=(i=r.toString().replace("%",""))/100*(l*n)))+(o=(t+u)/100*s),a=s,d=c}}catch(e){}m.PTax.value(o),m.ItemValue.value(a),m.SalTax.value(d),addtotalSum()}},x_PCGST:{change:function(e){var t=(r=$(this).fields()).PCGST.toNumber();r.SCGST.value(t);var n=r.SUnit.toNumber(),l=r.GrnQuantity.toNumber();n>0&&(l*=n),r.Quantity.value(l);var i=r.MRP.toNumber();n=r.SUnit.toNumber(),l=r.GrnQuantity.toNumber();n>0?($MRPP=i/n,r.SalRate.value($MRPP.toFixed(2))):r.SalRate.value(i.toFixed(2));l=r.GrnQuantity.toNumber(),r.FreeQty.toNumber();var o=r.PurValue.toNumber(),a=r.Disc.toNumber(),d=(i=r.MRP.toNumber(),r.PurValue.toNumber(),((s=r.PSGST.toNumber())+(t=r.PCGST.toNumber()))/100*(o-a)*l),m=(g=o-a+(s+t)/100*(o-a),o*l);r.PTax.value(d.toFixed(2)),r.ItemValue.value(m.toFixed(2));var u=m+d;r.SalTax.value(u.toFixed(2)),addtotalSum();l=(r=$(this).fields()).GrnQuantity.toNumber(),r.FreeQty.toNumber(),o=r.PurValue.toNumber(),a=r.Disc.toNumber(),i=r.MRP.toNumber(),r.PurValue.toNumber();var r,s=r.PSGST.toNumber(),c=(t=r.PCGST.toNumber(),r.Disc.value());if(0==a)g=o-a+(s+t)/100*(o-a),u=(m=o*l)+(d=(s+t)/100*(o-a)*l);else try{c.toString().indexOf("%"),c.toString().includes("%");if(-1==c.toString().indexOf("%"))g=(y=o*l-a)+(d=(s+t)/100*y),m=y,u=g;else{var y,g;g=(y=o*l-(a=(a=c.toString().replace("%",""))/100*(o*l)))+(d=(s+t)/100*y),m=y,u=g}}catch(e){}r.PTax.value(d),r.ItemValue.value(m),r.SalTax.value(u),addtotalSum()}},x_Quantity:{change:function(e){var t=(d=$(this).fields()).Quantity.toNumber(),n=(d.FreeQty.toNumber(),d.PurValue.toNumber()),l=d.Disc.toNumber(),i=(d.MRP.toNumber(),d.PurValue.toNumber(),((m=d.PSGST.toNumber())+(u=d.PCGST.toNumber()))/100*(n-l)*t),o=(c=n-l+(m+u)/100*(n-l),n*t);d.PTax.value(i),d.ItemValue.value(o);var a=o+i;d.SalTax.value(a),addtotalSum();t=(d=$(this).fields()).GrnQuantity.toNumber(),d.FreeQty.toNumber(),n=d.PurValue.toNumber(),l=d.Disc.toNumber(),d.MRP.toNumber(),d.PurValue.toNumber();var d,m=d.PSGST.toNumber(),u=d.PCGST.toNumber(),r=d.Disc.value();if(0==l)c=n-l+(m+u)/100*(n-l),a=(o=n*t)+(i=(m+u)/100*(n-l)*t);else try{r.toString().indexOf("%"),r.toString().includes("%");if(-1==r.toString().indexOf("%"))c=(s=n*t-l)+(i=(m+u)/100*s),o=s,a=c;else{var s,c;c=(s=n*t-(l=(l=r.toString().replace("%",""))/100*(n*t)))+(i=(m+u)/100*s),o=s,a=c}}catch(e){}d.PTax.value(i),d.ItemValue.value(o),d.SalTax.value(a),addtotalSum()}}},store_payment:{x_Customername:{change:function(e){var t=[{PC:$(this).fields().Customername.value(),HospitalID:document.getElementById("HospitalIDDD").value}],n=JSON.stringify(t);$.ajax({type:"GET",url:"ajaxinsert.php?control=StoreGRNSearch",data:{data:n},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var l=t[n],i=0,o='<table id="customers"><tr><th></th><th>GRN No. </th><th>Bill No. </th><th>Bill Date </th><th>Bill Amount</th><th>Paid Amount</th></tr>';for(n=0;n<t.length;n++){o=o+'<tr><td><input type="checkbox" onclick="calulateselectedAmount()" id="select'+n+'" name="select'+n+'"> <input type="hidden" id="Toidcnt'+n+'" name="Toidcnt'+n+'" value="'+(l=t[n]).id+'"></td><td id="GRNNO'+n+'" name="GRNNO'+n+'" >'+l.GRNNO+'</td><td id="BILLNO'+n+'" name="BILLNO'+n+'" >'+l.BILLNO+'</td> <td id="BILLDT'+n+'" name="BILLDT'+n+'" >'+l.BILLDT+'</td><td id="BillTotalValue'+n+'" name="BillTotalValue'+n+'"  style="text-align:right">'+l.BillTotalValue+'</td><td style="width:100px;">  <input  style="text-align:right" type="text"  id="PaidAmount'+n+'" name="PaidAmount'+n+'"   onblur="calulateselectedAmount()" value="'+l.BillTotalValue+'"/></td></tr>';i=parseInt(i)+parseInt(l.BillTotalValue)}o=(o=o+'<tr><td></td><td></td><td></td><td  style="text-align:right" >Total </td><td  style="text-align:right" >'+i.toFixed(2)+'</td><td id="totalAMTtoPay" name="totalAMTtoPay"  style="text-align:right" > 0.00</td></tr></table>')+' <input type="hidden" id="Totttlcnt" name="Totttlcnt" value="'+t.length+'">';t.length>0&&(document.getElementById("loadGrnItems").innerHTML=o)}}})}}},view_store_transfer:{x_LastMonthSale:{change:function(e){var t=$(this).fields(),n=document.getElementById("x_transfer").value;t.BRCODE.value(n)}}}},ew.charts={},ew.clientScript=function(){},ew.startupScript=function(){};
/**
 * Fixed Header Table for PHPMaker 2021
 * @license Copyright (c) e.World Technology Limited. All rights reserved.
 */
ew.fixedHeaderTable=function(e){var a=jQuery,t=a("#"+e.container).addClass("table-responsive"),l=t.find("table.ew-table").addClass("table-head-fixed ew-fixed-header-table")[0];if(delay=e.delay||0,(e.width||e.height)&&l&&l.rows&&t[0]&&t.is("div.ew-grid-middle-panel")){var i,s=function(){return ew.IS_MOBILE||!ew.IS_SCREEN_SM_MIN?"100%":e.width},d=a(window),o=t.closest(".ew-grid").addClass("d-block").css("min-width",0),r=o.find(".ew-grid-lower-panel, .ew-grid-upper-panel"),n=o.closest(".ew-form:not(.ew-list-form)"),w=o.closest(".ew-detail-pages").css("display","block"),h=o.closest(".tab-pane"),c=w.find("a[data-toggle=tab][href='#"+h.attr("id")+"']"),f=o.closest(".collapse"),b=!!n[0],g=c.hasClass("show")||f.hasClass("show")||!w[0],u=function(){var e=s();o.width(b?"100%":e),r.innerWidth("100%"),ew.fixLayoutHeight()},p=function(){if(!t.data("FixedHeaderTable")){var r=e.height,w=r,h=s();b&&h&&n.width(h),o.width(b?"100%":h),t.width(h?"100%":"").height(r||"100%");var c=t[0];if(yscrolling=c.scrollHeight>c.clientHeight,ew.setupTable(-1,l),w&&l.rows&&c.clientHeight>l.offsetHeight){var f=a(l.rows).filter(":not(.ew-template)"),g=f.filter("[data-rowindex=1]").length||f.filter("[data-rowindex=0]").length||1;f.slice(-1*g).find("td.ew-table-last-row").removeClass("ew-table-last-row").addClass("ew-table-border-bottom")}var p=function(){clearTimeout(i),i=setTimeout(u,250)};d.resize(p),a('[data-widget="pushmenu"]').on("collapsed.lte.pushmenu",p).on("shown.lte.pushmenu",p),u(),ew.USE_OVERLAY_SCROLLBARS&&t.overlayScrollbars(ew.overlayScrollbarsOptions),t.data("FixedHeaderTable",!0)}};b&&!g?(c.on("shown.bs.tab",p),f.on("shown.bs.collapse",p)):delay>0?a.later(delay,null,p):delay<0?a(p):0==delay&&p()}};
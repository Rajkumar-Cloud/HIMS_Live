loadjs.ready("head",function(){var e=jQuery;e("[data-table=patient][data-field=x_dob]").on({"change keyup paste mouseup onChangeMonthYear onClose onSelect create picker_event hide changeDate":function(t){var n,i=e(this).fields(),l=i.dob[0].value.split("/"),a=new Date(l[2],l[1]-1,l[0]),o=new Date,d=(new Date(o.getYear(),o.getMonth(),o.getDate()),o.getYear()),m=o.getMonth(),s=o.getDate(),u=a.getYear(),r=a.getMonth(),c=a.getDate(),y="",g="",v="",b="";if(yearAge=d-u,m>=r)var I=m-r;else{yearAge--;I=12+m-r}if(s>=c)var h=s-c;else{h=31+s-c;--I<0&&(I=11,yearAge--)}g=(n={years:yearAge,months:I,days:h}).years>1?" years":" year",v=n.months>1?" months":" month",b=n.days>1?" days":" day",y=n.years>0&&n.months>0&&n.days>0?n.years<5?n.years+g+", "+n.months+v+", and "+n.days+b+" old.":n.years+g+", and "+n.months+v+" old.":0==n.years&&0==n.months&&n.days>0?"Only "+n.days+b+" old!":n.years>0&&0==n.months&&0==n.days?n.years+g+" old. Happy Birthday!!":n.years>0&&n.months>0&&0==n.days?n.years+g+" and "+n.months+v+" old.":0==n.years&&n.months>0&&n.days>0?n.months+v+" and "+n.days+b+" old.":n.years>0&&0==n.months&&n.days>0?n.years+g+" and "+n.days+b+" old.":0==n.years&&n.months>0&&0==n.days?n.months+v+" old.":" ",i.Age.value(y)}}),e("[data-table=patient][data-field=x_Age]").on({"change keyup":function(t){var n=e(this).fields(),i=new Date,l=n.Age.toNumber();i.setFullYear(i.getFullYear()-l);var a=i.getDate()+"/"+("0"+(i.getMonth()+1)).slice(-2)+"/"+i.getFullYear();n.dob.val(a)}}),e("[data-table=patient][data-field=x_spouse_dob]").on({"change keyup paste mouseup onChangeMonthYear onClose onSelect create picker_event hide changeDate":function(t){var n,i=e(this).fields(),l=i.spouse_dob[0].value.split("/"),a=new Date(l[2],l[1]-1,l[0]),o=new Date,d=(new Date(o.getYear(),o.getMonth(),o.getDate()),o.getYear()),m=o.getMonth(),s=o.getDate(),u=a.getYear(),r=a.getMonth(),c=a.getDate(),y="",g="",v="",b="";if(yearAge=d-u,m>=r)var I=m-r;else{yearAge--;I=12+m-r}if(s>=c)var h=s-c;else{h=31+s-c;--I<0&&(I=11,yearAge--)}g=(n={years:yearAge,months:I,days:h}).years>1?" years":" year",v=n.months>1?" months":" month",b=n.days>1?" days":" day",y=n.years>0&&n.months>0&&n.days>0?n.years<5?n.years+g+", "+n.months+v+", and "+n.days+b+" old.":n.years+g+", and "+n.months+v+" old.":0==n.years&&0==n.months&&n.days>0?"Only "+n.days+b+" old!":n.years>0&&0==n.months&&0==n.days?n.years+g+" old. Happy Birthday!!":n.years>0&&n.months>0&&0==n.days?n.years+g+" and "+n.months+v+" old.":0==n.years&&n.months>0&&n.days>0?n.months+v+" and "+n.days+b+" old.":n.years>0&&0==n.months&&n.days>0?n.years+g+" and "+n.days+b+" old.":0==n.years&&n.months>0&&0==n.days?n.months+v+" old.":" ",i.spouse_Age.value(y)}}),e("[data-table=patient][data-field=x_spouse_Age]").on({"change keyup":function(t){var n=e(this).fields(),i=new Date,l=n.spouse_Age.toNumber();i.setFullYear(i.getFullYear()-l);var a=i.getDate()+"/"+("0"+(i.getMonth()+1)).slice(-2)+"/"+i.getFullYear();n.spouse_dob.val(a)}}),e("[data-table=ip_admission][data-field=x_DOB]").on({"change keyup paste mouseup onChangeMonthYear onClose onSelect create picker_event hide changeDate":function(t){var n,i=e(this).fields(),l=i.DOB[0].value.split("/"),a=new Date(l[2],l[1]-1,l[0]),o=new Date,d=(new Date(o.getYear(),o.getMonth(),o.getDate()),o.getYear()),m=o.getMonth(),s=o.getDate(),u=a.getYear(),r=a.getMonth(),c=a.getDate(),y="",g="",v="",b="";if(yearAge=d-u,m>=r)var I=m-r;else{yearAge--;I=12+m-r}if(s>=c)var h=s-c;else{h=31+s-c;--I<0&&(I=11,yearAge--)}g=(n={years:yearAge,months:I,days:h}).years>1?" years":" year",v=n.months>1?" months":" month",b=n.days>1?" days":" day",y=n.years>0&&n.months>0&&n.days>0?n.years<5?n.years+g+", "+n.months+v+", and "+n.days+b+" old.":n.years+g+", and "+n.months+v+" old.":0==n.years&&0==n.months&&n.days>0?"Only "+n.days+b+" old!":n.years>0&&0==n.months&&0==n.days?n.years+g+" old. Happy Birthday!!":n.years>0&&n.months>0&&0==n.days?n.years+g+" and "+n.months+v+" old.":0==n.years&&n.months>0&&n.days>0?n.months+v+" and "+n.days+b+" old.":n.years>0&&0==n.months&&n.days>0?n.years+g+" and "+n.days+b+" old.":0==n.years&&n.months>0&&0==n.days?n.months+v+" old.":" ",i.age.value(y)}}),e("[data-table=ivf][data-field=x_Male]").on({"change keyup":function(t){var n=e(this).fields(),i=[{patientId:n.Male.toNumber()}],l=JSON.stringify(i);e.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPicture",data:{data:l},cache:!1,success:function(e){for(var t=JSON.parse(e).records,i=0;i<t.length;i++){var l=t[i];null==l.profilePic?(n.malepic.value("hims\\profile-picture.png"),document.getElementById("maleprofilePicturePatient").src="uploads/hims\\profile-picture.png"):(n.malepic.value(l.profilePic),document.getElementById("maleprofilePicturePatient").src="uploads/"+l.profilePic),document.getElementById("maleprofilePicturePatient").style.display="block"}}})}}),e("[data-table=ivf][data-field=x_Female]").on({change:function(t){var n=e(this).fields(),i=[{patientId:n.Female.toNumber()}],l=JSON.stringify(i);e.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPicture",data:{data:l},cache:!1,success:function(e){for(var t=JSON.parse(e).records,i=0;i<t.length;i++){var l=t[i];null==l.profilePic?(n.femalepic.value("hims\\profile-picture.png"),document.getElementById("femaleprofilePicturePatient").src="uploads/hims\\profile-picture.png"):(n.femalepic.value(l.profilePic),document.getElementById("femaleprofilePicturePatient").src="uploads/"+l.profilePic),document.getElementById("femaleprofilePicturePatient").style.display="block"}}})}}),e("[data-table=ivf_semenanalysisreport][data-field=x_RequestSample]").on({"change onchange":function(t){var n=e(this).fields().RequestSample.value(),i=document.getElementById("TankLocation"),l=document.getElementById("Method");(a=document.getElementById("capacitationTable")).style.width="60%",document.getElementById("Volume1").style.visibility="hidden",document.getElementById("Concentration1").style.visibility="hidden",document.getElementById("Total1").style.visibility="hidden",document.getElementById("ProgressiveMotility1").style.visibility="hidden",document.getElementById("NonProgrssiveMotile1").style.visibility="hidden",document.getElementById("Immotile1").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile1").style.visibility="hidden",document.getElementById("capacitationTableHead").style.visibility="hidden",document.getElementById("PreCapacitation").innerText="",document.getElementById("PostCapacitation").innerText="",document.getElementById("x_Volume1").style.width="0px",document.getElementById("x_Concentration1").style.width="0px",document.getElementById("x_Total1").style.width="0px",document.getElementById("x_ProgressiveMotility1").style.width="0px",document.getElementById("x_NonProgrssiveMotile1").style.width="0px",document.getElementById("x_Immotile1").style.width="0px",document.getElementById("x_TotalProgrssiveMotile1").style.width="0px",document.getElementById("x_Volume2").style.width="0px",document.getElementById("x_Concentration2").style.width="0px",document.getElementById("x_Total2").style.width="0px",document.getElementById("x_ProgressiveMotility2").style.width="0px",document.getElementById("x_NonProgrssiveMotile2").style.width="0px",document.getElementById("x_Immotile2").style.width="0px",document.getElementById("x_TotalProgrssiveMotile2").style.width="0px",document.getElementById("Volume2").style.visibility="hidden",document.getElementById("Concentration2").style.visibility="hidden",document.getElementById("Total2").style.visibility="hidden",document.getElementById("ProgressiveMotility2").style.visibility="hidden",document.getElementById("NonProgrssiveMotile2").style.visibility="hidden",document.getElementById("Immotile2").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile2").style.visibility="hidden",document.getElementById("Big").style.visibility="hidden",document.getElementById("Medium").style.visibility="hidden",document.getElementById("Small").style.visibility="hidden",document.getElementById("NoHalo").style.visibility="hidden",document.getElementById("Fragmented").style.visibility="hidden",document.getElementById("NonFragmented").style.visibility="hidden",document.getElementById("DFI").style.visibility="hidden",document.getElementById("InseminationTime").style.visibility="hidden",document.getElementById("InseminationBy").style.visibility="hidden",document.getElementById("IsueBy").style.visibility="hidden",document.getElementById("idMacs").style.visibility="hidden",document.getElementById("SemenHeading").innerText="Spermiogram","Freezing"==n?(document.getElementById("SemenHeading").innerText="Semen Freezing",i.style.visibility="visible",l.style.visibility="visible"):(i.style.visibility="hidden",l.style.visibility="visible");var a=document.getElementById("capacitationTable");if("Semen Analysis"==n)a.style.width="60%",document.getElementById("Volume1").style.visibility="hidden",document.getElementById("Concentration1").style.visibility="hidden",document.getElementById("Total1").style.visibility="hidden",document.getElementById("ProgressiveMotility1").style.visibility="hidden",document.getElementById("NonProgrssiveMotile1").style.visibility="hidden",document.getElementById("Immotile1").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile1").style.visibility="hidden",document.getElementById("capacitationTableHead").style.visibility="hidden",document.getElementById("PreCapacitation").innerText="",document.getElementById("PostCapacitation").innerText="",document.getElementById("x_Volume1").style.width="0px",document.getElementById("x_Concentration1").style.width="0px",document.getElementById("x_Total1").style.width="0px",document.getElementById("x_ProgressiveMotility1").style.width="0px",document.getElementById("x_NonProgrssiveMotile1").style.width="0px",document.getElementById("x_Immotile1").style.width="0px",document.getElementById("x_TotalProgrssiveMotile1").style.width="0px",document.getElementById("x_Volume2").style.width="0px",document.getElementById("x_Concentration2").style.width="0px",document.getElementById("x_Total2").style.width="0px",document.getElementById("x_ProgressiveMotility2").style.width="0px",document.getElementById("x_NonProgrssiveMotile2").style.width="0px",document.getElementById("x_Immotile2").style.width="0px",document.getElementById("x_TotalProgrssiveMotile2").style.width="0px",document.getElementById("Volume2").style.visibility="hidden",document.getElementById("Concentration2").style.visibility="hidden",document.getElementById("Total2").style.visibility="hidden",document.getElementById("ProgressiveMotility2").style.visibility="hidden",document.getElementById("NonProgrssiveMotile2").style.visibility="hidden",document.getElementById("Immotile2").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile2").style.visibility="hidden",document.getElementById("Big").style.visibility="hidden",document.getElementById("Medium").style.visibility="hidden",document.getElementById("Small").style.visibility="hidden",document.getElementById("NoHalo").style.visibility="hidden",document.getElementById("Fragmented").style.visibility="hidden",document.getElementById("NonFragmented").style.visibility="hidden",document.getElementById("DFI").style.visibility="hidden",document.getElementById("InseminationTime").style.visibility="hidden",document.getElementById("InseminationBy").style.visibility="hidden",document.getElementById("IsueBy").style.visibility="hidden";else if("ICSI"==n){a.style.width="60%",document.getElementById("Volume1").style.visibility="hidden",document.getElementById("Concentration1").style.visibility="hidden",document.getElementById("Total1").style.visibility="hidden",document.getElementById("ProgressiveMotility1").style.visibility="hidden",document.getElementById("NonProgrssiveMotile1").style.visibility="hidden",document.getElementById("Immotile1").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile1").style.visibility="hidden",document.getElementById("capacitationTableHead").style.visibility="hidden",document.getElementById("PreCapacitation").innerText="",document.getElementById("PostCapacitation").innerText="",document.getElementById("x_Volume1").style.width="0px",document.getElementById("x_Concentration1").style.width="0px",document.getElementById("x_Total1").style.width="0px",document.getElementById("x_ProgressiveMotility1").style.width="0px",document.getElementById("x_NonProgrssiveMotile1").style.width="0px",document.getElementById("x_Immotile1").style.width="0px",document.getElementById("x_TotalProgrssiveMotile1").style.width="0px",document.getElementById("x_Volume2").style.width="0px",document.getElementById("x_Concentration2").style.width="0px",document.getElementById("x_Total2").style.width="0px",document.getElementById("x_ProgressiveMotility2").style.width="0px",document.getElementById("x_NonProgrssiveMotile2").style.width="0px",document.getElementById("x_Immotile2").style.width="0px",document.getElementById("x_TotalProgrssiveMotile2").style.width="0px",document.getElementById("Volume2").style.visibility="hidden",document.getElementById("Concentration2").style.visibility="hidden",document.getElementById("Total2").style.visibility="hidden",document.getElementById("ProgressiveMotility2").style.visibility="hidden",document.getElementById("NonProgrssiveMotile2").style.visibility="hidden",document.getElementById("Immotile2").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile2").style.visibility="hidden",document.getElementById("Big").style.visibility="hidden",document.getElementById("Medium").style.visibility="hidden",document.getElementById("Small").style.visibility="hidden",document.getElementById("NoHalo").style.visibility="hidden",document.getElementById("Fragmented").style.visibility="hidden",document.getElementById("NonFragmented").style.visibility="hidden",document.getElementById("DFI").style.visibility="hidden",document.getElementById("InseminationTime").style.visibility="hidden",document.getElementById("InseminationBy").style.visibility="hidden",document.getElementById("IsueBy").style.visibility="hidden",document.getElementById("IsueBy").style.visibility="visible",a.style.width="100%",document.getElementById("Volume1").style.visibility="visible",document.getElementById("Concentration1").style.visibility="visible",document.getElementById("Total1").style.visibility="visible",document.getElementById("ProgressiveMotility1").style.visibility="visible",document.getElementById("NonProgrssiveMotile1").style.visibility="visible",document.getElementById("Immotile1").style.visibility="visible",document.getElementById("TotalProgrssiveMotile1").style.visibility="visible",document.getElementById("capacitationTableHead").style.visibility="visible",document.getElementById("idMacs").style.visibility="visible",document.getElementById("PreCapacitation").innerText="Pre Capacitation",document.getElementById("PostCapacitation").innerText="Post Capacitation",document.getElementById("x_Volume1").style.width="80px",document.getElementById("x_Concentration1").style.width="80px",document.getElementById("x_Total1").style.width="80px",document.getElementById("x_ProgressiveMotility1").style.width="80px",document.getElementById("x_NonProgrssiveMotile1").style.width="80px",document.getElementById("x_Immotile1").style.width="80px",document.getElementById("x_TotalProgrssiveMotile1").style.width="80px"}else"DFI"==n?(document.getElementById("SemenHeading").innerText="DNA Framgmentation Index",document.getElementById("Big").style.visibility="visible",document.getElementById("Medium").style.visibility="visible",document.getElementById("Small").style.visibility="visible",document.getElementById("NoHalo").style.visibility="visible",document.getElementById("Fragmented").style.visibility="visible",document.getElementById("NonFragmented").style.visibility="visible",document.getElementById("DFI").style.visibility="visible"):"IUI processing"==n?(document.getElementById("SemenHeading").innerText="INTRA UTERINE INSEMINATION",document.getElementById("Big").style.visibility="hidden",document.getElementById("Medium").style.visibility="hidden",document.getElementById("Small").style.visibility="hidden",document.getElementById("NoHalo").style.visibility="hidden",document.getElementById("Fragmented").style.visibility="hidden",document.getElementById("NonFragmented").style.visibility="hidden",document.getElementById("DFI").style.visibility="hidden",a.style.width="100%",document.getElementById("Volume1").style.visibility="visible",document.getElementById("Concentration1").style.visibility="visible",document.getElementById("Total1").style.visibility="visible",document.getElementById("ProgressiveMotility1").style.visibility="visible",document.getElementById("NonProgrssiveMotile1").style.visibility="visible",document.getElementById("Immotile1").style.visibility="visible",document.getElementById("TotalProgrssiveMotile1").style.visibility="visible",document.getElementById("capacitationTableHead").style.visibility="visible",document.getElementById("InseminationTime").style.visibility="visible",document.getElementById("InseminationBy").style.visibility="visible",document.getElementById("PreCapacitation").innerText="Pre Capacitation",document.getElementById("PostCapacitation").innerText="Post Capacitation",document.getElementById("x_Volume1").style.width="80px",document.getElementById("x_Concentration1").style.width="80px",document.getElementById("x_Total1").style.width="80px",document.getElementById("x_ProgressiveMotility1").style.width="80px",document.getElementById("x_NonProgrssiveMotile1").style.width="80px",document.getElementById("x_Immotile1").style.width="80px",document.getElementById("x_TotalProgrssiveMotile1").style.width="80px",document.getElementById("idMacs").style.visibility="visible"):(a.style.width="60%",document.getElementById("Volume1").style.visibility="hidden",document.getElementById("Concentration1").style.visibility="hidden",document.getElementById("Total1").style.visibility="hidden",document.getElementById("ProgressiveMotility1").style.visibility="hidden",document.getElementById("NonProgrssiveMotile1").style.visibility="hidden",document.getElementById("Immotile1").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile1").style.visibility="hidden",document.getElementById("capacitationTableHead").style.visibility="hidden",document.getElementById("PreCapacitation").innerText="",document.getElementById("PostCapacitation").innerText="",document.getElementById("x_Volume1").style.width="0px",document.getElementById("x_Concentration1").style.width="0px",document.getElementById("x_Total1").style.width="0px",document.getElementById("x_ProgressiveMotility1").style.width="0px",document.getElementById("x_NonProgrssiveMotile1").style.width="0px",document.getElementById("x_Immotile1").style.width="0px",document.getElementById("x_TotalProgrssiveMotile1").style.width="0px")}}),e("[data-table=ivf_semenanalysisreport][data-field=x_Volume]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Volume.toNumber()*n.Concentration.toNumber();n.Total.val(i.toFixed(2))}}),e("[data-table=ivf_semenanalysisreport][data-field=x_Concentration]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Volume.toNumber()*n.Concentration.toNumber();n.Total.val(i.toFixed(2))}}),e("[data-table=ivf_semenanalysisreport][data-field=x_Total]").on({"change keyup":function(t){var n=e(this).fields();n.Volume.toNumber(),n.Concentration.toNumber()}}),e("[data-table=ivf_semenanalysisreport][data-field=x_ProgressiveMotility]").on({"change keyup":function(t){var n=e(this).fields(),i=n.ProgressiveMotility.toNumber(),l=n.NonProgrssiveMotile.toNumber(),a=100-(i+l);n.Immotile.val(a.toFixed(2));var o=i+l;n.TotalProgrssiveMotile.val(o.toFixed(2))}}),e("[data-table=ivf_semenanalysisreport][data-field=x_NonProgrssiveMotile]").on({"change keyup":function(t){var n=e(this).fields(),i=n.ProgressiveMotility.toNumber(),l=n.NonProgrssiveMotile.toNumber(),a=100-(i+l);n.Immotile.val(a.toFixed(2));var o=i+l;n.TotalProgrssiveMotile.val(o.toFixed(2))}}),e("[data-table=ivf_semenanalysisreport][data-field=x_Immotile]").on({"change keyup":function(t){var n=e(this).fields(),i=100-(n.ProgressiveMotility.toNumber()+n.NonProgrssiveMotile.toNumber());n.Immotile.val(i.toFixed(2))}}),e("[data-table=ivf_semenanalysisreport][data-field=x_Normal]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Normal.toNumber();n.Abnormal.val(100-i)}}),e("[data-table=ivf_semenanalysisreport][data-field=x_Abnormal]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Abnormal.toNumber();n.Normal.val(100-i)}}),e("[data-table=ivf_semenanalysisreport][data-field=x_Headdefects]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Headdefects.toNumber(),l=n.MidpieceDefects.toNumber(),a=n.Abnormal.toNumber()-(i+l);n.TailDefects.val(a.toFixed(2))}}),e("[data-table=ivf_semenanalysisreport][data-field=x_MidpieceDefects]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Headdefects.toNumber(),l=n.MidpieceDefects.toNumber(),a=n.Abnormal.toNumber()-(i+l);n.TailDefects.val(a.toFixed(2))}}),e("[data-table=ivf_semenanalysisreport][data-field=x_TailDefects]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Headdefects.toNumber(),l=n.MidpieceDefects.toNumber(),a=n.Abnormal.toNumber()-(i+l);n.TailDefects.val(a.toFixed(2))}}),e("[data-table=ivf_semenanalysisreport][data-field=x_SemenOrgin]").on({"change onchange":function(t){var n=e(this).fields().SemenOrgin.value(),i=document.getElementById("donorId"),l=document.getElementById("DonorBloodGroupId");"Donor"==n?(i.style.visibility="visible",l.style.visibility="visible"):(i.style.visibility="hidden",l.style.visibility="hidden")}}),e("[data-table=ivf_semenanalysisreport][data-field=x_Volume1]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Volume1.toNumber()*n.Concentration1.toNumber();n.Total1.val(i)}}),e("[data-table=ivf_semenanalysisreport][data-field=x_Concentration1]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Volume1.toNumber()*n.Concentration1.toNumber();n.Total1.val(i)}}),e("[data-table=ivf_semenanalysisreport][data-field=x_ProgressiveMotility1]").on({"change keyup":function(t){var n=e(this).fields(),i=n.ProgressiveMotility1.toNumber(),l=n.NonProgrssiveMotile1.toNumber(),a=100-(i+l);n.Immotile1.val(a),n.TotalProgrssiveMotile1.val(i+l)}}),e("[data-table=ivf_semenanalysisreport][data-field=x_NonProgrssiveMotile1]").on({"change keyup":function(t){var n=e(this).fields(),i=n.ProgressiveMotility1.toNumber(),l=n.NonProgrssiveMotile1.toNumber(),a=100-(i+l);n.Immotile1.val(a),n.TotalProgrssiveMotile1.val(i+l)}}),e("[data-table=ivf_semenanalysisreport][data-field=x_Big]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Big.toNumber(),l=n.Medium.toNumber(),a=n.Small.toNumber(),o=n.NoHalo.toNumber();n.Fragmented.val(i+l),n.NonFragmented.val(a+o),n.DFI.val((i+l)/(i+l+a+o)*100)}}),e("[data-table=ivf_semenanalysisreport][data-field=x_Medium]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Big.toNumber(),l=n.Medium.toNumber(),a=n.Small.toNumber(),o=n.NoHalo.toNumber();n.Fragmented.val(i+l),n.NonFragmented.val(a+o),n.DFI.val((i+l)/(i+l+a+o)*100)}}),e("[data-table=ivf_semenanalysisreport][data-field=x_Small]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Big.toNumber(),l=n.Medium.toNumber(),a=n.Small.toNumber(),o=n.NoHalo.toNumber();n.Fragmented.val(i+l),n.NonFragmented.val(a+o),n.DFI.val((i+l)/(i+l+a+o)*100)}}),e("[data-table=ivf_semenanalysisreport][data-field=x_NoHalo]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Big.toNumber(),l=n.Medium.toNumber(),a=n.Small.toNumber(),o=n.NoHalo.toNumber();n.Fragmented.val(i+l),n.NonFragmented.val(a+o),n.DFI.val((i+l)/(i+l+a+o)*100)}}),e("[data-table=ivf_semenanalysisreport][data-field=x_Volume2]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Volume2.toNumber()*n.Concentration2.toNumber();n.Total2.val(i)}}),e("[data-table=ivf_semenanalysisreport][data-field=x_Concentration2]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Volume2.toNumber()*n.Concentration2.toNumber();n.Total2.val(i)}}),e("[data-table=ivf_semenanalysisreport][data-field=x_ProgressiveMotility2]").on({"change keyup":function(t){var n=e(this).fields(),i=n.ProgressiveMotility2.toNumber(),l=n.NonProgrssiveMotile2.toNumber(),a=100-(i+l);n.Immotile2.val(a),n.TotalProgrssiveMotile2.val(i+l)}}),e("[data-table=ivf_semenanalysisreport][data-field=x_NonProgrssiveMotile2]").on({"change keyup":function(t){var n=e(this).fields(),i=n.ProgressiveMotility2.toNumber(),l=n.NonProgrssiveMotile2.toNumber(),a=100-(i+l);n.Immotile2.val(a),n.TotalProgrssiveMotile2.val(i+l)}}),e("[data-table=ivf_semenanalysisreport][data-field=x_MACS]").on({click:function(t){"MACS"==e(this).fields().MACS.value()?(document.getElementById("Volume2").style.visibility="visible",document.getElementById("Concentration2").style.visibility="visible",document.getElementById("Total2").style.visibility="visible",document.getElementById("ProgressiveMotility2").style.visibility="visible",document.getElementById("NonProgrssiveMotile2").style.visibility="visible",document.getElementById("Immotile2").style.visibility="visible",document.getElementById("TotalProgrssiveMotile2").style.visibility="visible",document.getElementById("x_Volume2").style.width="80px",document.getElementById("x_Concentration2").style.width="80px",document.getElementById("x_Total2").style.width="80px",document.getElementById("x_ProgressiveMotility2").style.width="80px",document.getElementById("x_NonProgrssiveMotile2").style.width="80px",document.getElementById("x_Immotile2").style.width="80px",document.getElementById("x_TotalProgrssiveMotile2").style.width="80px"):(document.getElementById("x_Volume2").style.width="0px",document.getElementById("x_Concentration2").style.width="0px",document.getElementById("x_Total2").style.width="0px",document.getElementById("x_ProgressiveMotility2").style.width="0px",document.getElementById("x_NonProgrssiveMotile2").style.width="0px",document.getElementById("x_Immotile2").style.width="0px",document.getElementById("x_TotalProgrssiveMotile2").style.width="0px",document.getElementById("Volume2").style.visibility="hidden",document.getElementById("Concentration2").style.visibility="hidden",document.getElementById("Total2").style.visibility="hidden",document.getElementById("ProgressiveMotility2").style.visibility="hidden",document.getElementById("NonProgrssiveMotile2").style.visibility="hidden",document.getElementById("Immotile2").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile2").style.visibility="hidden")}}),e("[data-table=pres_tradenames_new][data-field=x_TypeOfDrug]").on({"change onchange":function(t){var n=e(this).fields().TypeOfDrug.value();document.getElementById("Combination1").style.display="block",document.getElementById("Combination2").style.display="none",document.getElementById("Combination3").style.display="none",document.getElementById("Combination4").style.display="none",document.getElementById("Combination5").style.display="none",document.getElementById("Combination6").style.display="none","2"==n&&(document.getElementById("Combination2").style.display="block",document.getElementById("Combination3").style.display="block",document.getElementById("Combination4").style.display="block",document.getElementById("Combination5").style.display="block",document.getElementById("Combination6").style.display="block")}}),e("[data-table=pres_tradenames_new][data-field=x_ProductType]").on({"change onchange":function(t){var n=e(this).fields().ProductType.value();document.getElementById("DrugDetails").style.display="none",document.getElementById("Combination1").style.display="none",document.getElementById("Combination2").style.display="none",document.getElementById("Combination3").style.display="none",document.getElementById("Combination4").style.display="none",document.getElementById("Combination5").style.display="none",document.getElementById("Combination6").style.display="none","DRUG"==n&&(document.getElementById("DrugDetails").style.display="block",document.getElementById("Combination1").style.display="block")}}),e("[data-table=patient_vitals][data-field=x_PatientSearch]").on({"change keyup":function(t){var n=[{patientId:e(this).fields().PatientSearch.toNumber()}],i=JSON.stringify(n);e.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPictureMRN",data:{data:i},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var i=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+i.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+i.first_name,null==i.gender&&(i.gender=""),null==i.blood_group&&(i.blood_group=""),null==i.Age&&(i.Age=""),null==i.mobile_no&&(i.mobile_no=""),null==i.PEmail&&(i.PEmail=""),null==i.mrnNo&&(i.mrnNo=""),document.getElementById("SemPatientGender").innerText="Gender : "+i.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+i.blood_group;var l="";l=""==i.profilePic||null==i.profilePic?"hims/profile-picture.png":i.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+l,document.getElementById("SemPatientAge").innerText="Age : "+i.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+i.mobile_no,document.getElementById("SemPatientEmail").innerText="MRN No : "+i.mrnNo,document.getElementById("x_Reception").value=i.Reception,document.getElementById("x_PatientId").value=i.patientIdOne,document.getElementById("x_mrnno").value=i.mrnNo,document.getElementById("x_PatientName").value=i.first_name,document.getElementById("x_Age").value=i.Age,document.getElementById("x_Gender").value=i.gender,document.getElementById("x_profilePic").value=l,document.getElementById("x_PatID").value=i.PatientID,document.getElementById("x_MobileNumber").value=i.mobile_no}}})}}),e("[data-table=patient_opd_follow_up][data-field=x_PatientSearch]").on({"change keyup":function(t){var n=[{patientId:e(this).fields().PatientSearch.toNumber()}],i=JSON.stringify(n);e.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPictureprocedurenotes",data:{data:i},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var i=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+i.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+i.first_name,null==i.gender&&(i.gender=""),null==i.blood_group&&(i.blood_group=""),null==i.Age&&(i.Age=""),null==i.mobile_no&&(i.mobile_no=""),null==i.PEmail&&(i.PEmail=""),null==i.mrnNo&&(i.mrnNo=""),document.getElementById("SemPatientGender").innerText="Gender : "+i.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+i.blood_group;var l="";l=""==i.profilePic||null==i.profilePic?"hims/profile-picture.png":i.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+l,document.getElementById("SemPatientAge").innerText="Age : "+i.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+i.mobile_no,document.getElementById("SemPatientEmail").innerText="MRN No : "+i.mrnNo,document.getElementById("x_Reception").value=i.Reception,document.getElementById("x_PatientId").value=i.patientIdOne,document.getElementById("x_mrnno").value=i.mrnNo,document.getElementById("x_PatientName").value=i.first_name,document.getElementById("x_Age").value=i.Age,document.getElementById("x_Gender").value=i.gender,document.getElementById("x_profilePic").value=l,document.getElementById("x_PatID").value=i.PatientID,document.getElementById("x_MobileNumber").value=i.mobile_no,document.getElementById("iidprocedurenotes").innerHTML=i.iidprocedurenotes,document.getElementById("iidICSIDate").innerHTML=i.iidICSIDate}}})}}),e("[data-table=patient_history][data-field=x_PatientSearch]").on({"change keyup":function(t){var n=[{patientId:e(this).fields().PatientSearch.toNumber()}],i=JSON.stringify(n);e.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPictureMRN",data:{data:i},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var i=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+i.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+i.first_name,null==i.gender&&(i.gender=""),null==i.blood_group&&(i.blood_group=""),null==i.Age&&(i.Age=""),null==i.mobile_no&&(i.mobile_no=""),null==i.PEmail&&(i.PEmail=""),null==i.mrnNo&&(i.mrnNo=""),document.getElementById("SemPatientGender").innerText="Gender : "+i.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+i.blood_group;var l="";l=""==i.profilePic||null==i.profilePic?"hims/profile-picture.png":i.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+l,document.getElementById("SemPatientAge").innerText="Age : "+i.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+i.mobile_no,document.getElementById("SemPatientEmail").innerText="MRN No : "+i.mrnNo,document.getElementById("x_Reception").value=i.Reception,document.getElementById("x_PatientId").value=i.patientIdOne,document.getElementById("x_mrnno").value=i.mrnNo,document.getElementById("x_PatientName").value=i.first_name,document.getElementById("x_Age").value=i.Age,document.getElementById("x_Gender").value=i.gender,document.getElementById("x_profilePic").value=l,document.getElementById("x_PatID").value=i.PatientID,document.getElementById("x_MobileNumber").value=i.mobile_no}}})}}),e("[data-table=patient_final_diagnosis][data-field=x_PatientSearch]").on({"change keyup":function(t){var n=[{patientId:e(this).fields().PatientSearch.toNumber()}],i=JSON.stringify(n);e.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPictureMRN",data:{data:i},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var i=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+i.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+i.first_name,null==i.gender&&(i.gender=""),null==i.blood_group&&(i.blood_group=""),null==i.Age&&(i.Age=""),null==i.mobile_no&&(i.mobile_no=""),null==i.PEmail&&(i.PEmail=""),null==i.mrnNo&&(i.mrnNo=""),document.getElementById("SemPatientGender").innerText="Gender : "+i.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+i.blood_group;var l="";l=""==i.profilePic||null==i.profilePic?"hims/profile-picture.png":i.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+l,document.getElementById("SemPatientAge").innerText="Age : "+i.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+i.mobile_no,document.getElementById("SemPatientEmail").innerText="MRN No : "+i.mrnNo,document.getElementById("x_Reception").value=i.Reception,document.getElementById("x_PatientId").value=i.patientIdOne,document.getElementById("x_mrnno").value=i.mrnNo,document.getElementById("x_PatientName").value=i.first_name,document.getElementById("x_Age").value=i.Age,document.getElementById("x_Gender").value=i.gender,document.getElementById("x_profilePic").value=l,document.getElementById("x_PatID").value=i.PatientID,document.getElementById("x_MobileNumber").value=i.mobile_no}}})}}),e("[data-table=patient_follow_up][data-field=x_PatientSearch]").on({"change keyup":function(t){var n=[{patientId:e(this).fields().PatientSearch.toNumber()}],i=JSON.stringify(n);e.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPictureMRN",data:{data:i},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var i=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+i.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+i.first_name,null==i.gender&&(i.gender=""),null==i.blood_group&&(i.blood_group=""),null==i.Age&&(i.Age=""),null==i.mobile_no&&(i.mobile_no=""),null==i.PEmail&&(i.PEmail=""),null==i.mrnNo&&(i.mrnNo=""),document.getElementById("SemPatientGender").innerText="Gender : "+i.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+i.blood_group;var l="";l=""==i.profilePic||null==i.profilePic?"hims/profile-picture.png":i.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+l,document.getElementById("SemPatientAge").innerText="Age : "+i.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+i.mobile_no,document.getElementById("SemPatientEmail").innerText="MRN No : "+i.mrnNo,document.getElementById("x_Reception").value=i.Reception,document.getElementById("x_PatientId").value=i.patientIdOne,document.getElementById("x_mrnno").value=i.mrnNo,document.getElementById("x_PatientName").value=i.first_name,document.getElementById("x_Age").value=i.Age,document.getElementById("x_Gender").value=i.gender,document.getElementById("x_profilePic").value=l,document.getElementById("x_PatID").value=i.PatientID,document.getElementById("x_MobileNumber").value=i.mobile_no}}})}}),e("[data-table=patient_ot_delivery_register][data-field=x_PatientSearch]").on({"change keyup":function(t){var n=[{patientId:e(this).fields().PatientSearch.toNumber()}],i=JSON.stringify(n);e.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPictureMRN",data:{data:i},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var i=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+i.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+i.first_name,null==i.gender&&(i.gender=""),null==i.blood_group&&(i.blood_group=""),null==i.Age&&(i.Age=""),null==i.mobile_no&&(i.mobile_no=""),null==i.PEmail&&(i.PEmail=""),null==i.mrnNo&&(i.mrnNo=""),document.getElementById("SemPatientGender").innerText="Gender : "+i.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+i.blood_group;var l="";l=""==i.profilePic||null==i.profilePic?"hims/profile-picture.png":i.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+l,document.getElementById("SemPatientAge").innerText="Age : "+i.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+i.mobile_no,document.getElementById("SemPatientEmail").innerText="MRN No : "+i.mrnNo,document.getElementById("x_Reception").value=i.Reception,document.getElementById("x_PatientID").value=i.patientIdOne,document.getElementById("x_PId").value=i.patientIdOne,document.getElementById("x_mrnno").value=i.mrnNo,document.getElementById("x_PatientName").value=i.first_name,document.getElementById("x_Age").value=i.Age,document.getElementById("x_Gender").value=i.gender,document.getElementById("x_profilePic").value=l,document.getElementById("x_PatID").value=i.PatientID,document.getElementById("x_MobileNumber").value=i.mobile_no}}})}}),e("[data-table=patient_provisional_diagnosis][data-field=x_PatientSearch]").on({"change keyup":function(t){var n=[{patientId:e(this).fields().PatientSearch.toNumber()}],i=JSON.stringify(n);e.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPictureMRN",data:{data:i},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var i=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+i.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+i.first_name,null==i.gender&&(i.gender=""),null==i.blood_group&&(i.blood_group=""),null==i.Age&&(i.Age=""),null==i.mobile_no&&(i.mobile_no=""),null==i.PEmail&&(i.PEmail=""),null==i.mrnNo&&(i.mrnNo=""),document.getElementById("SemPatientGender").innerText="Gender : "+i.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+i.blood_group;var l="";l=""==i.profilePic||null==i.profilePic?"hims/profile-picture.png":i.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+l,document.getElementById("SemPatientAge").innerText="Age : "+i.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+i.mobile_no,document.getElementById("SemPatientEmail").innerText="MRN No : "+i.mrnNo,document.getElementById("x_Reception").value=i.Reception,document.getElementById("x_PatientId").value=i.patientIdOne,document.getElementById("x_mrnno").value=i.mrnNo,document.getElementById("x_PatientName").value=i.first_name,document.getElementById("x_Age").value=i.Age,document.getElementById("x_Gender").value=i.gender,document.getElementById("x_profilePic").value=l,document.getElementById("x_PatID").value=i.PatientID,document.getElementById("x_MobileNumber").value=i.mobile_no}}})}}),e("[data-table=patient_services][data-field=x_Quantity]").on({"change keyup":function(t){var n=e(this).fields();if(1==n.ServiceSelect.toNumber()){var i=n.amount.toNumber()*n.Quantity.toNumber()*(1-n.Discount.toNumber());n.SubTotal.value(i)}else n.Quantity.value(""),n.Discount.value(""),n.SubTotal.value("");addtotalSum()}}),e("[data-table=patient_services][data-field=x_Discount]").on({change:function(t){var n=e(this).fields();if(1==n.ServiceSelect.toNumber()){var i=n.amount.toNumber()*n.Quantity.toNumber()*(1-n.Discount.toNumber());n.SubTotal.value(i)}else n.Quantity.value(""),n.Discount.value(""),n.SubTotal.value("");addtotalSum()}}),e("[data-table=patient_services][data-field=x_ServiceSelect]").on({click:function(t){var n=e(this).fields();if(1==n.ServiceSelect.toNumber()){n.Quantity.value(1),n.Discount.value(0);var i=n.amount.toNumber()*n.Quantity.toNumber()*(1-n.Discount.toNumber());n.SubTotal.value(i)}else n.Quantity.value(""),n.Discount.value(""),n.SubTotal.value("");addtotalSum()}}),e("[data-table=patient_ot_surgery_register][data-field=x_PatientSearch]").on({"change keyup":function(t){var n=[{patientId:e(this).fields().PatientSearch.toNumber()}],i=JSON.stringify(n);e.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPictureMRN",data:{data:i},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var i=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+i.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+i.first_name,null==i.gender&&(i.gender=""),null==i.blood_group&&(i.blood_group=""),null==i.Age&&(i.Age=""),null==i.mobile_no&&(i.mobile_no=""),null==i.PEmail&&(i.PEmail=""),null==i.mrnNo&&(i.mrnNo=""),document.getElementById("SemPatientGender").innerText="Gender : "+i.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+i.blood_group;var l="";l=""==i.profilePic||null==i.profilePic?"hims/profile-picture.png":i.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+l,document.getElementById("SemPatientAge").innerText="Age : "+i.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+i.mobile_no,document.getElementById("SemPatientEmail").innerText="MRN No : "+i.mrnNo,document.getElementById("x_Reception").value=i.Reception,document.getElementById("x_PatientID").value=i.patientIdOne,document.getElementById("x_mrnno").value=i.mrnNo,document.getElementById("x_PatientName").value=i.first_name,document.getElementById("x_Age").value=i.Age,document.getElementById("x_Gender").value=i.gender,document.getElementById("x_profilePic").value=l,document.getElementById("x_PatID").value=i.PatientID,document.getElementById("x_MobileNumber").value=i.mobile_no}}})}}),e("[data-table=billing_other_voucher][data-field=x_ModeofPayment]").on({change:function(t){var n=e(this).fields().ModeofPayment.value();"CARD"==n||"PAYTM"==n||"NEFT"==n?(document.getElementById("viewBankName").style.display="block",document.getElementById("viewBankDetails").innerText=n+" Details"):document.getElementById("viewBankName").style.display="none"}}),e("[data-table=billing_other_voucher][data-field=x_PatID]").on({change:function(t){var n=e(this).fields();document.getElementById("LoadGetOPAdvance").innerHTML="";var i=[{patientId:n.PatID.toNumber()}],l=JSON.stringify(i);e.ajax({type:"GET",url:"ajaxinsert.php?control=GetOPAdvance",data:{data:l},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n="",i="",l="",a='<table id="customers"><tr><th>Advance No. </th><th>Amount </th><th>Mode of Payment</th><th>Remarks</th></tr>',o=0;o<t.length;o++){var d=t[o];a=a+"  <tr><td>"+d.AdvanceNo+"</td> <td>"+d.Amount+"</td> <td>"+d.ModeofPayment+"</td> <td>"+d.Remarks+"</td></tr>";n=d.TotalAdvance,i=d.TotalBill,l=d.BalanceAmount}a=(a=a+"</table>")+'<table style="width:100%"><tr><th>Total Advance = '+n+"</th><th>Total Bill = "+i+"</th><th>Balance Amount = "+l+"</th></tr></table>";t.length>0&&(document.getElementById("LoadGetOPAdvance").innerHTML=a)}})}}),e("[data-table=appointment_scheduler][data-field=x_PatientType]").on({click:function(t){"New"==e(this).fields().PatientType.value()?e("#addNewPatient").show():e("#addNewPatient").hide()}}),e("[data-table=appointment_scheduler][data-field=x_Dob]").on({"change keyup paste mouseup onChangeMonthYear onClose onSelect create picker_event hide changeDate":function(t){var n,i=e(this).fields(),l=i.Dob[0].value.split("/"),a=new Date(l[2],l[1]-1,l[0]),o=new Date,d=(new Date(o.getYear(),o.getMonth(),o.getDate()),o.getYear()),m=o.getMonth(),s=o.getDate(),u=a.getYear(),r=a.getMonth(),c=a.getDate(),y="",g="",v="",b="";if(yearAge=d-u,m>=r)var I=m-r;else{yearAge--;I=12+m-r}if(s>=c)var h=s-c;else{h=31+s-c;--I<0&&(I=11,yearAge--)}g=(n={years:yearAge,months:I,days:h}).years>1?" years":" year",v=n.months>1?" months":" month",b=n.days>1?" days":" day",y=n.years>0&&n.months>0&&n.days>0?n.years<5?n.years+g+", "+n.months+v+", and "+n.days+b+" old.":n.years+g+", and "+n.months+v+" old.":0==n.years&&0==n.months&&n.days>0?"Only "+n.days+b+" old!":n.years>0&&0==n.months&&0==n.days?n.years+g+" old. Happy Birthday!!":n.years>0&&n.months>0&&0==n.days?n.years+g+" and "+n.months+v+" old.":0==n.years&&n.months>0&&n.days>0?n.months+v+" and "+n.days+b+" old.":n.years>0&&0==n.months&&n.days>0?n.years+g+" and "+n.days+b+" old.":0==n.years&&n.months>0&&0==n.days?n.months+v+" old.":" ",i.Age.value(y)}}),e("[data-table=appointment_scheduler][data-field=x_Age]").on({change:function(t){var n=e(this).fields(),i=new Date,l=n.Age.toNumber();i.setFullYear(i.getFullYear()-l);var a=i.getDate()+"/"+("0"+(i.getMonth()+1)).slice(-2)+"/"+i.getFullYear();n.Dob.val(a)}}),e("[data-table=ivf_stimulation_chart][data-field=x_LMP]").on({"change keyup paste mouseup onChangeMonthYear onClose onSelect create picker_event hide changeDate":function(t){e(this).fields().LMP}}),e("[data-table=ivf_stimulation_chart][data-field=x_SCDate]").on({"change keyup paste mouseup onChangeMonthYear onClose onSelect create picker_event hide changeDate":function(t){var n=e(this).fields(),i=n.SCDate[0].value.split("/"),l=new Date(i[2],i[1]-1,i[0]),a=new Date;new Date(a.getYear(),a.getMonth(),a.getDate()),a.getYear(),a.getMonth(),a.getDate(),l.getYear(),l.getMonth(),l.getDate();n.StChDate1.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate2.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate3.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate4.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate5.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate6.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate7.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate8.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate9.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate10.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate11.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate12.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate13.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate14.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate15.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate16.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate17.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate18.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate19.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate20.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate21.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate22.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate23.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate24.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()),l=addDays(l,1),n.StChDate25.value(("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear());i=n.SCDate[0].value.split("/");var o=n.LMP[0].value.split("/"),d=new Date(i[2],i[1]-1,i[0]),m=new Date(o[2],o[1]-1,o[0]),s=d.getTime()-m.getTime(),u=parseInt(s/864e5);n.CycleDay1.value("C"+(u+1)),n.CycleDay2.value("C"+(u+2)),n.CycleDay3.value("C"+(u+3)),n.CycleDay4.value("C"+(u+4)),n.CycleDay5.value("C"+(u+5)),n.CycleDay6.value("C"+(u+6)),n.CycleDay7.value("C"+(u+7)),n.CycleDay8.value("C"+(u+8)),n.CycleDay9.value("C"+(u+9)),n.CycleDay10.value("C"+(u+10)),n.CycleDay11.value("C"+(u+11)),n.CycleDay12.value("C"+(u+12)),n.CycleDay13.value("C"+(u+13)),n.CycleDay14.value("C"+(u+14)),n.CycleDay15.value("C"+(u+15)),n.CycleDay16.value("C"+(u+16)),n.CycleDay17.value("C"+(u+17)),n.CycleDay18.value("C"+(u+18)),n.CycleDay19.value("C"+(u+19)),n.CycleDay20.value("C"+(u+20)),n.CycleDay21.value("C"+(u+21)),n.CycleDay22.value("C"+(u+22)),n.CycleDay23.value("C"+(u+23)),n.CycleDay24.value("C"+(u+24)),n.CycleDay25.value("C"+(u+25)),n.StimulationDay1.value("S1"),n.StimulationDay2.value("S2"),n.StimulationDay3.value("S3"),n.StimulationDay4.value("S4"),n.StimulationDay5.value("S5"),n.StimulationDay6.value("S6"),n.StimulationDay7.value("S7"),n.StimulationDay8.value("S8"),n.StimulationDay9.value("S9"),n.StimulationDay10.value("S10"),n.StimulationDay11.value("S11"),n.StimulationDay12.value("S12"),n.StimulationDay13.value("S13"),n.StimulationDay14.value("S14"),n.StimulationDay15.value("S15"),n.StimulationDay16.value("S16"),n.StimulationDay17.value("S17"),n.StimulationDay18.value("S18"),n.StimulationDay19.value("S19"),n.StimulationDay20.value("S20"),n.StimulationDay21.value("S21"),n.StimulationDay22.value("S22"),n.StimulationDay23.value("S23"),n.StimulationDay24.value("S24"),n.StimulationDay25.value("S25")}}),e("[data-table=ivf_stimulation_chart][data-field=x_Tablet1]").on({change:function(e){calculateDoseofGonadotropins()}}),e("[data-table=ivf_stimulation_chart][data-field=x_Tablet2]").on({change:function(e){calculateDoseofGonadotropins()}}),e("[data-table=ivf_stimulation_chart][data-field=x_Tablet3]").on({change:function(e){calculateDoseofGonadotropins()}}),e("[data-table=ivf_stimulation_chart][data-field=x_Tablet4]").on({change:function(e){calculateDoseofGonadotropins()}}),e("[data-table=ivf_stimulation_chart][data-field=x_Tablet5]").on({change:function(e){calculateDoseofGonadotropins()}}),e("[data-table=ivf_stimulation_chart][data-field=x_Tablet6]").on({change:function(e){calculateDoseofGonadotropins()}}),e("[data-table=ivf_stimulation_chart][data-field=x_Tablet7]").on({change:function(e){calculateDoseofGonadotropins()}}),e("[data-table=ivf_stimulation_chart][data-field=x_Tablet8]").on({change:function(e){calculateDoseofGonadotropins()}}),e("[data-table=ivf_stimulation_chart][data-field=x_Tablet9]").on({change:function(e){calculateDoseofGonadotropins()}}),e("[data-table=ivf_stimulation_chart][data-field=x_Tablet10]").on({change:function(e){calculateDoseofGonadotropins()}}),e("[data-table=ivf_stimulation_chart][data-field=x_Tablet11]").on({change:function(e){calculateDoseofGonadotropins()}}),e("[data-table=ivf_stimulation_chart][data-field=x_Tablet12]").on({change:function(e){calculateDoseofGonadotropins()}}),e("[data-table=ivf_stimulation_chart][data-field=x_Tablet13]").on({change:function(e){calculateDoseofGonadotropins()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH1]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH2]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH3]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH4]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH5]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH6]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH7]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH8]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH9]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH10]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH11]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH12]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH13]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_HMG1]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_HMG2]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_HMG3]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_HMG4]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_HMG5]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_HMG6]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_HMG7]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_HMG8]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_HMG9]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_HMG10]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_HMG11]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_HMG12]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_HMG13]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH1]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH2]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH3]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH4]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH5]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH6]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH7]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH8]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH9]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH10]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH11]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH12]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH13]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_TreatmentCancel]").on({click:function(t){var n=e(this).fields().TreatmentCancel.value();document.getElementById("CancelReason").style.visibility="Yes"==n?"visible":"hidden"}}),e("[data-table=ivf_stimulation_chart][data-field=x_Projectron]").on({click:function(t){if("Yes"==e(this).fields().Projectron.value())document.getElementById("ProgesteroneAdminTable").style.display="block";else document.getElementById("ProgesteroneAdminTable").style.display="none"}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH14]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH15]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH16]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH17]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH18]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH19]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH20]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH21]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH22]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH23]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH24]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_RFSH25]").on({change:function(e){calculateDoseofRFSHHMG()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH14]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH15]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH16]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH17]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH18]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH19]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH20]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH21]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH22]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH23]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH24]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_stimulation_chart][data-field=x_GnRH25]").on({change:function(e){calculateDaysofGnRH()}}),e("[data-table=ivf_ovum_pick_up_chart][data-field=x_ExperctedOocytes]").on({"change onchange":function(t){var n=e(this).fields(),i=n.ExperctedOocytes.toNumber(),l=n.NoOfOocytesRetrieved.toNumber();n.OocytesRetreivalRate.val(l/i*100)}}),e("[data-table=ivf_ovum_pick_up_chart][data-field=x_NoOfOocytesRetrieved]").on({"change onchange":function(t){var n=e(this).fields(),i=n.ExperctedOocytes.toNumber(),l=n.NoOfOocytesRetrieved.toNumber();n.OocytesRetreivalRate.val(l/i*100)}}),e("[data-table=ivf_embryology_chart][data-field=x_Day5Cryoptop]").on({"change onchange":function(t){e(this).fields().Day5Cryoptop.value()}}),e("[data-table=ivf_treatment_plan][data-field=x_ARTCYCLE]").on({click:function(e){document.getElementById("Treatment").style.display="none",document.getElementById("TreatmentTec").style.display="none",document.getElementById("TypeOfCycle").style.display="none",document.getElementById("SpermOrgin").style.display="none",document.getElementById("State").style.display="none",document.getElementById("Origin").style.display="none",document.getElementById("MACS").style.display="none",document.getElementById("Technique").style.display="none",document.getElementById("PgdPlanning").style.display="none",document.getElementById("IMSI").style.display="none",document.getElementById("SequentialCulture").style.display="none",document.getElementById("TimeLapse").style.display="none",document.getElementById("AH").style.display="none",document.getElementById("Weight").style.display="none",document.getElementById("BMI").style.display="none",document.getElementById("TreatmentTreatment").style.display="none",document.getElementById("Ectopic").style.display="none",document.getElementById("use").style.display="none","Intrauterine insemination(IUI)"==this.value&&(document.getElementById("Treatment").style.display="block",document.getElementById("TreatmentTec").style.display="block",document.getElementById("TypeOfCycle").style.display="block",document.getElementById("SpermOrgin").style.display="block",document.getElementById("State").style.display="block",document.getElementById("Origin").style.display="block",document.getElementById("MACS").style.display="block",document.getElementById("Technique").style.display="none",document.getElementById("PgdPlanning").style.display="none",document.getElementById("IMSI").style.display="none",document.getElementById("SequentialCulture").style.display="none",document.getElementById("TimeLapse").style.display="none",document.getElementById("AH").style.display="none",document.getElementById("Weight").style.display="none",document.getElementById("BMI").style.display="none"),"IVF"==this.value&&(document.getElementById("Treatment").style.display="block",document.getElementById("TreatmentTec").style.display="block",document.getElementById("TypeOfCycle").style.display="block",document.getElementById("SpermOrgin").style.display="block",document.getElementById("State").style.display="block",document.getElementById("Origin").style.display="block",document.getElementById("MACS").style.display="block",document.getElementById("Technique").style.display="block",document.getElementById("PgdPlanning").style.display="block",document.getElementById("IMSI").style.display="block",document.getElementById("SequentialCulture").style.display="block",document.getElementById("TimeLapse").style.display="block",document.getElementById("AH").style.display="block",document.getElementById("Weight").style.display="block",document.getElementById("BMI").style.display="block"),"Oocyte Vitrification"==this.value&&(document.getElementById("Treatment").style.display="block",document.getElementById("TreatmentTec").style.display="block",document.getElementById("TypeOfCycle").style.display="block",document.getElementById("SpermOrgin").style.display="block",document.getElementById("State").style.display="block",document.getElementById("Origin").style.display="block",document.getElementById("MACS").style.display="block",document.getElementById("Technique").style.display="block",document.getElementById("PgdPlanning").style.display="block",document.getElementById("IMSI").style.display="block",document.getElementById("SequentialCulture").style.display="block",document.getElementById("TimeLapse").style.display="block",document.getElementById("AH").style.display="block",document.getElementById("Weight").style.display="block",document.getElementById("BMI").style.display="block"),"Egg Donation"==this.value&&(document.getElementById("TypeOfCycle").style.display="block",document.getElementById("Origin").style.display="block",document.getElementById("Ectopic").style.display="block",document.getElementById("use").style.display="block"),"Frozen Embryo Transfer"==this.value&&(document.getElementById("TypeOfCycle").style.display="block",document.getElementById("PgdPlanning").style.display="block",document.getElementById("TreatmentTreatment").style.display="block"),"Evaluation cycle"==this.value&&(document.getElementById("TypeOfCycle").style.display="block",document.getElementById("PgdPlanning").style.display="block",document.getElementById("TreatmentTreatment").style.display="block")}}),e("[data-table=view_patient_services][data-field=x_Services]").on({change:function(t){var n=e(this).fields(),i=n.Services.value(),l=[{HospitalID:document.getElementById("HospitalIDDD").value,Services:i}],a=JSON.stringify(l);e.ajax({type:"GET",url:"ajaxinsert.php?control=selectServices",data:{data:a},cache:!1,success:function(e){for(var t=JSON.parse(e).records,i=0;i<t.length;i++){var l=t[i];console.log(l.id),n.amount.value(l.AMOUNT),n.DiscountCategory.value(""),n.Quantity.value("1"),n.Discount.value("0"),n.SubTotal.value(l.AMOUNT),n.ItemCode.value(l.ItemCode),n.sid.value(l.id);var a=l.TestType;addtotalSum(),-1!=a.includes("Lab")&&(document.getElementById("x_LabTest").value="LabTest")}}})}}),e("[data-table=view_patient_services][data-field=x_amount]").on({change:function(t){var n=e(this).fields(),i=n.amount.toNumber();i*=n.Quantity.toNumber(),n.SubTotal.value(i),addtotalSum()}}),e("[data-table=view_patient_services][data-field=x_Quantity]").on({change:function(t){var n=e(this).fields(),i=n.amount.toNumber();i*=n.Quantity.toNumber(),n.SubTotal.value(i),addtotalSum()}}),e("[data-table=view_patient_services][data-field=x_Discount]").on({change:function(t){var n=e(this).fields(),i=n.Discount.toNumber(),l=n.amount.toNumber(),a=i/100*l,o=n.Quantity.toNumber(),d=l*o-a*o;n.SubTotal.value(d),addtotalSum()}}),e("[data-table=view_patient_services][data-field=x_SubTotal]").on({change:function(e){addtotalSum()}}),e("[data-table=view_billing_voucher][data-field=x_ModeofPayment]").on({change:function(t){var n=e(this).fields().ModeofPayment.value();"CARD"==n||"PAYTM"==n||"NEFT"==n?(document.getElementById("viewBankName").style.display="block",document.getElementById("viewBankDetails").innerText=n+" Details"):document.getElementById("viewBankName").style.display="none"}}),e("[data-table=view_billing_voucher][data-field=x_RIDNO]").on({change:function(t){var n=e(this).fields(),i=[{PatId:n.PatId.toNumber()}],l=JSON.stringify(i);e.ajax({type:"GET",url:"ajaxinsert.php?control=FindivfCoupleReg",data:{data:l},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var i,l=t[n];document.getElementById("x_PartnerName").value=l.Partnerfirst_name,(i=document.getElementById("lu_x_RefferedBy")).innerHTML=l.ReferedBy,i.selectedIndex=l.ReferedBy,i.value=l.ReferedBy,i.text=l.ReferedBy,(i=document.getElementById("x_RefferedBy")).value=l.ReferedBy,document.getElementById("lu_x_DrID").innerText=l.DrID,document.getElementById("x_Doctor").value=l.Doctor,document.getElementById("x_DrDepartment").value=l.DrDepartment,document.getElementById("ipAdmissiontype").innerText=l.typeRegsisteration+" "+l.Procedure,"null"!=l.typeRegsisteration?(document.getElementById("ipAdmissiontype").style.display="block",document.getElementById("BillClosingType").style.display="block"):(document.getElementById("ipAdmissiontype").style.display="none",document.getElementById("BillClosingType").style.display="none")}}}),document.getElementById("LoadGetOPAdvance").innerHTML="";var a=n.PatId.toNumber(),o=document.getElementById("HospIDId").value;i=[{patientId:a,HospID:o}],l=JSON.stringify(i);e.ajax({type:"GET",url:"ajaxinsert.php?control=GetOPAdvance",data:{data:l},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n="",i="",l="",a='<table id="customers"><tr><th>Advance No. </th><th>Date</th><th>Amount </th><th>Mode of Payment</th><th>Remarks</th></tr>',o=0;o<t.length;o++){var d=t[o];a=a+"  <tr><td>"+d.AdvanceNo+"</td><td>"+d.Date+"</td> <td>"+d.Amount+"</td> <td>"+d.ModeofPayment+"</td> <td>"+d.Remarks+"</td></tr>";n=d.TotalAdvance,i=d.TotalBill,l=d.BalanceAmount}a=(a=a+"</table>")+'<table style="width:100%"><tr><th>Total Advance = '+n+"</th><th>Total Bill = "+i+"</th><th>Balance Amount = "+l+"</th></tr></table>";t.length>0&&(document.getElementById("LoadGetOPAdvance").innerHTML=a)}});i=[{patientId:a=n.PatId.toNumber(),HospID:o}],l=JSON.stringify(i);e.ajax({type:"GET",url:"ajaxinsert.php?control=IPPatientSearch",data:{data:l},cache:!1,success:function(t){for(var n=JSON.parse(t).records,i=0;i<n.length;i++){var l,a=n[i],o=i+1;document.getElementById("r"+o+"_view_patient_services").insertCell(-1).innerHTML='<td class="ew-list-option-body text-nowrap" data-name="button"><div class="btn-group btn-group-sm ew-btn-group"><a class="btn btn-default ew-grid-link ew-grid-delete" title="" data-caption="Delete" onclick="return ERdeleteGridRow(this, '+o+');" data-original-title="Delete"><i data-phrase="DeleteLink" class="fa fas fa-eraser ew-icon" data-caption="Delete"></i></a></div></td>',document.getElementById("sv_x"+o+"_Services").value=a.Product,document.getElementById("x"+o+"_amount").value=a.RT,document.getElementById("x"+o+"_Quantity").value=parseInt(a.IQ),document.getElementById("x"+o+"_SubTotal").value=a.DAMT,document.getElementById("x"+o+"_ItemCode").value=a.PRC,document.getElementById("x"+o+"_sid").value=a.iiiddd,document.getElementById("x_ProcedureAmount").value=a.Amound,document.getElementById("x_ProcedureName").value=a.Procedure,(l=document.getElementById("sv_x"+o+"_Services")).innerHTML=a.Product,l.selectedIndex=a.Product,l.value=a.Product,l.text=a.Product,(l=document.getElementById("x"+o+"_Services")).value=a.Product;var d=e('*[data-caption="Add Blank Row"]');ew.addGridRow(d)}document.getElementById("ProcedureIITem").style.visibility="visible",addtotalSum()}});i=[{patientId:a=n.PatId.toNumber(),HospID:o}],l=JSON.stringify(i);e.ajax({type:"GET",url:"ajaxinsert.php?control=OPPatientISSUESearch",data:{data:l},cache:!1,success:function(t){for(var n=JSON.parse(t).records,i=0;i<n.length;i++){var l,a=n[i],o=i+1;document.getElementById("r"+o+"_view_patient_services").insertCell(-1).innerHTML='<td class="ew-list-option-body text-nowrap" data-name="button"><div class="btn-group btn-group-sm ew-btn-group"><a class="btn btn-default ew-grid-link ew-grid-delete" title="" data-caption="Delete" onclick="return ERdeleteGridRow(this, '+o+');" data-original-title="Delete"><i data-phrase="DeleteLink" class="fa fas fa-eraser ew-icon" data-caption="Delete"></i></a></div></td>',document.getElementById("sv_x"+o+"_Services").value=a.Product,document.getElementById("x"+o+"_amount").value=a.RT,document.getElementById("x"+o+"_Quantity").value=parseInt(a.IQ),document.getElementById("x"+o+"_SubTotal").value=a.DAMT,document.getElementById("x"+o+"_ItemCode").value=a.PRC,document.getElementById("x"+o+"_sid").value=a.iiiddd,document.getElementById("x_ProcedureAmount").value=a.Amound,document.getElementById("x_ProcedureName").value=a.Procedure,(l=document.getElementById("sv_x"+o+"_Services")).innerHTML=a.Product,l.selectedIndex=a.Product,l.value=a.Product,l.text=a.Product,(l=document.getElementById("x"+o+"_Services")).value=a.Product;var d=e('*[data-caption="Add Blank Row"]');ew.addGridRow(d)}document.getElementById("ProcedureIITem").style.visibility="visible",addtotalSum()}}),e("[data-field='x_BillClosing']").prop("checked",!0)}}),e("[data-table=view_billing_voucher][data-field=x_PatId]").on({"change keyup":function(t){var n=e(this).fields(),i=[{PatId:n.PatId.toNumber()}],l=JSON.stringify(i);e.ajax({type:"GET",url:"ajaxinsert.php?control=FindivfCoupleReg",data:{data:l},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var i,l=t[n];document.getElementById("x_PartnerName").value=l.Partnerfirst_name,(i=document.getElementById("lu_x_RefferedBy")).innerHTML=l.ReferedBy,i.selectedIndex=l.ReferedBy,i.value=l.ReferedBy,i.text=l.ReferedBy,(i=document.getElementById("x_RefferedBy")).value=l.ReferedBy,document.getElementById("lu_x_DrID").innerText=l.DrID,document.getElementById("x_Doctor").value=l.Doctor,document.getElementById("x_DrDepartment").value=l.DrDepartment,document.getElementById("ipAdmissiontype").innerText=l.typeRegsisteration+" "+l.Procedure,"null"!=l.typeRegsisteration?(document.getElementById("ipAdmissiontype").style.display="block",document.getElementById("BillClosingType").style.display="block"):(document.getElementById("ipAdmissiontype").style.display="none",document.getElementById("BillClosingType").style.display="none")}}}),document.getElementById("LoadGetOPAdvance").innerHTML="";var a=n.PatId.toNumber(),o=document.getElementById("HospIDId").value;i=[{patientId:a,HospID:o}],l=JSON.stringify(i);e.ajax({type:"GET",url:"ajaxinsert.php?control=GetOPAdvance",data:{data:l},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n="",i="",l="",a='<table id="customers"><tr><th>Advance No. </th><th>Date</th><th>Amount </th><th>Mode of Payment</th><th>Remarks</th></tr>',o=0;o<t.length;o++){var d=t[o];a=a+"  <tr><td>"+d.AdvanceNo+"</td><td>"+d.Date+"</td> <td>"+d.Amount+"</td> <td>"+d.ModeofPayment+"</td> <td>"+d.Remarks+"</td></tr>";n=d.TotalAdvance,i=d.TotalBill,l=d.BalanceAmount}a=(a=a+"</table>")+'<table style="width:100%"><tr><th>Total Advance = '+n+"</th><th>Total Bill = "+i+"</th><th>Balance Amount = "+l+"</th></tr></table>";t.length>0&&(document.getElementById("LoadGetOPAdvance").innerHTML=a)}});i=[{patientId:a=n.PatId.toNumber(),HospID:o}],l=JSON.stringify(i);e.ajax({type:"GET",url:"ajaxinsert.php?control=IPPatientSearch",data:{data:l},cache:!1,success:function(t){for(var n=JSON.parse(t).records,i=0;i<n.length;i++){var l,a=n[i],o=i+1;document.getElementById("r"+o+"_view_patient_services").insertCell(-1).innerHTML='<td class="ew-list-option-body text-nowrap" data-name="button"><div class="btn-group btn-group-sm ew-btn-group"><a class="btn btn-default ew-grid-link ew-grid-delete" title="" data-caption="Delete" onclick="return ERdeleteGridRow(this, '+o+');" data-original-title="Delete"><i data-phrase="DeleteLink" class="fa fas fa-eraser ew-icon" data-caption="Delete"></i></a></div></td>',document.getElementById("sv_x"+o+"_Services").value=a.Product,document.getElementById("x"+o+"_amount").value=a.RT,document.getElementById("x"+o+"_Quantity").value=parseInt(a.IQ),document.getElementById("x"+o+"_SubTotal").value=a.DAMT,document.getElementById("x"+o+"_ItemCode").value=a.PRC,document.getElementById("x"+o+"_sid").value=a.iiiddd,document.getElementById("x_ProcedureAmount").value=a.Amound,document.getElementById("x_ProcedureName").value=a.Procedure,(l=document.getElementById("sv_x"+o+"_Services")).innerHTML=a.Product,l.selectedIndex=a.Product,l.value=a.Product,l.text=a.Product,(l=document.getElementById("x"+o+"_Services")).value=a.Product;var d=e('*[data-caption="Add Blank Row"]');ew.addGridRow(d)}document.getElementById("ProcedureIITem").style.visibility="visible",addtotalSum()}});i=[{patientId:a=n.PatId.toNumber(),HospID:o}],l=JSON.stringify(i);e.ajax({type:"GET",url:"ajaxinsert.php?control=OPPatientISSUESearch",data:{data:l},cache:!1,success:function(t){for(var n=JSON.parse(t).records,i=0;i<n.length;i++){var l,a=n[i],o=i+1;document.getElementById("r"+o+"_view_patient_services").insertCell(-1).innerHTML='<td class="ew-list-option-body text-nowrap" data-name="button"><div class="btn-group btn-group-sm ew-btn-group"><a class="btn btn-default ew-grid-link ew-grid-delete" title="" data-caption="Delete" onclick="return ERdeleteGridRow(this, '+o+');" data-original-title="Delete"><i data-phrase="DeleteLink" class="fa fas fa-eraser ew-icon" data-caption="Delete"></i></a></div></td>',document.getElementById("sv_x"+o+"_Services").value=a.Product,document.getElementById("x"+o+"_amount").value=a.RT,document.getElementById("x"+o+"_Quantity").value=parseInt(a.IQ),document.getElementById("x"+o+"_SubTotal").value=a.DAMT,document.getElementById("x"+o+"_ItemCode").value=a.PRC,document.getElementById("x"+o+"_sid").value=a.iiiddd,document.getElementById("x_ProcedureAmount").value=a.Amound,document.getElementById("x_ProcedureName").value=a.Procedure,(l=document.getElementById("sv_x"+o+"_Services")).innerHTML=a.Product,l.selectedIndex=a.Product,l.value=a.Product,l.text=a.Product,(l=document.getElementById("x"+o+"_Services")).value=a.Product;var d=e('*[data-caption="Add Blank Row"]');ew.addGridRow(d)}document.getElementById("ProcedureIITem").style.visibility="visible",addtotalSum()}})}}),e("[data-table=view_billing_voucher][data-field=x_AdjustmentAdvance]").on({click:function(t){"Yes"==e(this).fields().AdjustmentAdvance.value()&&(document.getElementById("x_ModeofPayment").value="Adjustment with Advance")}}),e("[data-table=view_semenanalysis][data-field=x_RIDNo]").on({"change keyup":function(t){var n=[{RIDNo:e(this).fields().RIDNo.toNumber()}],i=JSON.stringify(n);e.ajax({type:"GET",url:"ajaxinsert.php?control=ivfCoupleReg",data:{data:i},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var i=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+i.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+i.first_name,document.getElementById("SemPatientGender").innerText="Gender : "+i.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+i.blood_group;var l="";l=""==i.profilePic||null==i.profilePic?"hims/profile-picture.png":i.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+l,document.getElementById("SemPatientAge").innerText="Age : "+i.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+i.mobile_no,document.getElementById("SemPatientEmail").innerText="Email : "+i.PEmail,document.getElementById("SemPartnerId").innerText="Partner Id : "+i.PartnerPatientID,document.getElementById("SemPartnerPatientName").innerText="Partner Name : "+i.Partnerfirst_name,document.getElementById("SemPartnerGender").innerText="Gender : "+i.Partnergender,document.getElementById("SemPartnerBloodGroup").innerText="Blood Group : "+i.Partnerblood_group;l="";l=""==i.PartnerprofilePic||null==i.PartnerprofilePic?"hims/profile-picture.png":i.PartnerprofilePic,document.getElementById("SemPartnerprofilePicturePatient").src="uploads/"+l,document.getElementById("SemPartnerAge").innerText="Age : "+i.PartnerAge,document.getElementById("SemPartnerMobile").innerText="Mobile : "+i.Partnermobile_no,document.getElementById("SemPartnerEmail").innerText="Email : "+i.PartnerPEmail,document.getElementById("partnerdataview").style.display="block",document.getElementById("patientdataview").className="col-md-6"}}})}}),e("[data-table=view_semenanalysis][data-field=x_HusbandName]").on({"change keyup":function(t){var n=[{patientId:e(this).fields().HusbandName.toNumber()}],i=JSON.stringify(n);e.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPicture",data:{data:i},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var i=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+i.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+i.first_name,document.getElementById("SemPatientGender").innerText="Gender : "+i.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+i.blood_group;var l="";l=""==i.profilePic||null==i.profilePic?"hims/profile-picture.png":i.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+l,document.getElementById("SemPatientAge").innerText="Age : "+i.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+i.mobile_no,document.getElementById("SemPatientEmail").innerText="Email : "+i.PEmail,document.getElementById("partnerdataview").style.display="none",document.getElementById("patientdataview").className="col-md-12"}}})}}),e("[data-table=view_semenanalysis][data-field=x_RequestSample]").on({"change onchange":function(t){var n=e(this).fields().RequestSample.value(),i=document.getElementById("TankLocation"),l=document.getElementById("Method");(a=document.getElementById("capacitationTable")).style.width="60%",document.getElementById("Volume1").style.visibility="hidden",document.getElementById("Concentration1").style.visibility="hidden",document.getElementById("Total1").style.visibility="hidden",document.getElementById("ProgressiveMotility1").style.visibility="hidden",document.getElementById("NonProgrssiveMotile1").style.visibility="hidden",document.getElementById("Immotile1").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile1").style.visibility="hidden",document.getElementById("capacitationTableHead").style.visibility="hidden",document.getElementById("PreCapacitation").innerText="",document.getElementById("PostCapacitation").innerText="",document.getElementById("x_Volume1").style.width="0px",document.getElementById("x_Concentration1").style.width="0px",document.getElementById("x_Total1").style.width="0px",document.getElementById("x_ProgressiveMotility1").style.width="0px",document.getElementById("x_NonProgrssiveMotile1").style.width="0px",document.getElementById("x_Immotile1").style.width="0px",document.getElementById("x_TotalProgrssiveMotile1").style.width="0px",document.getElementById("x_Volume2").style.width="0px",document.getElementById("x_Concentration2").style.width="0px",document.getElementById("x_Total2").style.width="0px",document.getElementById("x_ProgressiveMotility2").style.width="0px",document.getElementById("x_NonProgrssiveMotile2").style.width="0px",document.getElementById("x_Immotile2").style.width="0px",document.getElementById("x_TotalProgrssiveMotile2").style.width="0px",document.getElementById("Volume2").style.visibility="hidden",document.getElementById("Concentration2").style.visibility="hidden",document.getElementById("Total2").style.visibility="hidden",document.getElementById("ProgressiveMotility2").style.visibility="hidden",document.getElementById("NonProgrssiveMotile2").style.visibility="hidden",document.getElementById("Immotile2").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile2").style.visibility="hidden",document.getElementById("Big").style.visibility="hidden",document.getElementById("Medium").style.visibility="hidden",document.getElementById("Small").style.visibility="hidden",document.getElementById("NoHalo").style.visibility="hidden",document.getElementById("Fragmented").style.visibility="hidden",document.getElementById("NonFragmented").style.visibility="hidden",document.getElementById("DFI").style.visibility="hidden",document.getElementById("InseminationTime").style.visibility="hidden",document.getElementById("InseminationBy").style.visibility="hidden",document.getElementById("IsueBy").style.visibility="hidden",document.getElementById("idMacs").style.visibility="hidden",document.getElementById("IUILocation").style.visibility="hidden",document.getElementById("SemenHeading").innerText="Spermiogram","Freezing"==n?(document.getElementById("SemenHeading").innerText="Semen Freezing",i.style.visibility="visible",l.style.visibility="visible"):(i.style.visibility="hidden",l.style.visibility="visible");var a=document.getElementById("capacitationTable");if("Semen Analysis"==n)a.style.width="60%",document.getElementById("Volume1").style.visibility="hidden",document.getElementById("Concentration1").style.visibility="hidden",document.getElementById("Total1").style.visibility="hidden",document.getElementById("ProgressiveMotility1").style.visibility="hidden",document.getElementById("NonProgrssiveMotile1").style.visibility="hidden",document.getElementById("Immotile1").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile1").style.visibility="hidden",document.getElementById("capacitationTableHead").style.visibility="hidden",document.getElementById("PreCapacitation").innerText="",document.getElementById("PostCapacitation").innerText="",document.getElementById("x_Volume1").style.width="0px",document.getElementById("x_Concentration1").style.width="0px",document.getElementById("x_Total1").style.width="0px",document.getElementById("x_ProgressiveMotility1").style.width="0px",document.getElementById("x_NonProgrssiveMotile1").style.width="0px",document.getElementById("x_Immotile1").style.width="0px",document.getElementById("x_TotalProgrssiveMotile1").style.width="0px",document.getElementById("x_Volume2").style.width="0px",document.getElementById("x_Concentration2").style.width="0px",document.getElementById("x_Total2").style.width="0px",document.getElementById("x_ProgressiveMotility2").style.width="0px",document.getElementById("x_NonProgrssiveMotile2").style.width="0px",document.getElementById("x_Immotile2").style.width="0px",document.getElementById("x_TotalProgrssiveMotile2").style.width="0px",document.getElementById("Volume2").style.visibility="hidden",document.getElementById("Concentration2").style.visibility="hidden",document.getElementById("Total2").style.visibility="hidden",document.getElementById("ProgressiveMotility2").style.visibility="hidden",document.getElementById("NonProgrssiveMotile2").style.visibility="hidden",document.getElementById("Immotile2").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile2").style.visibility="hidden",document.getElementById("Big").style.visibility="hidden",document.getElementById("Medium").style.visibility="hidden",document.getElementById("Small").style.visibility="hidden",document.getElementById("NoHalo").style.visibility="hidden",document.getElementById("Fragmented").style.visibility="hidden",document.getElementById("NonFragmented").style.visibility="hidden",document.getElementById("DFI").style.visibility="hidden",document.getElementById("InseminationTime").style.visibility="hidden",document.getElementById("InseminationBy").style.visibility="hidden",document.getElementById("IsueBy").style.visibility="hidden";else if("ICSI"==n){a.style.width="60%",document.getElementById("Volume1").style.visibility="hidden",document.getElementById("Concentration1").style.visibility="hidden",document.getElementById("Total1").style.visibility="hidden",document.getElementById("ProgressiveMotility1").style.visibility="hidden",document.getElementById("NonProgrssiveMotile1").style.visibility="hidden",document.getElementById("Immotile1").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile1").style.visibility="hidden",document.getElementById("capacitationTableHead").style.visibility="hidden",document.getElementById("PreCapacitation").innerText="",document.getElementById("PostCapacitation").innerText="",document.getElementById("x_Volume1").style.width="0px",document.getElementById("x_Concentration1").style.width="0px",document.getElementById("x_Total1").style.width="0px",document.getElementById("x_ProgressiveMotility1").style.width="0px",document.getElementById("x_NonProgrssiveMotile1").style.width="0px",document.getElementById("x_Immotile1").style.width="0px",document.getElementById("x_TotalProgrssiveMotile1").style.width="0px",document.getElementById("x_Volume2").style.width="0px",document.getElementById("x_Concentration2").style.width="0px",document.getElementById("x_Total2").style.width="0px",document.getElementById("x_ProgressiveMotility2").style.width="0px",document.getElementById("x_NonProgrssiveMotile2").style.width="0px",document.getElementById("x_Immotile2").style.width="0px",document.getElementById("x_TotalProgrssiveMotile2").style.width="0px",document.getElementById("Volume2").style.visibility="hidden",document.getElementById("Concentration2").style.visibility="hidden",document.getElementById("Total2").style.visibility="hidden",document.getElementById("ProgressiveMotility2").style.visibility="hidden",document.getElementById("NonProgrssiveMotile2").style.visibility="hidden",document.getElementById("Immotile2").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile2").style.visibility="hidden",document.getElementById("Big").style.visibility="hidden",document.getElementById("Medium").style.visibility="hidden",document.getElementById("Small").style.visibility="hidden",document.getElementById("NoHalo").style.visibility="hidden",document.getElementById("Fragmented").style.visibility="hidden",document.getElementById("NonFragmented").style.visibility="hidden",document.getElementById("DFI").style.visibility="hidden",document.getElementById("InseminationTime").style.visibility="hidden",document.getElementById("InseminationBy").style.visibility="hidden",document.getElementById("IsueBy").style.visibility="hidden",document.getElementById("IsueBy").style.visibility="visible",a.style.width="100%",document.getElementById("Volume1").style.visibility="visible",document.getElementById("Concentration1").style.visibility="visible",document.getElementById("Total1").style.visibility="visible",document.getElementById("ProgressiveMotility1").style.visibility="visible",document.getElementById("NonProgrssiveMotile1").style.visibility="visible",document.getElementById("Immotile1").style.visibility="visible",document.getElementById("TotalProgrssiveMotile1").style.visibility="visible",document.getElementById("capacitationTableHead").style.visibility="visible",document.getElementById("idMacs").style.visibility="visible",document.getElementById("PreCapacitation").innerText="Pre Capacitation",document.getElementById("PostCapacitation").innerText="Post Capacitation",document.getElementById("x_Volume1").style.width="80px",document.getElementById("x_Concentration1").style.width="80px",document.getElementById("x_Total1").style.width="80px",document.getElementById("x_ProgressiveMotility1").style.width="80px",document.getElementById("x_NonProgrssiveMotile1").style.width="80px",document.getElementById("x_Immotile1").style.width="80px",document.getElementById("x_TotalProgrssiveMotile1").style.width="80px"}else"DFI"==n?(document.getElementById("SemenHeading").innerText="DNA Framgmentation Index",document.getElementById("Big").style.visibility="visible",document.getElementById("Medium").style.visibility="visible",document.getElementById("Small").style.visibility="visible",document.getElementById("NoHalo").style.visibility="visible",document.getElementById("Fragmented").style.visibility="visible",document.getElementById("NonFragmented").style.visibility="visible",document.getElementById("DFI").style.visibility="visible"):"IUI processing"==n?(document.getElementById("SemenHeading").innerText="INTRA UTERINE INSEMINATION",document.getElementById("Big").style.visibility="hidden",document.getElementById("Medium").style.visibility="hidden",document.getElementById("Small").style.visibility="hidden",document.getElementById("NoHalo").style.visibility="hidden",document.getElementById("Fragmented").style.visibility="hidden",document.getElementById("NonFragmented").style.visibility="hidden",document.getElementById("DFI").style.visibility="hidden",a.style.width="100%",document.getElementById("Volume1").style.visibility="visible",document.getElementById("Concentration1").style.visibility="visible",document.getElementById("Total1").style.visibility="visible",document.getElementById("ProgressiveMotility1").style.visibility="visible",document.getElementById("NonProgrssiveMotile1").style.visibility="visible",document.getElementById("Immotile1").style.visibility="visible",document.getElementById("TotalProgrssiveMotile1").style.visibility="visible",document.getElementById("capacitationTableHead").style.visibility="visible",document.getElementById("InseminationTime").style.visibility="visible",document.getElementById("InseminationBy").style.visibility="visible",document.getElementById("PreCapacitation").innerText="Pre Capacitation",document.getElementById("PostCapacitation").innerText="Post Capacitation",document.getElementById("x_Volume1").style.width="80px",document.getElementById("x_Concentration1").style.width="80px",document.getElementById("x_Total1").style.width="80px",document.getElementById("x_ProgressiveMotility1").style.width="80px",document.getElementById("x_NonProgrssiveMotile1").style.width="80px",document.getElementById("x_Immotile1").style.width="80px",document.getElementById("x_TotalProgrssiveMotile1").style.width="80px",document.getElementById("idMacs").style.visibility="visible",document.getElementById("IUILocation").style.visibility="visible"):(a.style.width="60%",document.getElementById("Volume1").style.visibility="hidden",document.getElementById("Concentration1").style.visibility="hidden",document.getElementById("Total1").style.visibility="hidden",document.getElementById("ProgressiveMotility1").style.visibility="hidden",document.getElementById("NonProgrssiveMotile1").style.visibility="hidden",document.getElementById("Immotile1").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile1").style.visibility="hidden",document.getElementById("capacitationTableHead").style.visibility="hidden",document.getElementById("PreCapacitation").innerText="",document.getElementById("PostCapacitation").innerText="",document.getElementById("x_Volume1").style.width="0px",document.getElementById("x_Concentration1").style.width="0px",document.getElementById("x_Total1").style.width="0px",document.getElementById("x_ProgressiveMotility1").style.width="0px",document.getElementById("x_NonProgrssiveMotile1").style.width="0px",document.getElementById("x_Immotile1").style.width="0px",document.getElementById("x_TotalProgrssiveMotile1").style.width="0px")}}),e("[data-table=view_semenanalysis][data-field=x_Volume]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Volume.toNumber()*n.Concentration.toNumber();n.Total.val(i)}}),e("[data-table=view_semenanalysis][data-field=x_Concentration]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Volume.toNumber()*n.Concentration.toNumber();n.Total.val(i.toFixed(1))}}),e("[data-table=view_semenanalysis][data-field=x_Total]").on({"change keyup":function(t){var n=e(this).fields();n.Volume.toNumber(),n.Concentration.toNumber()}}),e("[data-table=view_semenanalysis][data-field=x_ProgressiveMotility]").on({"change keyup":function(t){var n=e(this).fields(),i=n.ProgressiveMotility.toNumber(),l=n.NonProgrssiveMotile.toNumber(),a=100-(i+l);n.Immotile.val(a.toFixed(1));var o=n.Volume.toNumber()*n.Concentration.toNumber()*(i=n.ProgressiveMotility.toNumber())/100;n.TotalProgrssiveMotile.val(o.toFixed(1))}}),e("[data-table=view_semenanalysis][data-field=x_NonProgrssiveMotile]").on({"change keyup":function(t){var n=e(this).fields(),i=n.ProgressiveMotility.toNumber(),l=n.NonProgrssiveMotile.toNumber(),a=100-(i+l);n.Immotile.val(a.toFixed(1));var o=n.Volume.toNumber()*n.Concentration.toNumber()*(i=n.ProgressiveMotility.toNumber())/100;n.TotalProgrssiveMotile.val(o.toFixed(1))}}),e("[data-table=view_semenanalysis][data-field=x_Normal]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Normal.toNumber();n.Abnormal.val(100-i)}}),e("[data-table=view_semenanalysis][data-field=x_Abnormal]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Abnormal.toNumber();n.Normal.val(100-i)}}),e("[data-table=view_semenanalysis][data-field=x_Headdefects]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Headdefects.toNumber(),l=n.MidpieceDefects.toNumber(),a=n.Abnormal-(i+l);n.TailDefects.val(a)}}),e("[data-table=view_semenanalysis][data-field=x_MidpieceDefects]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Headdefects.toNumber(),l=n.MidpieceDefects.toNumber(),a=n.Abnormal.toNumber()-(i+l);n.TailDefects.val(a)}}),e("[data-table=view_semenanalysis][data-field=x_TailDefects]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Headdefects.toNumber(),l=n.MidpieceDefects.toNumber(),a=n.Abnormal.toNumber()-(i+l);n.TailDefects.val(a)}}),e("[data-table=view_semenanalysis][data-field=x_SemenOrgin]").on({"change onchange":function(t){var n=e(this).fields().SemenOrgin.value(),i=document.getElementById("donorId"),l=document.getElementById("DonorBloodGroupId");"Donor"==n?(i.style.visibility="visible",l.style.visibility="visible"):(i.style.visibility="hidden",l.style.visibility="hidden")}}),e("[data-table=view_semenanalysis][data-field=x_Volume1]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Volume1.toNumber()*n.Concentration1.toNumber();n.Total1.val(i)}}),e("[data-table=view_semenanalysis][data-field=x_Concentration1]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Volume1.toNumber()*n.Concentration1.toNumber();n.Total1.val(i)}}),e("[data-table=view_semenanalysis][data-field=x_ProgressiveMotility1]").on({"change keyup":function(t){var n=e(this).fields(),i=100-((o=n.ProgressiveMotility1.toNumber())+n.NonProgrssiveMotile1.toNumber());n.Immotile1.val(i);var l=n.Volume1.toNumber(),a=n.Concentration1.toNumber(),o=n.ProgressiveMotility1.toNumber(),d=(n.NonProgrssiveMotile1.toNumber(),l*a*o/100);n.TotalProgrssiveMotile1.val(d.toFixed(1))}}),e("[data-table=view_semenanalysis][data-field=x_NonProgrssiveMotile1]").on({"change keyup":function(t){var n=e(this).fields(),i=100-((o=n.ProgressiveMotility1.toNumber())+n.NonProgrssiveMotile1.toNumber());n.Immotile1.val(i);var l=n.Volume1.toNumber(),a=n.Concentration1.toNumber(),o=n.ProgressiveMotility1.toNumber(),d=(n.NonProgrssiveMotile1.toNumber(),l*a*o/100);n.TotalProgrssiveMotile1.val(d.toFixed(1))}}),e("[data-table=view_semenanalysis][data-field=x_Volume2]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Volume2.toNumber()*n.Concentration2.toNumber();n.Total2.val(i)}}),e("[data-table=view_semenanalysis][data-field=x_Concentration2]").on({"change keyup":function(t){var n=e(this).fields(),i=n.Volume2.toNumber()*n.Concentration2.toNumber();n.Total2.val(i)}}),e("[data-table=view_semenanalysis][data-field=x_ProgressiveMotility2]").on({"change keyup":function(t){var n=e(this).fields(),i=100-((o=n.ProgressiveMotility2.toNumber())+n.NonProgrssiveMotile2.toNumber());n.Immotile2.val(i);var l=n.Volume2.toNumber(),a=n.Concentration2.toNumber(),o=n.ProgressiveMotility2.toNumber(),d=(n.NonProgrssiveMotile2.toNumber(),l*a*o/100);n.TotalProgrssiveMotile2.val(d.toFixed(1))}}),e("[data-table=view_semenanalysis][data-field=x_NonProgrssiveMotile2]").on({"change keyup":function(t){var n=e(this).fields(),i=100-((o=n.ProgressiveMotility2.toNumber())+n.NonProgrssiveMotile2.toNumber());n.Immotile2.val(i);var l=n.Volume2.toNumber(),a=n.Concentration2.toNumber(),o=n.ProgressiveMotility2.toNumber(),d=(n.NonProgrssiveMotile2.toNumber(),l*a*o/100);n.TotalProgrssiveMotile2.val(d.toFixed(1))}}),e("[data-table=view_semenanalysis][data-field=x_MACS]").on({click:function(t){"MACS"==e(this).fields().MACS.value()?(document.getElementById("Volume2").style.visibility="visible",document.getElementById("Concentration2").style.visibility="visible",document.getElementById("Total2").style.visibility="visible",document.getElementById("ProgressiveMotility2").style.visibility="visible",document.getElementById("NonProgrssiveMotile2").style.visibility="visible",document.getElementById("Immotile2").style.visibility="visible",document.getElementById("TotalProgrssiveMotile2").style.visibility="visible",document.getElementById("x_Volume2").style.width="80px",document.getElementById("x_Concentration2").style.width="80px",document.getElementById("x_Total2").style.width="80px",document.getElementById("x_ProgressiveMotility2").style.width="80px",document.getElementById("x_NonProgrssiveMotile2").style.width="80px",document.getElementById("x_Immotile2").style.width="80px",document.getElementById("x_TotalProgrssiveMotile2").style.width="80px"):(document.getElementById("x_Volume2").style.width="0px",document.getElementById("x_Concentration2").style.width="0px",document.getElementById("x_Total2").style.width="0px",document.getElementById("x_ProgressiveMotility2").style.width="0px",document.getElementById("x_NonProgrssiveMotile2").style.width="0px",document.getElementById("x_Immotile2").style.width="0px",document.getElementById("x_TotalProgrssiveMotile2").style.width="0px",document.getElementById("Volume2").style.visibility="hidden",document.getElementById("Concentration2").style.visibility="hidden",document.getElementById("Total2").style.visibility="hidden",document.getElementById("ProgressiveMotility2").style.visibility="hidden",document.getElementById("NonProgrssiveMotile2").style.visibility="hidden",document.getElementById("Immotile2").style.visibility="hidden",document.getElementById("TotalProgrssiveMotile2").style.visibility="hidden")}}),e("[data-table=pharmacy_batchmas][data-field=x_OQ]").on({change:function(t){var n=e(this).fields(),i=(n.OQ.toNumber(),n.UR.toNumber()),l=(n.MRP.toNumber(),i+i*((n.SSGST.toNumber()+n.SCGST.toNumber())/100));n.RT.value(l.toFixed(2))}}),e("[data-table=pharmacy_batchmas][data-field=x_MRP]").on({change:function(t){var n=e(this).fields(),i=(n.OQ.toNumber(),n.UR.toNumber()),l=(n.MRP.toNumber(),i+i*((n.SSGST.toNumber()+n.SCGST.toNumber())/100));n.RT.value(l.toFixed(2))}}),e("[data-table=pharmacy_batchmas][data-field=x_UR]").on({change:function(t){var n=e(this).fields(),i=(n.OQ.toNumber(),n.UR.toNumber()),l=(n.MRP.toNumber(),i+i*((n.SSGST.toNumber()+n.SCGST.toNumber())/100));n.RT.value(l.toFixed(2))}}),e("[data-table=pharmacy_batchmas][data-field=x_SSGST]").on({change:function(t){var n=e(this).fields(),i=(n.OQ.toNumber(),n.UR.toNumber()),l=(n.MRP.toNumber(),i+i*((n.SSGST.toNumber()+n.SCGST.toNumber())/100));n.RT.value(l.toFixed(2))}}),e("[data-table=pharmacy_batchmas][data-field=x_SCGST]").on({change:function(t){var n=e(this).fields(),i=(n.OQ.toNumber(),n.UR.toNumber()),l=(n.MRP.toNumber(),i+i*((n.SSGST.toNumber()+n.SCGST.toNumber())/100));n.RT.value(l.toFixed(2))}}),e("[data-table=pharmacy_batchmas][data-field=x_RT]").on({change:function(t){var n=e(this).fields(),i=(n.OQ.toNumber(),n.UR.toNumber()),l=(n.MRP.toNumber(),i+i*((n.SSGST.toNumber()+n.SCGST.toNumber())/100));n.RT.value(l.toFixed(2))}}),e("[data-table=pharmacy_pharled][data-field=x_SLNO]").on({change:function(e){addtotalSum()}}),e("[data-table=pharmacy_pharled][data-field=x_Product]").on({change:function(e){addtotalSum()}}),e("[data-table=pharmacy_pharled][data-field=x_RT]").on({change:function(t){var n=e(this).fields(),i=n.IQ.toNumber()*n.RT.toNumber();n.DAMT.value(i),addtotalSum()}}),e("[data-table=pharmacy_pharled][data-field=x_IQ]").on({change:function(t){var n=e(this).fields(),i=n.IQ.toNumber(),l=n.UR.toNumber();i>l&&(alert("You Cant Issue more than stock..."),n.IQ.value(l),i=l);var a=i*n.RT.toNumber();n.DAMT.value(a),addtotalSum()}}),e("[data-table=pharmacy_pharled][data-field=x_DAMT]").on({change:function(t){var n=e(this).fields(),i=n.IQ.toNumber()*n.RT.toNumber();n.DAMT.value(i),addtotalSum()}}),e("[data-table=pharmacy_po][data-field=x_DT]").on({"change keyup paste mouseup onChangeMonthYear onClose onSelect create picker_event hide changeDate":function(t){var n=e(this).fields(),i=n.DT[0].value.split("/");n.YM.value(i[2]+i[1])}}),e("[data-table=view_pharmacygrn][data-field=x_PrName]").on({change:function(t){var n=e(this).fields(),i=document.getElementById("x_BILLDT").value;""==i?(alert("Please add Bill Date ....."),n.PRC.value(""),n.PrName.value(""),n.BatchNo.value(""),n.ExpDate.value(""),n.MFRCODE.value(""),n.MRP.value(""),n.HSN.value(""),n.PSGST.value(""),n.PCGST.value(""),document.getElementById("x_BILLDT").focus()):n.BillDate.value(i)}}),e("[data-table=view_pharmacygrn][data-field=x_GrnQuantity]").on({change:function(t){var n=(s=e(this).fields()).GrnQuantity.toNumber(),i=(s.FreeQty.toNumber(),s.PurValue.toNumber()),l=s.Disc.toNumber(),a=(s.MRP.toNumber(),s.PurValue.toNumber(),((u=s.PSGST.toNumber())+(r=s.PCGST.toNumber()))/100*(i-l)*n),o=(g=i-l+(u+r)/100*(i-l),i*n);s.PTax.value(a),s.ItemValue.value(o);var d=o+a;s.SalTax.value(d);var m=s.SUnit.toNumber();n=s.GrnQuantity.toNumber();m>0&&(n*=m),s.Quantity.value(n);n=(s=e(this).fields()).GrnQuantity.toNumber(),s.FreeQty.toNumber(),i=s.PurValue.toNumber(),l=s.Disc.toNumber(),s.MRP.toNumber(),s.PurValue.toNumber();var s,u=s.PSGST.toNumber(),r=s.PCGST.toNumber(),c=s.Disc.value();if(0==l)g=i-l+(u+r)/100*(i-l),d=(o=i*n)+(a=(u+r)/100*(i-l)*n);else try{c.toString().indexOf("%"),c.toString().includes("%");if(-1==c.toString().indexOf("%"))g=(y=i*n-l)+(a=(u+r)/100*y),o=y,d=g;else{var y,g;g=(y=i*n-(l=(l=c.toString().replace("%",""))/100*(i*n)))+(a=(u+r)/100*y),o=y,d=g}}catch(e){}s.PTax.value(a),s.ItemValue.value(o),s.SalTax.value(d),addtotalSum(),addtotalSum()}}),e("[data-table=view_pharmacygrn][data-field=x_Quantity]").on({change:function(t){var n=(m=e(this).fields()).Quantity.toNumber(),i=(m.FreeQty.toNumber(),m.PurValue.toNumber()),l=m.Disc.toNumber(),a=(m.MRP.toNumber(),m.PurValue.toNumber(),((s=m.PSGST.toNumber())+(u=m.PCGST.toNumber()))/100*(i-l)*n),o=(y=i-l+(s+u)/100*(i-l),i*n);m.PTax.value(a),m.ItemValue.value(o);var d=o+a;m.SalTax.value(d),addtotalSum();n=(m=e(this).fields()).GrnQuantity.toNumber(),m.FreeQty.toNumber(),i=m.PurValue.toNumber(),l=m.Disc.toNumber(),m.MRP.toNumber(),m.PurValue.toNumber();var m,s=m.PSGST.toNumber(),u=m.PCGST.toNumber(),r=m.Disc.value();if(0==l)y=i-l+(s+u)/100*(i-l),d=(o=i*n)+(a=(s+u)/100*(i-l)*n);else try{r.toString().indexOf("%"),r.toString().includes("%");if(-1==r.toString().indexOf("%"))y=(c=i*n-l)+(a=(s+u)/100*c),o=c,d=y;else{var c,y;y=(c=i*n-(l=(l=r.toString().replace("%",""))/100*(i*n)))+(a=(s+u)/100*c),o=c,d=y}}catch(e){}m.PTax.value(a),m.ItemValue.value(o),m.SalTax.value(d),addtotalSum()}}),e("[data-table=view_pharmacygrn][data-field=x_FreeQty]").on({change:function(t){var n=(m=e(this).fields()).GrnQuantity.toNumber(),i=(m.FreeQty.toNumber(),m.PurValue.toNumber()),l=m.Disc.toNumber(),a=(m.MRP.toNumber(),m.PurValue.toNumber(),((s=m.PSGST.toNumber())+(u=m.PCGST.toNumber()))/100*(i-l)*n),o=(y=i-l+(s+u)/100*(i-l),i*n);m.PTax.value(a),m.ItemValue.value(o);var d=o+a;m.SalTax.value(d),addtotalSum();n=(m=e(this).fields()).GrnQuantity.toNumber(),m.FreeQty.toNumber(),i=m.PurValue.toNumber(),l=m.Disc.toNumber(),m.MRP.toNumber(),m.PurValue.toNumber();var m,s=m.PSGST.toNumber(),u=m.PCGST.toNumber(),r=m.Disc.value();if(0==l)y=i-l+(s+u)/100*(i-l),d=(o=i*n)+(a=(s+u)/100*(i-l)*n);else try{r.toString().indexOf("%"),r.toString().includes("%");if(-1==r.toString().indexOf("%"))y=(c=i*n-l)+(a=(s+u)/100*c),o=c,d=y;else{var c,y;y=(c=i*n-(l=(l=r.toString().replace("%",""))/100*(i*n)))+(a=(s+u)/100*c),o=c,d=y}}catch(e){}m.PTax.value(a),m.ItemValue.value(o),m.SalTax.value(d),addtotalSum()}}),e("[data-table=view_pharmacygrn][data-field=x_PUnit]").on({change:function(t){var n=e(this).fields(),i=n.GrnQuantity.toNumber(),l=(n.FreeQty.toNumber(),n.PurValue.toNumber()),a=n.Disc.toNumber(),o=(n.MRP.toNumber(),n.PurValue.toNumber(),n.PSGST.toNumber()),d=n.PCGST.toNumber(),m=n.Disc.value();if(0==a){y=l-a+(o+d)/100*(l-a);var s=(u=l*i)+(c=(o+d)/100*(l-a)*i)}else try{m.toString().indexOf("%"),m.toString().includes("%");if(-1==m.toString().indexOf("%")){y=(r=l*i-a)+(c=(o+d)/100*r);var u=r;s=y}else{var r,c,y;y=(r=l*i-(a=(a=m.toString().replace("%",""))/100*(l*i)))+(c=(o+d)/100*r),u=r,s=y}}catch(e){}n.PTax.value(c),n.ItemValue.value(u),n.SalTax.value(s),addtotalSum()}}),e("[data-table=view_pharmacygrn][data-field=x_SUnit]").on({change:function(t){var n=(a=e(this).fields()).SUnit.toNumber(),i=a.GrnQuantity.toNumber();n>0&&(i*=n),a.Quantity.value(i);var l=a.MRP.toNumber();n=a.SUnit.toNumber(),i=a.GrnQuantity.toNumber();n>0&&(l/=n),a.SalRate.value(l.toFixed(2));i=(a=e(this).fields()).GrnQuantity.toNumber(),a.FreeQty.toNumber();var a,o=a.PurValue.toNumber(),d=a.Disc.toNumber(),m=(l=a.MRP.toNumber(),a.PurValue.toNumber(),a.PSGST.toNumber()),s=a.PCGST.toNumber(),u=a.Disc.value();if(0==d){v=o-d+(m+s)/100*(o-d);var r=(c=o*i)+(g=(m+s)/100*(o-d)*i)}else try{u.toString().indexOf("%"),u.toString().includes("%");if(-1==u.toString().indexOf("%")){v=(y=o*i-d)+(g=(m+s)/100*y);var c=y;r=v}else{var y,g,v;v=(y=o*i-(d=(d=u.toString().replace("%",""))/100*(o*i)))+(g=(m+s)/100*y),c=y,r=v}}catch(e){}a.PTax.value(g),a.ItemValue.value(c),a.SalTax.value(r),addtotalSum()}}),e("[data-table=view_pharmacygrn][data-field=x_Pack]").on({change:function(t){var n=e(this).fields(),i=n.Pack.toNumber(),l=n.Quantity.toNumber();n.Quantity.value(l*i)}}),e("[data-table=view_pharmacygrn][data-field=x_MRP]").on({change:function(t){var n=(u=e(this).fields()).MRP.toNumber(),i=u.SUnit.toNumber(),l=u.GrnQuantity.toNumber();i>0&&(n/=i),u.SalRate.value(n.toFixed(2));u.FreeQty.toNumber();var a=u.PurValue.toNumber(),o=u.Disc.toNumber(),d=(n=u.MRP.toNumber(),u.PurValue.toNumber(),((r=u.PSGST.toNumber())+(c=u.PCGST.toNumber()))/100*(a-o)*l),m=(v=a-o+(r+c)/100*(a-o),a*l);u.PTax.value(d.toFixed(2)),u.ItemValue.value(m.toFixed(2));var s=m+d;u.SalTax.value(s.toFixed(2)),u.SalRate.value(n),addtotalSum();l=(u=e(this).fields()).GrnQuantity.toNumber(),u.FreeQty.toNumber(),a=u.PurValue.toNumber(),o=u.Disc.toNumber(),n=u.MRP.toNumber(),u.PurValue.toNumber();var u,r=u.PSGST.toNumber(),c=u.PCGST.toNumber(),y=u.Disc.value();if(0==o)v=a-o+(r+c)/100*(a-o),s=(m=a*l)+(d=(r+c)/100*(a-o)*l);else try{y.toString().indexOf("%"),y.toString().includes("%");if(-1==y.toString().indexOf("%"))v=(g=a*l-o)+(d=(r+c)/100*g),m=g,s=v;else{var g,v;v=(g=a*l-(o=(o=y.toString().replace("%",""))/100*(a*l)))+(d=(r+c)/100*g),m=g,s=v}}catch(e){}u.PTax.value(d),u.ItemValue.value(m),u.SalTax.value(s),addtotalSum()}}),e("[data-table=view_pharmacygrn][data-field=x_PurValue]").on({change:function(t){var n=(m=e(this).fields()).GrnQuantity.toNumber(),i=(m.FreeQty.toNumber(),m.PurValue.toNumber()),l=m.Disc.toNumber(),a=(m.MRP.toNumber(),m.PurValue.toNumber(),((s=m.PSGST.toNumber())+(u=m.PCGST.toNumber()))/100*(i-l)*n),o=(y=i-l+(s+u)/100*(i-l),i*n);m.PTax.value(a.toFixed(2)),m.ItemValue.value(o.toFixed(2));var d=o+a;m.SalTax.value(d.toFixed(2)),addtotalSum();n=(m=e(this).fields()).GrnQuantity.toNumber(),m.FreeQty.toNumber(),i=m.PurValue.toNumber(),l=m.Disc.toNumber(),m.MRP.toNumber(),m.PurValue.toNumber();var m,s=m.PSGST.toNumber(),u=m.PCGST.toNumber(),r=m.Disc.value();if(0==l)y=i-l+(s+u)/100*(i-l),d=(o=i*n)+(a=(s+u)/100*(i-l)*n);else try{r.toString().indexOf("%"),r.toString().includes("%");if(-1==r.toString().indexOf("%"))y=(c=i*n-l)+(a=(s+u)/100*c),o=c,d=y;else{var c,y;y=(c=i*n-(l=(l=r.toString().replace("%",""))/100*(i*n)))+(a=(s+u)/100*c),o=c,d=y}}catch(e){}m.PTax.value(a),m.ItemValue.value(o),m.SalTax.value(d),addtotalSum()}}),e("[data-table=view_pharmacygrn][data-field=x_Disc]").on({change:function(t){var n=e(this).fields(),i=n.GrnQuantity.toNumber(),l=(n.FreeQty.toNumber(),n.PurValue.toNumber()),a=n.Disc.toNumber(),o=(n.MRP.toNumber(),n.PurValue.toNumber(),n.PSGST.toNumber()),d=n.PCGST.toNumber(),m=n.Disc.value();if(0==a){y=l-a+(o+d)/100*(l-a);var s=(u=l*i)+(c=(o+d)/100*(l-a)*i)}else try{m.toString().indexOf("%"),m.toString().includes("%");if(-1==m.toString().indexOf("%")){y=(r=l*i-a)+(c=(o+d)/100*r);var u=r;s=y}else{var r,c,y;y=(r=l*i-(a=(a=m.toString().replace("%",""))/100*(l*i)))+(c=(o+d)/100*r),u=r,s=y}}catch(e){}n.PTax.value(c),n.ItemValue.value(u),n.SalTax.value(s),addtotalSum()}}),e("[data-table=view_pharmacygrn][data-field=x_PSGST]").on({change:function(t){var n=(s=e(this).fields()).PSGST.toNumber();s.SSGST.value(n);var i=s.GrnQuantity.toNumber(),l=(s.FreeQty.toNumber(),s.PurValue.toNumber()),a=s.Disc.toNumber(),o=(s.MRP.toNumber(),s.PurValue.toNumber(),((n=s.PSGST.toNumber())+(u=s.PCGST.toNumber()))/100*(l-a)*i),d=(y=l-a+(n+u)/100*(l-a),l*i);s.PTax.value(o.toFixed(2)),s.ItemValue.value(d.toFixed(2));var m=d+o;s.SalTax.value(m.toFixed(2)),addtotalSum();i=(s=e(this).fields()).GrnQuantity.toNumber(),s.FreeQty.toNumber(),l=s.PurValue.toNumber(),a=s.Disc.toNumber(),s.MRP.toNumber(),s.PurValue.toNumber(),n=s.PSGST.toNumber();var s,u=s.PCGST.toNumber(),r=s.Disc.value();if(0==a)y=l-a+(n+u)/100*(l-a),m=(d=l*i)+(o=(n+u)/100*(l-a)*i);else try{r.toString().indexOf("%"),r.toString().includes("%");if(-1==r.toString().indexOf("%"))y=(c=l*i-a)+(o=(n+u)/100*c),d=c,m=y;else{var c,y;y=(c=l*i-(a=(a=r.toString().replace("%",""))/100*(l*i)))+(o=(n+u)/100*c),d=c,m=y}}catch(e){}s.PTax.value(o),s.ItemValue.value(d),s.SalTax.value(m),addtotalSum()}}),e("[data-table=view_pharmacygrn][data-field=x_PCGST]").on({change:function(t){var n=(s=e(this).fields()).PCGST.toNumber();s.SCGST.value(n);var i=s.GrnQuantity.toNumber(),l=(s.FreeQty.toNumber(),s.PurValue.toNumber()),a=s.Disc.toNumber(),o=(s.MRP.toNumber(),s.PurValue.toNumber(),((u=s.PSGST.toNumber())+(n=s.PCGST.toNumber()))/100*(l-a)*i),d=(y=l-a+(u+n)/100*(l-a),l*i);s.PTax.value(o.toFixed(2)),s.ItemValue.value(d.toFixed(2));var m=d+o;s.SalTax.value(m.toFixed(2)),addtotalSum();i=(s=e(this).fields()).GrnQuantity.toNumber(),s.FreeQty.toNumber(),l=s.PurValue.toNumber(),a=s.Disc.toNumber(),s.MRP.toNumber(),s.PurValue.toNumber();var s,u=s.PSGST.toNumber(),r=(n=s.PCGST.toNumber(),s.Disc.value());if(0==a)y=l-a+(u+n)/100*(l-a),m=(d=l*i)+(o=(u+n)/100*(l-a)*i);else try{r.toString().indexOf("%"),r.toString().includes("%");if(-1==r.toString().indexOf("%"))y=(c=l*i-a)+(o=(u+n)/100*c),d=c,m=y;else{var c,y;y=(c=l*i-(a=(a=r.toString().replace("%",""))/100*(l*i)))+(o=(u+n)/100*c),d=c,m=y}}catch(e){}s.PTax.value(o),s.ItemValue.value(d),s.SalTax.value(m),addtotalSum()}}),e("[data-table=view_pharmacygrn][data-field=x_ItemValue]").on({change:function(t){var n=(m=e(this).fields()).GrnQuantity.toNumber(),i=(m.FreeQty.toNumber(),m.PurValue.toNumber()),l=m.Disc.toNumber(),a=(m.MRP.toNumber(),m.PurValue.toNumber(),((s=m.PSGST.toNumber())+(u=m.PCGST.toNumber()))/100*(i-l)*n),o=(y=i-l+(s+u)/100*(i-l),i*n);m.PTax.value(a),m.ItemValue.value(o);var d=o+a;m.SalTax.value(d),addtotalSum();n=(m=e(this).fields()).GrnQuantity.toNumber(),m.FreeQty.toNumber(),i=m.PurValue.toNumber(),l=m.Disc.toNumber(),m.MRP.toNumber(),m.PurValue.toNumber();var m,s=m.PSGST.toNumber(),u=m.PCGST.toNumber(),r=m.Disc.value();if(0==l)y=i-l+(s+u)/100*(i-l),d=(o=i*n)+(a=(s+u)/100*(i-l)*n);else try{r.toString().indexOf("%"),r.toString().includes("%");if(-1==r.toString().indexOf("%"))y=(c=i*n-l)+(a=(s+u)/100*c),o=c,d=y;else{var c,y;y=(c=i*n-(l=(l=r.toString().replace("%",""))/100*(i*n)))+(a=(s+u)/100*c),o=c,d=y}}catch(e){}m.PTax.value(a),m.ItemValue.value(o),m.SalTax.value(d),addtotalSum()}}),e("[data-table=view_pharmacygrn][data-field=x_PurRate]").on({change:function(t){var n=e(this).fields(),i=n.Quantity.toNumber(),l=(n.FreeQty.toNumber(),n.ItemValue.toNumber()),a=n.Disc.toNumber(),o=(n.MRP.toNumber(),l-a+(n.PSGST.toNumber()+n.PCGST.toNumber())/100*(l-a)),d=o*i;n.PurValue.value(o),n.PurRate.value(d)}}),e("[data-table=pharmacy_grn][data-field=x_DT]").on({"change keyup paste mouseup onChangeMonthYear onClose onSelect create picker_event hide changeDate":function(t){var n=e(this).fields(),i=n.DT[0].value.split("/");n.YM.value(i[2]+i[1])}}),e("[data-table=pharmacy_grn][data-field=x_GRNTotalValue]").on({change:function(t){var n=e(this).fields(),i=(n.GRNTotalValue.toNumber(),n.TransPort.toNumber()),l=n.AnyOther.toNumber(),a=n.BillDiscount.toNumber(),o=n.GrnValue.toNumber();$FFGRNTotalValue=o+i+l-a,n.GRNTotalValue.value($FFGRNTotalValue)}}),e("[data-table=pharmacy_grn][data-field=x_BillDiscount]").on({change:function(t){var n=e(this).fields(),i=(n.GRNTotalValue.toNumber(),n.TransPort.toNumber()),l=n.AnyOther.toNumber(),a=n.BillDiscount.toNumber(),o=n.GrnValue.toNumber();$FFGRNTotalValue=o+i+l-a,n.GRNTotalValue.value($FFGRNTotalValue)}}),e("[data-table=pharmacy_grn][data-field=x_TransPort]").on({change:function(t){var n=e(this).fields(),i=(n.GRNTotalValue.toNumber(),n.TransPort.toNumber()),l=n.AnyOther.toNumber(),a=n.BillDiscount.toNumber(),o=n.GrnValue.toNumber();$FFGRNTotalValue=o+i+l-a,n.GRNTotalValue.value($FFGRNTotalValue)}}),e("[data-table=pharmacy_grn][data-field=x_AnyOther]").on({change:function(t){var n=e(this).fields(),i=(n.GRNTotalValue.toNumber(),n.TransPort.toNumber()),l=n.AnyOther.toNumber(),a=n.BillDiscount.toNumber(),o=n.GrnValue.toNumber();$FFGRNTotalValue=o+i+l-a,n.GRNTotalValue.value($FFGRNTotalValue)}}),e("[data-table=view_ivf_treatment_plan][data-field=x_RIDNO]").on({"change keyup":function(t){var n=[{RIDNo:e(this).fields().RIDNO.toNumber()}],i=JSON.stringify(n);e.ajax({type:"GET",url:"ajaxinsert.php?control=ivfCoupleReg",data:{data:i},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var i=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+i.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+i.first_name,document.getElementById("SemPatientGender").innerText="Gender : "+i.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+i.blood_group;var l="";l=""==i.profilePic||null==i.profilePic?"hims/profile-picture.png":i.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+l,document.getElementById("SemPatientAge").innerText="Age : "+i.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+i.mobile_no,document.getElementById("SemPatientEmail").innerText="Email : "+i.PEmail,document.getElementById("SemPartnerId").innerText="Partner Id : "+i.PartnerPatientID,document.getElementById("SemPartnerPatientName").innerText="Partner Name : "+i.Partnerfirst_name,document.getElementById("SemPartnerGender").innerText="Gender : "+i.Partnergender,document.getElementById("SemPartnerBloodGroup").innerText="Blood Group : "+i.Partnerblood_group;l="";l=""==i.PartnerprofilePic||null==i.PartnerprofilePic?"hims/profile-picture.png":i.PartnerprofilePic,document.getElementById("SemPartnerprofilePicturePatient").src="uploads/"+l,document.getElementById("SemPartnerAge").innerText="Age : "+i.PartnerAge,document.getElementById("SemPartnerMobile").innerText="Mobile : "+i.Partnermobile_no,document.getElementById("SemPartnerEmail").innerText="Email : "+i.PartnerPEmail,document.getElementById("partnerdataview").style.display="block",document.getElementById("patientdataview").className="col-md-6"}}})}}),e("[data-table=view_ivf_treatment_plan][data-field=x_ARTCYCLE]").on({click:function(e){document.getElementById("Treatment").style.display="none",document.getElementById("TreatmentTec").style.display="none",document.getElementById("TypeOfCycle").style.display="none",document.getElementById("SpermOrgin").style.display="none",document.getElementById("State").style.display="none",document.getElementById("Origin").style.display="none",document.getElementById("MACS").style.display="none",document.getElementById("Technique").style.display="none",document.getElementById("PgdPlanning").style.display="none",document.getElementById("IMSI").style.display="none",document.getElementById("SequentialCulture").style.display="none",document.getElementById("TimeLapse").style.display="none",document.getElementById("AH").style.display="none",document.getElementById("Weight").style.display="none",document.getElementById("BMI").style.display="none",document.getElementById("TreatmentTreatment").style.display="none",document.getElementById("Ectopic").style.display="none",document.getElementById("use").style.display="none","Intrauterine insemination(IUI)"==this.value&&(document.getElementById("Treatment").style.display="block",document.getElementById("TreatmentTec").style.display="block",document.getElementById("TypeOfCycle").style.display="block",document.getElementById("SpermOrgin").style.display="block",document.getElementById("State").style.display="block",document.getElementById("Origin").style.display="block",document.getElementById("MACS").style.display="block",document.getElementById("Technique").style.display="none",document.getElementById("PgdPlanning").style.display="none",document.getElementById("IMSI").style.display="none",document.getElementById("SequentialCulture").style.display="none",document.getElementById("TimeLapse").style.display="none",document.getElementById("AH").style.display="none",document.getElementById("Weight").style.display="none",document.getElementById("BMI").style.display="none"),"IVF"==this.value&&(document.getElementById("Treatment").style.display="block",document.getElementById("TreatmentTec").style.display="block",document.getElementById("TypeOfCycle").style.display="block",document.getElementById("SpermOrgin").style.display="block",document.getElementById("State").style.display="block",document.getElementById("Origin").style.display="block",document.getElementById("MACS").style.display="block",document.getElementById("Technique").style.display="block",document.getElementById("PgdPlanning").style.display="block",document.getElementById("IMSI").style.display="block",document.getElementById("SequentialCulture").style.display="block",document.getElementById("TimeLapse").style.display="block",document.getElementById("AH").style.display="block",document.getElementById("Weight").style.display="block",document.getElementById("BMI").style.display="block"),"Oocyte Vitrification"==this.value&&(document.getElementById("Treatment").style.display="block",document.getElementById("TreatmentTec").style.display="block",document.getElementById("TypeOfCycle").style.display="block",document.getElementById("SpermOrgin").style.display="block",document.getElementById("State").style.display="block",document.getElementById("Origin").style.display="block",document.getElementById("MACS").style.display="block",document.getElementById("Technique").style.display="block",document.getElementById("PgdPlanning").style.display="block",document.getElementById("IMSI").style.display="block",document.getElementById("SequentialCulture").style.display="block",document.getElementById("TimeLapse").style.display="block",document.getElementById("AH").style.display="block",document.getElementById("Weight").style.display="block",document.getElementById("BMI").style.display="block"),"Egg Donation"==this.value&&(document.getElementById("TypeOfCycle").style.display="block",document.getElementById("Origin").style.display="block",document.getElementById("Ectopic").style.display="block",document.getElementById("use").style.display="block"),"Frozen Embryo Transfer"==this.value&&(document.getElementById("TypeOfCycle").style.display="block",document.getElementById("PgdPlanning").style.display="block",document.getElementById("TreatmentTreatment").style.display="block"),"Evaluation cycle"==this.value&&(document.getElementById("TypeOfCycle").style.display="block",document.getElementById("PgdPlanning").style.display="block",document.getElementById("TreatmentTreatment").style.display="block")}}),e("[data-table=view_donor_ivf][data-field=x_Female]").on({change:function(t){var n=e(this).fields(),i=[{patientId:n.Female.toNumber()}],l=JSON.stringify(i);e.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPicture",data:{data:l},cache:!1,success:function(e){for(var t=JSON.parse(e).records,i=0;i<t.length;i++){var l=t[i];null==l.profilePic?(n.femalepic.value("hims\\profile-picture.png"),document.getElementById("femaleprofilePicturePatient").src="uploads/hims\\profile-picture.png"):(n.femalepic.value(l.profilePic),document.getElementById("femaleprofilePicturePatient").src="uploads/"+l.profilePic),document.getElementById("femaleprofilePicturePatient").style.display="block"}}})}}),e("[data-table=pharmacy_billing_voucher][data-field=x_ModeofPayment]").on({change:function(t){var n=e(this).fields().ModeofPayment.value();"CARD"==n||"PAYTM"==n||"NEFT"==n?(document.getElementById("viewBankName").style.display="block",document.getElementById("viewBankDetails").innerText=n+" Details"):document.getElementById("viewBankName").style.display="none"}}),e("[data-table=view_ip_advance][data-field=x_ModeofPayment]").on({change:function(t){var n=e(this).fields().ModeofPayment.value();"CARD"==n||"PAYTM"==n||"NEFT"==n?(document.getElementById("viewBankName").style.display="block",document.getElementById("viewBankDetails").innerText=n+" Details"):document.getElementById("viewBankName").style.display="none"}}),e("[data-table=depositdetails][data-field=x_DepositDate]").on({"change keyup paste mouseup onChangeMonthYear onClose onSelect create picker_event hide changeDate":function(t){var n=e(this).fields().DepositDate.value().split("/"),i=[{FromDate:n[2]+"-"+n[1]+"-"+n[0]+" 00:00:00",ToDate:n[2]+"-"+n[1]+"-"+n[0]+" 23:59:59",CurrentUserName:document.getElementById("createdbyId").value,CurrentUserID:document.getElementById("HospIDId").value}],l=JSON.stringify(i);e.ajax({type:"GET",url:"ajaxinsert.php?control=TillSearch",data:{data:l},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var i=t[n];"CASH"==i.ModeofPayment&&(document.getElementById("x_CashCollected").value=i.Amount),"CARD"==i.ModeofPayment&&(document.getElementById("x_Card").value=i.Amount),"NEFT"==i.ModeofPayment&&(document.getElementById("x_NEFTRTGS").value=i.Amount),"RTGS"==i.ModeofPayment&&(document.getElementById("x_RTGS").value=i.Amount),"PAYTM"==i.ModeofPayment&&(document.getElementById("x_PAYTM").value=i.Amount),"CHEQUE"==i.ModeofPayment&&(document.getElementById("x_Cheque").value=i.Amount)}}})}}),e("[data-table=depositdetails][data-field=x_DepositToBankSelect]").on({click:function(t){var n=e(this).fields().DepositToBankSelect.value();"Bank"==n&&(document.getElementById("DepositToBankid").style.visibility="visible",document.getElementById("TransferToid").style.visibility="hidden"),"Transfer"==n&&(document.getElementById("DepositToBankid").style.visibility="hidden",document.getElementById("TransferToid").style.visibility="visible")}}),e("[data-table=depositdetails][data-field=x_OpeningBalance]").on({change:function(e){calculateAmount()}}),e("[data-table=depositdetails][data-field=x_Other]").on({change:function(e){calculateAmount()}}),e("[data-table=depositdetails][data-field=x_TotalTransferDepositAmount]").on({change:function(e){calculateAmount()}}),e("[data-table=depositdetails][data-field=x_A2000Count]").on({change:function(e){calculateAmount()}}),e("[data-table=depositdetails][data-field=x_A2000Amount]").on({change:function(e){calculateAmount()}}),e("[data-table=depositdetails][data-field=x_A1000Count]").on({change:function(e){calculateAmount()}}),e("[data-table=depositdetails][data-field=x_A1000Amount]").on({change:function(e){calculateAmount()}}),e("[data-table=depositdetails][data-field=x_A500Count]").on({change:function(e){calculateAmount()}}),e("[data-table=depositdetails][data-field=x_A500Amount]").on({change:function(e){calculateAmount()}}),e("[data-table=depositdetails][data-field=x_A200Count]").on({change:function(e){calculateAmount()}}),e("[data-table=depositdetails][data-field=x_A200Amount]").on({change:function(e){calculateAmount()}}),e("[data-table=depositdetails][data-field=x_A100Count]").on({change:function(e){calculateAmount()}}),e("[data-table=depositdetails][data-field=x_A100Amount]").on({change:function(e){calculateAmount()}}),e("[data-table=depositdetails][data-field=x_A50Count]").on({change:function(e){calculateAmount()}}),e("[data-table=depositdetails][data-field=x_A50Amount]").on({change:function(e){calculateAmount()}}),e("[data-table=depositdetails][data-field=x_A20Count]").on({change:function(e){calculateAmount()}}),e("[data-table=depositdetails][data-field=x_A20Amount]").on({change:function(e){calculateAmount()}}),e("[data-table=depositdetails][data-field=x_A10Count]").on({change:function(e){calculateAmount()}}),e("[data-table=depositdetails][data-field=x_A10Amount]").on({change:function(e){calculateAmount()}}),e("[data-table=view_ip_patient_admission][data-field=x_patient_id]").on({"change keyup":function(t){var n=e(this).fields(),i=[{PatId:n.patient_id.toNumber()}],l=JSON.stringify(i);e.ajax({type:"GET",url:"ajaxinsert.php?control=FindivfCoupleReg",data:{data:l},cache:!1,success:function(e){for(var t=JSON.parse(e).records,i=0;i<t.length;i++){var l=t[i];document.getElementById("x_PartnerID").value=l.PartnerPatientID,document.getElementById("x_PartnerMobile").value=l.Partnermobile_no,document.getElementById("x_PartnerName").value=l.Partnerfirst_name,document.getElementById("x_ReferedByDr").value=l.ReferedBy,document.getElementById("x_Consultant").value=l.Doctor,document.getElementById("lu_x_physician_id").value=l.DrID,null==l.profilePic?(n.profilePic.value("hims\\profile-picture.png"),document.getElementById("patientPropic").src="uploads/hims\\profile-picture.png"):(n.profilePic.value(l.profilePic),document.getElementById("patientPropic").src="uploads/"+l.profilePic)}}})}}),e("[data-table=view_ip_patient_admission][data-field=x_AdviceToOtherHospital]").on({click:function(t){var n=e(this).fields().AdviceToOtherHospital.value();document.getElementById("AdviceToOtherHospitalReason").style.display="Yes"==n?"block":"none"}}),e("[data-table=view_pharmacytransfer][data-field=x_LastMonthSale]").on({change:function(t){var n=e(this).fields(),i=document.getElementById("x_transfer").value;n.BRCODE.value(i)}}),e("[data-table=view_pharmacytransfer][data-field=x_PrName]").on({change:function(t){var n=e(this).fields(),i=document.getElementById("x_transfer").value;n.BRCODE.value(i)}}),e("[data-table=view_pharmacytransfer][data-field=x_Quantity]").on({change:function(t){var n=e(this).fields(),i=n.Quantity.toNumber(),l=n.CurStock.toNumber();i>l&&(alert("Your quantity is exceeded current stock..."),i=l,n.Quantity.value(i));var a=n.MRP.toNumber()*i;n.ItemValue.value(a.toFixed(2))}}),e("[data-table=view_pharmacy_consumption][data-field=x_ConsQTY]").on({change:function(t){var n=e(this).fields(),i=n.ConsQTY.toNumber(),l=n.Stock.toNumber();l<i&&(alert("You cant consume more than stock..."),n.ConsQTY.value(l))}}),e("[data-table=pharmacy_payment][data-field=x_Customername]").on({change:function(t){var n=[{PC:e(this).fields().Customername.value(),HospitalID:document.getElementById("HospitalIDDD").value}],i=JSON.stringify(n);e.ajax({type:"GET",url:"ajaxinsert.php?control=PharmachyGRNSearch",data:{data:i},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var i=t[n],l=0,a='<table id="customers"><tr><th></th><th>GRN No. </th><th>Bill No. </th><th>Bill Date </th><th>Bill Amount</th><th>Paid Amount</th></tr>';for(n=0;n<t.length;n++){a=a+'<tr><td><input type="checkbox" onclick="calulateselectedAmount()" id="select'+n+'" name="select'+n+'"> <input type="hidden" id="Toidcnt'+n+'" name="Toidcnt'+n+'" value="'+(i=t[n]).id+'"></td><td id="GRNNO'+n+'" name="GRNNO'+n+'" >'+i.GRNNO+'</td><td id="BILLNO'+n+'" name="BILLNO'+n+'" >'+i.BILLNO+'</td> <td id="BILLDT'+n+'" name="BILLDT'+n+'" >'+i.BILLDT+'</td><td id="BillTotalValue'+n+'" name="BillTotalValue'+n+'"  style="text-align:right">'+i.BillTotalValue+'</td><td style="width:100px;">  <input  style="text-align:right" type="text"  id="PaidAmount'+n+'" name="PaidAmount'+n+'"   onblur="calulateselectedAmount()" value="'+i.BillTotalValue+'"/></td></tr>';l=parseInt(l)+parseInt(i.BillTotalValue)}a=(a=a+'<tr><td></td><td></td><td></td><td  style="text-align:right" >Total </td><td  style="text-align:right" >'+l.toFixed(2)+'</td><td id="totalAMTtoPay" name="totalAMTtoPay"  style="text-align:right" > 0.00</td></tr></table>')+' <input type="hidden" id="Totttlcnt" name="Totttlcnt" value="'+t.length+'">';t.length>0&&(document.getElementById("loadGrnItems").innerHTML=a)}}})}}),e("[data-table=view_billing_voucher_print][data-field=x_ModeofPayment]").on({change:function(t){var n=e(this).fields().ModeofPayment.value();"CARD"==n||"PAYTM"==n||"NEFT"==n?(document.getElementById("viewBankName").style.display="block",document.getElementById("viewBankDetails").innerText=n+" Details"):document.getElementById("viewBankName").style.display="none"}}),e("[data-table=view_billing_voucher_print][data-field=x_CancelBill]").on({change:function(t){var n=e(this).fields().CancelBill.value();document.getElementById("IIDDCancelBankName").style.display="Cancel NEFT Return"==n||"PAYTM"==n||"NEFT"==n?"block":"none"}}),e("[data-table=view_pharmacy_pharled_return][data-field=x_RT]").on({change:function(t){var n=e(this).fields(),i=n.MRQ.toNumber()*n.RT.toNumber();n.DAMT.value(i),addtotalSum()}}),e("[data-table=view_pharmacy_pharled_return][data-field=x_MRQ]").on({change:function(t){var n=e(this).fields(),i=n.MRQ.toNumber()*n.RT.toNumber();n.DAMT.value(i),addtotalSum()}}),e("[data-table=monitor_treatment_plan][data-field=x_Treatment]").on({change:function(t){var n=e(this).fields().Treatment.value();document.getElementById("stIUIDetails").style.display="none",document.getElementById("IVFviewBankName").style.display="none",document.getElementById("FETviewBankName").style.display="none","IUI"==n&&(document.getElementById("stIUIDetails").style.display="block",document.getElementById("IVFviewBankName").style.display="none",document.getElementById("FETviewBankName").style.display="none"),"IVF"==n&&(document.getElementById("stIUIDetails").style.display="none",document.getElementById("IVFviewBankName").style.display="block",document.getElementById("FETviewBankName").style.display="none"),"FET"==n&&(document.getElementById("stIUIDetails").style.display="none",document.getElementById("IVFviewBankName").style.display="none",document.getElementById("FETviewBankName").style.display="block"),"NC"==n&&(document.getElementById("stIUIDetails").style.display="none",document.getElementById("IVFviewBankName").style.display="none",document.getElementById("FETviewBankName").style.display="none")}}),e("[data-table=view_lab_service][data-field=x_SERVICE_TYPE]").on({change:function(t){var n=e(this).fields(),i=(n.DEPARTMENT.value(),[{SERVICETYPE:n.SERVICE_TYPE.value()}]),l=JSON.stringify(i);e.ajax({type:"GET",url:"ajaxinsert.php?control=labservicetesttestno",data:{data:l},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var i=t[n],l=parseInt(i.Count)+parseInt(1),a=i.SERVICETYPE+String(l).padStart(4,"0");document.getElementById("x_CODE").value=a}}})}}),e("[data-table=patient_room][data-field=x_Reception]").on({change:function(t){var n=[{patientId:e(this).fields().Reception.toNumber()}],i=JSON.stringify(n);e.ajax({type:"GET",url:"ajaxinsert.php?control=patientProPictureMRN",data:{data:i},cache:!1,success:function(e){for(var t=JSON.parse(e).records,n=0;n<t.length;n++){var i=t[n];document.getElementById("SemPatientId").innerText="Patient Id : "+i.PatientID,document.getElementById("SemPatientPatientName").innerText="Patient Name : "+i.first_name,null==i.gender&&(i.gender=""),null==i.blood_group&&(i.blood_group=""),null==i.Age&&(i.Age=""),null==i.mobile_no&&(i.mobile_no=""),null==i.PEmail&&(i.PEmail=""),null==i.mrnNo&&(i.mrnNo=""),document.getElementById("SemPatientGender").innerText="Gender : "+i.gender,document.getElementById("SemPatientBloodGroup").innerText="Blood Group : "+i.blood_group;var l="";l=""==i.profilePic||null==i.profilePic?"hims/profile-picture.png":i.profilePic,document.getElementById("profilePicturePatient").src="uploads/"+l,document.getElementById("SemPatientAge").innerText="Age : "+i.Age,document.getElementById("SemPatientMobile").innerText="Mobile : "+i.mobile_no,document.getElementById("SemPatientEmail").innerText="MRN No : "+i.mrnNo,document.getElementById("x_Reception").value=i.Reception,document.getElementById("x_PatientId").value=i.patientIdOne,document.getElementById("x_mrnno").value=i.mrnNo,document.getElementById("x_PatientName").value=i.first_name,document.getElementById("x_Age").value=i.Age,document.getElementById("x_Gender").value=i.gender,document.getElementById("x_profilePic").value=l,document.getElementById("x_PatID").value=i.PatientID,document.getElementById("x_MobileNumber").value=i.mobile_no}}})}})});
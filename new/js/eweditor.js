/**
 * Create HTML Editor (for PHPMaker 2020)
 * @license (C) 2020 e.World Technology Ltd.
 */
CKEDITOR.env.cssClass="ew-editor",ew.createEditor=function(e,t,n,i,a){if("undefined"!=typeof CKEDITOR&&!t.includes("$rowindex$")){var s=jQuery,r=s("#"+e)[0],o=ew.getElement(t,r);if(o){n&&Math.abs(n);var c=1.5*((i?Math.abs(i):4)+4)+"em",d=(ew.LANGUAGE_ID||"").toLowerCase();"zh-hk"!=d&&"zh-tw"!=d&&"de-at"!=d&&"pt-pt"!=d&&"es-419"!=d||(d=d.substring(0,2));var l={id:t,form:r,enabled:!0,settings:{height:c,language:d,autoUpdateElement:!1,filebrowserBrowseUrl:"vendor/servocoder/richfilemanager/index.html?config=filemanager.config.json.php",baseHref:""}};if(s(document).trigger("create.editor",[l]),l.enabled){a&&(l.settings.readOnly=!0,l.settings.toolbar=[["Source"]]);var u={name:t,active:!1,instance:null,create:function(){(this.instance=CKEDITOR.replace(o,l.settings)).on("loaded",ew.fixLayoutHeight),this.active=!0},set:function(){this.instance&&this.instance.setData(this.instance.element.value)},save:function(){this.instance&&this.instance.updateElement();var e={id:t,form:r,value:ew.removeSpaces(o.value)};s(document).trigger("save.editor",[e]).val(e.value)},focus:function(){this.instance&&this.instance.focus()},destroy:function(){this.instance&&this.instance.destroy()}};s(o).data("editor",u).addClass("editor")}}}};